(self.webpackChunkapp_studio_enterprise_relationship_diagram=self.webpackChunkapp_studio_enterprise_relationship_diagram||[]).push([[5226,3308],{66716:(rt,$,f)=>{var a;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(N,d,_,v){"use strict";var E=["","webkit","Moz","MS","ms","o"],u=d.createElement("div"),T="function",P=Math.round,m=Math.abs,s=Date.now;function e(S,b,G){return setTimeout(x(S,G),b)}function l(S,b,G){return Array.isArray(S)?(n(S,G[b],G),!0):!1}function n(S,b,G){var tt;if(S)if(S.forEach)S.forEach(b,G);else if(S.length!==v)for(tt=0;tt<S.length;)b.call(G,S[tt],tt,S),tt++;else for(tt in S)S.hasOwnProperty(tt)&&b.call(G,S[tt],tt,S)}function o(S,b,G){var tt="DEPRECATED METHOD: "+b+`
`+G+` AT 
`;return function(){var at=new Error("get-stack-trace"),ct=at&&at.stack?at.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",dt=N.console&&(N.console.warn||N.console.log);return dt&&dt.call(N.console,tt,ct),S.apply(this,arguments)}}var i;typeof Object.assign!="function"?i=function(b){if(b===v||b===null)throw new TypeError("Cannot convert undefined or null to object");for(var G=Object(b),tt=1;tt<arguments.length;tt++){var at=arguments[tt];if(at!==v&&at!==null)for(var ct in at)at.hasOwnProperty(ct)&&(G[ct]=at[ct])}return G}:i=Object.assign;var p=o(function(b,G,tt){for(var at=Object.keys(G),ct=0;ct<at.length;)(!tt||tt&&b[at[ct]]===v)&&(b[at[ct]]=G[at[ct]]),ct++;return b},"extend","Use `assign`."),g=o(function(b,G){return p(b,G,!0)},"merge","Use `assign`.");function h(S,b,G){var tt=b.prototype,at;at=S.prototype=Object.create(tt),at.constructor=S,at._super=tt,G&&i(at,G)}function x(S,b){return function(){return S.apply(b,arguments)}}function A(S,b){return typeof S==T?S.apply(b&&b[0]||v,b):S}function U(S,b){return S===v?b:S}function w(S,b,G){n(Y(b),function(tt){S.addEventListener(tt,G,!1)})}function L(S,b,G){n(Y(b),function(tt){S.removeEventListener(tt,G,!1)})}function D(S,b){for(;S;){if(S==b)return!0;S=S.parentNode}return!1}function B(S,b){return S.indexOf(b)>-1}function Y(S){return S.trim().split(/\s+/g)}function Z(S,b,G){if(S.indexOf&&!G)return S.indexOf(b);for(var tt=0;tt<S.length;){if(G&&S[tt][G]==b||!G&&S[tt]===b)return tt;tt++}return-1}function ot(S){return Array.prototype.slice.call(S,0)}function et(S,b,G){for(var tt=[],at=[],ct=0;ct<S.length;){var dt=b?S[ct][b]:S[ct];Z(at,dt)<0&&tt.push(S[ct]),at[ct]=dt,ct++}return G&&(b?tt=tt.sort(function(yt,mt){return yt[b]>mt[b]}):tt=tt.sort()),tt}function H(S,b){for(var G,tt,at=b[0].toUpperCase()+b.slice(1),ct=0;ct<E.length;){if(G=E[ct],tt=G?G+at:b,tt in S)return tt;ct++}return v}var W=1;function M(){return W++}function C(S){var b=S.ownerDocument||S;return b.defaultView||b.parentWindow||N}var R=/mobile|tablet|ip(ad|hone|od)|android/i,y="ontouchstart"in N,t=H(N,"PointerEvent")!==v,r=y&&R.test(navigator.userAgent),c="touch",O="pen",F="mouse",z="kinect",Q=25,X=1,q=2,it=4,K=8,k=1,V=2,I=4,j=8,J=16,nt=V|I,st=j|J,ut=nt|st,lt=["x","y"],ft=["clientX","clientY"];function ht(S,b){var G=this;this.manager=S,this.callback=b,this.element=S.element,this.target=S.options.inputTarget,this.domHandler=function(tt){A(S.options.enable,[S])&&G.handler(tt)},this.init()}ht.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&L(this.element,this.evEl,this.domHandler),this.evTarget&&L(this.target,this.evTarget,this.domHandler),this.evWin&&L(C(this.element),this.evWin,this.domHandler)}};function pt(S){var b,G=S.options.inputClass;return G?b=G:t?b=bt:r?b=Qt:y?b=se:b=Rt,new b(S,vt)}function vt(S,b,G){var tt=G.pointers.length,at=G.changedPointers.length,ct=b&X&&tt-at===0,dt=b&(it|K)&&tt-at===0;G.isFirst=!!ct,G.isFinal=!!dt,ct&&(S.session={}),G.eventType=b,Pt(S,G),S.emit("hammer.input",G),S.recognize(G),S.session.prevInput=G}function Pt(S,b){var G=S.session,tt=b.pointers,at=tt.length;G.firstInput||(G.firstInput=Ht(b)),at>1&&!G.firstMultiple?G.firstMultiple=Ht(b):at===1&&(G.firstMultiple=!1);var ct=G.firstInput,dt=G.firstMultiple,gt=dt?dt.center:ct.center,yt=b.center=jt(tt);b.timeStamp=s(),b.deltaTime=b.timeStamp-ct.timeStamp,b.angle=Lt(gt,yt),b.distance=It(gt,yt),ie(G,b),b.offsetDirection=Gt(b.deltaX,b.deltaY);var mt=zt(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=mt.x,b.overallVelocityY=mt.y,b.overallVelocity=m(mt.x)>m(mt.y)?mt.x:mt.y,b.scale=dt?Vt(dt.pointers,tt):1,b.rotation=dt?kt(dt.pointers,tt):0,b.maxPointers=G.prevInput?b.pointers.length>G.prevInput.maxPointers?b.pointers.length:G.prevInput.maxPointers:b.pointers.length,re(G,b);var Tt=S.element;D(b.srcEvent.target,Tt)&&(Tt=b.srcEvent.target),b.target=Tt}function ie(S,b){var G=b.center,tt=S.offsetDelta||{},at=S.prevDelta||{},ct=S.prevInput||{};(b.eventType===X||ct.eventType===it)&&(at=S.prevDelta={x:ct.deltaX||0,y:ct.deltaY||0},tt=S.offsetDelta={x:G.x,y:G.y}),b.deltaX=at.x+(G.x-tt.x),b.deltaY=at.y+(G.y-tt.y)}function re(S,b){var G=S.lastInterval||b,tt=b.timeStamp-G.timeStamp,at,ct,dt,gt;if(b.eventType!=K&&(tt>Q||G.velocity===v)){var yt=b.deltaX-G.deltaX,mt=b.deltaY-G.deltaY,Tt=zt(tt,yt,mt);ct=Tt.x,dt=Tt.y,at=m(Tt.x)>m(Tt.y)?Tt.x:Tt.y,gt=Gt(yt,mt),S.lastInterval=b}else at=G.velocity,ct=G.velocityX,dt=G.velocityY,gt=G.direction;b.velocity=at,b.velocityX=ct,b.velocityY=dt,b.direction=gt}function Ht(S){for(var b=[],G=0;G<S.pointers.length;)b[G]={clientX:P(S.pointers[G].clientX),clientY:P(S.pointers[G].clientY)},G++;return{timeStamp:s(),pointers:b,center:jt(b),deltaX:S.deltaX,deltaY:S.deltaY}}function jt(S){var b=S.length;if(b===1)return{x:P(S[0].clientX),y:P(S[0].clientY)};for(var G=0,tt=0,at=0;at<b;)G+=S[at].clientX,tt+=S[at].clientY,at++;return{x:P(G/b),y:P(tt/b)}}function zt(S,b,G){return{x:b/S||0,y:G/S||0}}function Gt(S,b){return S===b?k:m(S)>=m(b)?S<0?V:I:b<0?j:J}function It(S,b,G){G||(G=lt);var tt=b[G[0]]-S[G[0]],at=b[G[1]]-S[G[1]];return Math.sqrt(tt*tt+at*at)}function Lt(S,b,G){G||(G=lt);var tt=b[G[0]]-S[G[0]],at=b[G[1]]-S[G[1]];return Math.atan2(at,tt)*180/Math.PI}function kt(S,b){return Lt(b[1],b[0],ft)+Lt(S[1],S[0],ft)}function Vt(S,b){return It(b[0],b[1],ft)/It(S[0],S[1],ft)}var Yt={mousedown:X,mousemove:q,mouseup:it},At="mousedown",$t="mousemove mouseup";function Rt(){this.evEl=At,this.evWin=$t,this.pressed=!1,ht.apply(this,arguments)}h(Rt,ht,{handler:function(b){var G=Yt[b.type];G&X&&b.button===0&&(this.pressed=!0),G&q&&b.which!==1&&(G=it),this.pressed&&(G&it&&(this.pressed=!1),this.callback(this.manager,G,{pointers:[b],changedPointers:[b],pointerType:F,srcEvent:b}))}});var Xt={pointerdown:X,pointermove:q,pointerup:it,pointercancel:K,pointerout:K},xt={2:c,3:O,4:F,5:z},Zt="pointerdown",Nt="pointermove pointerup pointercancel";N.MSPointerEvent&&!N.PointerEvent&&(Zt="MSPointerDown",Nt="MSPointerMove MSPointerUp MSPointerCancel");function bt(){this.evEl=Zt,this.evWin=Nt,ht.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}h(bt,ht,{handler:function(b){var G=this.store,tt=!1,at=b.type.toLowerCase().replace("ms",""),ct=Xt[at],dt=xt[b.pointerType]||b.pointerType,gt=dt==c,yt=Z(G,b.pointerId,"pointerId");ct&X&&(b.button===0||gt)?yt<0&&(G.push(b),yt=G.length-1):ct&(it|K)&&(tt=!0),!(yt<0)&&(G[yt]=b,this.callback(this.manager,ct,{pointers:G,changedPointers:[b],pointerType:dt,srcEvent:b}),tt&&G.splice(yt,1))}});var Bt={touchstart:X,touchmove:q,touchend:it,touchcancel:K},oe="touchstart",ae="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=oe,this.evWin=ae,this.started=!1,ht.apply(this,arguments)}h(ve,ht,{handler:function(b){var G=Bt[b.type];if(G===X&&(this.started=!0),!!this.started){var tt=Oe.call(this,b,G);G&(it|K)&&tt[0].length-tt[1].length===0&&(this.started=!1),this.callback(this.manager,G,{pointers:tt[0],changedPointers:tt[1],pointerType:c,srcEvent:b})}}});function Oe(S,b){var G=ot(S.touches),tt=ot(S.changedTouches);return b&(it|K)&&(G=et(G.concat(tt),"identifier",!0)),[G,tt]}var Ae={touchstart:X,touchmove:q,touchend:it,touchcancel:K},we="touchstart touchmove touchend touchcancel";function Qt(){this.evTarget=we,this.targetIds={},ht.apply(this,arguments)}h(Qt,ht,{handler:function(b){var G=Ae[b.type],tt=Re.call(this,b,G);tt&&this.callback(this.manager,G,{pointers:tt[0],changedPointers:tt[1],pointerType:c,srcEvent:b})}});function Re(S,b){var G=ot(S.touches),tt=this.targetIds;if(b&(X|q)&&G.length===1)return tt[G[0].identifier]=!0,[G,G];var at,ct,dt=ot(S.changedTouches),gt=[],yt=this.target;if(ct=G.filter(function(mt){return D(mt.target,yt)}),b===X)for(at=0;at<ct.length;)tt[ct[at].identifier]=!0,at++;for(at=0;at<dt.length;)tt[dt[at].identifier]&&gt.push(dt[at]),b&(it|K)&&delete tt[dt[at].identifier],at++;if(gt.length)return[et(ct.concat(gt),"identifier",!0),gt]}var Se=2500,ge=25;function se(){ht.apply(this,arguments);var S=x(this.handler,this);this.touch=new Qt(this.manager,S),this.mouse=new Rt(this.manager,S),this.primaryTouch=null,this.lastTouches=[]}h(se,ht,{handler:function(b,G,tt){var at=tt.pointerType==c,ct=tt.pointerType==F;if(!(ct&&tt.sourceCapabilities&&tt.sourceCapabilities.firesTouchEvents)){if(at)De.call(this,G,tt);else if(ct&&Ie.call(this,tt))return;this.callback(b,G,tt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function De(S,b){S&X?(this.primaryTouch=b.changedPointers[0].identifier,ye.call(this,b)):S&(it|K)&&ye.call(this,b)}function ye(S){var b=S.changedPointers[0];if(b.identifier===this.primaryTouch){var G={x:b.clientX,y:b.clientY};this.lastTouches.push(G);var tt=this.lastTouches,at=function(){var ct=tt.indexOf(G);ct>-1&&tt.splice(ct,1)};setTimeout(at,Se)}}function Ie(S){for(var b=S.srcEvent.clientX,G=S.srcEvent.clientY,tt=0;tt<this.lastTouches.length;tt++){var at=this.lastTouches[tt],ct=Math.abs(b-at.x),dt=Math.abs(G-at.y);if(ct<=ge&&dt<=ge)return!0}return!1}var me=H(u.style,"touchAction"),_e=me!==v,Ee="compute",xe="auto",ce="manipulation",St="none",Wt="pan-x",Ft="pan-y",Jt=be();function ue(S,b){this.manager=S,this.set(b)}ue.prototype={set:function(S){S==Ee&&(S=this.compute()),_e&&this.manager.element.style&&Jt[S]&&(this.manager.element.style[me]=S),this.actions=S.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var S=[];return n(this.manager.recognizers,function(b){A(b.options.enable,[b])&&(S=S.concat(b.getTouchAction()))}),Le(S.join(" "))},preventDefaults:function(S){var b=S.srcEvent,G=S.offsetDirection;if(this.manager.session.prevented){b.preventDefault();return}var tt=this.actions,at=B(tt,St)&&!Jt[St],ct=B(tt,Ft)&&!Jt[Ft],dt=B(tt,Wt)&&!Jt[Wt];if(at){var gt=S.pointers.length===1,yt=S.distance<2,mt=S.deltaTime<250;if(gt&&yt&&mt)return}if(!(dt&&ct)&&(at||ct&&G&nt||dt&&G&st))return this.preventSrc(b)},preventSrc:function(S){this.manager.session.prevented=!0,S.preventDefault()}};function Le(S){if(B(S,St))return St;var b=B(S,Wt),G=B(S,Ft);return b&&G?St:b||G?b?Wt:Ft:B(S,ce)?ce:xe}function be(){if(!_e)return!1;var S={},b=N.CSS&&N.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(G){S[G]=b?N.CSS.supports("touch-action",G):!0}),S}var qt=1,_t=2,Ut=4,wt=8,Mt=wt,Kt=16,Ct=32;function Ot(S){this.options=i({},this.defaults,S||{}),this.id=M(),this.manager=null,this.options.enable=U(this.options.enable,!0),this.state=qt,this.simultaneous={},this.requireFail=[]}Ot.prototype={defaults:{},set:function(S){return i(this.options,S),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(S){if(l(S,"recognizeWith",this))return this;var b=this.simultaneous;return S=te(S,this),b[S.id]||(b[S.id]=S,S.recognizeWith(this)),this},dropRecognizeWith:function(S){return l(S,"dropRecognizeWith",this)?this:(S=te(S,this),delete this.simultaneous[S.id],this)},requireFailure:function(S){if(l(S,"requireFailure",this))return this;var b=this.requireFail;return S=te(S,this),Z(b,S)===-1&&(b.push(S),S.requireFailure(this)),this},dropRequireFailure:function(S){if(l(S,"dropRequireFailure",this))return this;S=te(S,this);var b=Z(this.requireFail,S);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(S){return!!this.simultaneous[S.id]},emit:function(S){var b=this,G=this.state;function tt(at){b.manager.emit(at,S)}G<wt&&tt(b.options.event+Ce(G)),tt(b.options.event),S.additionalEvent&&tt(S.additionalEvent),G>=wt&&tt(b.options.event+Ce(G))},tryEmit:function(S){if(this.canEmit())return this.emit(S);this.state=Ct},canEmit:function(){for(var S=0;S<this.requireFail.length;){if(!(this.requireFail[S].state&(Ct|qt)))return!1;S++}return!0},recognize:function(S){var b=i({},S);if(!A(this.options.enable,[this,b])){this.reset(),this.state=Ct;return}this.state&(Mt|Kt|Ct)&&(this.state=qt),this.state=this.process(b),this.state&(_t|Ut|wt|Kt)&&this.tryEmit(b)},process:function(S){},getTouchAction:function(){},reset:function(){}};function Ce(S){return S&Kt?"cancel":S&wt?"end":S&Ut?"move":S&_t?"start":""}function Te(S){return S==J?"down":S==j?"up":S==V?"left":S==I?"right":""}function te(S,b){var G=b.manager;return G?G.get(S):S}function Et(){Ot.apply(this,arguments)}h(Et,Ot,{defaults:{pointers:1},attrTest:function(S){var b=this.options.pointers;return b===0||S.pointers.length===b},process:function(S){var b=this.state,G=S.eventType,tt=b&(_t|Ut),at=this.attrTest(S);return tt&&(G&K||!at)?b|Kt:tt||at?G&it?b|wt:b&_t?b|Ut:_t:Ct}});function ee(){Et.apply(this,arguments),this.pX=null,this.pY=null}h(ee,Et,{defaults:{event:"pan",threshold:10,pointers:1,direction:ut},getTouchAction:function(){var S=this.options.direction,b=[];return S&nt&&b.push(Ft),S&st&&b.push(Wt),b},directionTest:function(S){var b=this.options,G=!0,tt=S.distance,at=S.direction,ct=S.deltaX,dt=S.deltaY;return at&b.direction||(b.direction&nt?(at=ct===0?k:ct<0?V:I,G=ct!=this.pX,tt=Math.abs(S.deltaX)):(at=dt===0?k:dt<0?j:J,G=dt!=this.pY,tt=Math.abs(S.deltaY))),S.direction=at,G&&tt>b.threshold&&at&b.direction},attrTest:function(S){return Et.prototype.attrTest.call(this,S)&&(this.state&_t||!(this.state&_t)&&this.directionTest(S))},emit:function(S){this.pX=S.deltaX,this.pY=S.deltaY;var b=Te(S.direction);b&&(S.additionalEvent=this.options.event+b),this._super.emit.call(this,S)}});function fe(){Et.apply(this,arguments)}h(fe,Et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(S){return this._super.attrTest.call(this,S)&&(Math.abs(S.scale-1)>this.options.threshold||this.state&_t)},emit:function(S){if(S.scale!==1){var b=S.scale<1?"in":"out";S.additionalEvent=this.options.event+b}this._super.emit.call(this,S)}});function le(){Ot.apply(this,arguments),this._timer=null,this._input=null}h(le,Ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(S){var b=this.options,G=S.pointers.length===b.pointers,tt=S.distance<b.threshold,at=S.deltaTime>b.time;if(this._input=S,!tt||!G||S.eventType&(it|K)&&!at)this.reset();else if(S.eventType&X)this.reset(),this._timer=e(function(){this.state=Mt,this.tryEmit()},b.time,this);else if(S.eventType&it)return Mt;return Ct},reset:function(){clearTimeout(this._timer)},emit:function(S){this.state===Mt&&(S&&S.eventType&it?this.manager.emit(this.options.event+"up",S):(this._input.timeStamp=s(),this.manager.emit(this.options.event,this._input)))}});function he(){Et.apply(this,arguments)}h(he,Et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(S){return this._super.attrTest.call(this,S)&&(Math.abs(S.rotation)>this.options.threshold||this.state&_t)}});function de(){Et.apply(this,arguments)}h(de,Et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:nt|st,pointers:1},getTouchAction:function(){return ee.prototype.getTouchAction.call(this)},attrTest:function(S){var b=this.options.direction,G;return b&(nt|st)?G=S.overallVelocity:b&nt?G=S.overallVelocityX:b&st&&(G=S.overallVelocityY),this._super.attrTest.call(this,S)&&b&S.offsetDirection&&S.distance>this.options.threshold&&S.maxPointers==this.options.pointers&&m(G)>this.options.velocity&&S.eventType&it},emit:function(S){var b=Te(S.offsetDirection);b&&this.manager.emit(this.options.event+b,S),this.manager.emit(this.options.event,S)}});function ne(){Ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}h(ne,Ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ce]},process:function(S){var b=this.options,G=S.pointers.length===b.pointers,tt=S.distance<b.threshold,at=S.deltaTime<b.time;if(this.reset(),S.eventType&X&&this.count===0)return this.failTimeout();if(tt&&at&&G){if(S.eventType!=it)return this.failTimeout();var ct=this.pTime?S.timeStamp-this.pTime<b.interval:!0,dt=!this.pCenter||It(this.pCenter,S.center)<b.posThreshold;this.pTime=S.timeStamp,this.pCenter=S.center,!dt||!ct?this.count=1:this.count+=1,this._input=S;var gt=this.count%b.taps;if(gt===0)return this.hasRequireFailures()?(this._timer=e(function(){this.state=Mt,this.tryEmit()},b.interval,this),_t):Mt}return Ct},failTimeout:function(){return this._timer=e(function(){this.state=Ct},this.options.interval,this),Ct},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Dt(S,b){return b=b||{},b.recognizers=U(b.recognizers,Dt.defaults.preset),new pe(S,b)}Dt.VERSION="2.0.7",Dt.defaults={domEvents:!1,touchAction:Ee,enable:!0,inputTarget:null,inputClass:null,preset:[[he,{enable:!1}],[fe,{enable:!1},["rotate"]],[de,{direction:nt}],[ee,{direction:nt},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[le]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Be=1,Pe=2;function pe(S,b){this.options=i({},Dt.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||S,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=S,this.input=pt(this),this.touchAction=new ue(this,this.options.touchAction),Me(this,!0),n(this.options.recognizers,function(G){var tt=this.add(new G[0](G[1]));G[2]&&tt.recognizeWith(G[2]),G[3]&&tt.requireFailure(G[3])},this)}pe.prototype={set:function(S){return i(this.options,S),S.touchAction&&this.touchAction.update(),S.inputTarget&&(this.input.destroy(),this.input.target=S.inputTarget,this.input.init()),this},stop:function(S){this.session.stopped=S?Pe:Be},recognize:function(S){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(S);var G,tt=this.recognizers,at=b.curRecognizer;(!at||at&&at.state&Mt)&&(at=b.curRecognizer=null);for(var ct=0;ct<tt.length;)G=tt[ct],b.stopped!==Pe&&(!at||G==at||G.canRecognizeWith(at))?G.recognize(S):G.reset(),!at&&G.state&(_t|Ut|wt)&&(at=b.curRecognizer=G),ct++}},get:function(S){if(S instanceof Ot)return S;for(var b=this.recognizers,G=0;G<b.length;G++)if(b[G].options.event==S)return b[G];return null},add:function(S){if(l(S,"add",this))return this;var b=this.get(S.options.event);return b&&this.remove(b),this.recognizers.push(S),S.manager=this,this.touchAction.update(),S},remove:function(S){if(l(S,"remove",this))return this;if(S=this.get(S),S){var b=this.recognizers,G=Z(b,S);G!==-1&&(b.splice(G,1),this.touchAction.update())}return this},on:function(S,b){if(S!==v&&b!==v){var G=this.handlers;return n(Y(S),function(tt){G[tt]=G[tt]||[],G[tt].push(b)}),this}},off:function(S,b){if(S!==v){var G=this.handlers;return n(Y(S),function(tt){b?G[tt]&&G[tt].splice(Z(G[tt],b),1):delete G[tt]}),this}},emit:function(S,b){this.options.domEvents&&Ue(S,b);var G=this.handlers[S]&&this.handlers[S].slice();if(!(!G||!G.length)){b.type=S,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var tt=0;tt<G.length;)G[tt](b),tt++}},destroy:function(){this.element&&Me(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Me(S,b){var G=S.element;if(G.style){var tt;n(S.options.cssProps,function(at,ct){tt=H(G.style,ct),b?(S.oldCssProps[tt]=G.style[tt],G.style[tt]=at):G.style[tt]=S.oldCssProps[tt]||""}),b||(S.oldCssProps={})}}function Ue(S,b){var G=d.createEvent("Event");G.initEvent(S,!0,!0),G.gesture=b,b.target.dispatchEvent(G)}i(Dt,{INPUT_START:X,INPUT_MOVE:q,INPUT_END:it,INPUT_CANCEL:K,STATE_POSSIBLE:qt,STATE_BEGAN:_t,STATE_CHANGED:Ut,STATE_ENDED:wt,STATE_RECOGNIZED:Mt,STATE_CANCELLED:Kt,STATE_FAILED:Ct,DIRECTION_NONE:k,DIRECTION_LEFT:V,DIRECTION_RIGHT:I,DIRECTION_UP:j,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:nt,DIRECTION_VERTICAL:st,DIRECTION_ALL:ut,Manager:pe,Input:ht,TouchAction:ue,TouchInput:Qt,MouseInput:Rt,PointerEventInput:bt,TouchMouseInput:se,SingleTouchInput:ve,Recognizer:Ot,AttrRecognizer:Et,Tap:ne,Pan:ee,Swipe:de,Pinch:fe,Rotate:he,Press:le,on:w,off:L,each:n,merge:g,extend:p,assign:i,inherit:h,bindFn:x,prefixed:H});var Ne=typeof N<"u"?N:typeof self<"u"?self:{};Ne.Hammer=Dt,a=function(){return Dt}.call($,f,$,rt),a!==v&&(rt.exports=a)})(window,document,"Hammer")},51270:rt=>{typeof Object.create=="function"?rt.exports=function(f,a){a&&(f.super_=a,f.prototype=Object.create(a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}))}:rt.exports=function(f,a){if(a){f.super_=a;var N=function(){};N.prototype=a.prototype,f.prototype=new N,f.prototype.constructor=f}}},82867:(rt,$,f)=>{rt.exports=f(49389),rt.exports.Collection=f(12251)},12251:rt=>{function $(a,N,d,_){var v=d.inverse;return Object.defineProperty(a,"remove",{value:function(E){var u=this.indexOf(E);return u!==-1&&(this.splice(u,1),N.unset(E,v,_)),E}}),Object.defineProperty(a,"contains",{value:function(E){return this.indexOf(E)!==-1}}),Object.defineProperty(a,"add",{value:function(E,u){var T=this.indexOf(E);if(typeof u>"u"){if(T!==-1)return;u=this.length}T!==-1&&this.splice(T,1),this.splice(u,0,E),T===-1&&N.set(E,v,_)}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function f(a){return a.__refs_collection===!0}rt.exports.extend=$,rt.exports.isExtended=f},49389:(rt,$,f)=>{var a=f(12251);function N(E,u){return Object.prototype.hasOwnProperty.call(E,u.name||u)}function d(E,u,T){var P=a.extend(T[u.name]||[],E,u,T);Object.defineProperty(T,u.name,{enumerable:u.enumerable,value:P}),P.length&&P.forEach(function(m){E.set(m,u.inverse,T)})}function _(E,u,T){var P=u.inverse,m=T[u.name];Object.defineProperty(T,u.name,{configurable:u.configurable,enumerable:u.enumerable,get:function(){return m},set:function(s){if(s!==m){var e=m;m=null,e&&E.unset(e,P,T),m=s,E.set(m,P,T)}}})}function v(E,u){if(!(this instanceof v))return new v(E,u);E.inverse=u,u.inverse=E,this.props={},this.props[E.name]=E,this.props[u.name]=u}v.prototype.bind=function(E,u){if(typeof u=="string"){if(!this.props[u])throw new Error("no property <"+u+"> in ref");u=this.props[u]}u.collection?d(this,u,E):_(this,u,E)},v.prototype.ensureRefsCollection=function(E,u){var T=E[u.name];return a.isExtended(T)||d(this,u,E),T},v.prototype.ensureBound=function(E,u){N(E,u)||this.bind(E,u)},v.prototype.unset=function(E,u,T){E&&(this.ensureBound(E,u),u.collection?this.ensureRefsCollection(E,u).remove(T):E[u.name]=void 0)},v.prototype.set=function(E,u,T){E&&(this.ensureBound(E,u),u.collection?this.ensureRefsCollection(E,u).add(T):E[u.name]=T)},rt.exports=v},38305:rt=>{var $=/,?([a-z]),?/gi,f=parseFloat,a=Math,N=a.PI,d=a.min,_=a.max,v=a.pow,E=a.abs,u=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,T=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,P=Array.isArray||function(y){return y instanceof Array};function m(y,t){return Object.prototype.hasOwnProperty.call(y,t)}function s(y){if(typeof y=="function"||Object(y)!==y)return y;var t=new y.constructor;for(var r in y)m(y,r)&&(t[r]=s(y[r]));return t}function e(y,t){for(var r=0,c=y.length;r<c;r++)if(y[r]===t)return y.push(y.splice(r,1)[0])}function l(y){function t(){var r=Array.prototype.slice.call(arguments,0),c=r.join("\u2400"),O=t.cache=t.cache||{},F=t.count=t.count||[];return m(O,c)?(e(F,c),O[c]):(F.length>=1e3&&delete O[F.shift()],F.push(c),O[c]=y.apply(0,r),O[c])}return t}function n(y){if(!y)return null;var t=o(y);if(t.arr)return s(t.arr);var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];return P(y)&&P(y[0])&&(c=s(y)),c.length||String(y).replace(u,function(O,F,z){var Q=[],X=F.toLowerCase();for(z.replace(T,function(q,it){it&&Q.push(+it)}),X=="m"&&Q.length>2&&(c.push([F].concat(Q.splice(0,2))),X="l",F=F=="m"?"l":"L");Q.length>=r[X]&&(c.push([F].concat(Q.splice(0,r[X]))),!!r[X]););}),c.toString=o.toString,t.arr=s(c),c}function o(y){var t=o.ps=o.ps||{};return t[y]?t[y].sleep=100:t[y]={sleep:100},setTimeout(function(){for(var r in t)m(t,r)&&r!=y&&(t[r].sleep--,!t[r].sleep&&delete t[r])}),t[y]}function i(y,t,r,c){return arguments.length===1&&(t=y.y,r=y.width,c=y.height,y=y.x),{x:y,y:t,width:r,height:c,x2:y+r,y2:t+c}}function p(){return this.join(",").replace($,"$1")}function g(y){var t=s(y);return t.toString=p,t}function h(y,t,r,c,O,F,z,Q,X){var q=1-X,it=v(q,3),K=v(q,2),k=X*X,V=k*X,I=it*y+K*3*X*r+q*3*X*X*O+V*z,j=it*t+K*3*X*c+q*3*X*X*F+V*Q;return{x:B(I),y:B(j)}}function x(y){var t=C.apply(null,y);return i(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function A(y,t,r){return t>=y.x&&t<=y.x+y.width&&r>=y.y&&r<=y.y+y.height}function U(y,t){return y=i(y),t=i(t),A(t,y.x,y.y)||A(t,y.x2,y.y)||A(t,y.x,y.y2)||A(t,y.x2,y.y2)||A(y,t.x,t.y)||A(y,t.x2,t.y)||A(y,t.x,t.y2)||A(y,t.x2,t.y2)||(y.x<t.x2&&y.x>t.x||t.x<y.x2&&t.x>y.x)&&(y.y<t.y2&&y.y>t.y||t.y<y.y2&&t.y>y.y)}function w(y,t,r,c,O){var F=-3*t+9*r-9*c+3*O,z=y*F+6*t-12*r+6*c;return y*z-3*t+3*r}function L(y,t,r,c,O,F,z,Q,X){X==null&&(X=1),X=X>1?1:X<0?0:X;for(var q=X/2,it=12,K=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],k=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],V=0,I=0;I<it;I++){var j=q*K[I]+q,J=w(j,y,r,O,z),nt=w(j,t,c,F,Q),st=J*J+nt*nt;V+=k[I]*a.sqrt(st)}return q*V}function D(y,t,r,c,O,F,z,Q){if(!(_(y,r)<d(O,z)||d(y,r)>_(O,z)||_(t,c)<d(F,Q)||d(t,c)>_(F,Q))){var X=(y*c-t*r)*(O-z)-(y-r)*(O*Q-F*z),q=(y*c-t*r)*(F-Q)-(t-c)*(O*Q-F*z),it=(y-r)*(F-Q)-(t-c)*(O-z);if(it){var K=B(X/it),k=B(q/it),V=+K.toFixed(2),I=+k.toFixed(2);if(!(V<+d(y,r).toFixed(2)||V>+_(y,r).toFixed(2)||V<+d(O,z).toFixed(2)||V>+_(O,z).toFixed(2)||I<+d(t,c).toFixed(2)||I>+_(t,c).toFixed(2)||I<+d(F,Q).toFixed(2)||I>+_(F,Q).toFixed(2)))return{x:K,y:k}}}}function B(y){return Math.round(y*1e11)/1e11}function Y(y,t,r){var c=x(y),O=x(t);if(!U(c,O))return r?0:[];for(var F=L.apply(0,y),z=L.apply(0,t),Q=et(y)?1:~~(F/5)||1,X=et(t)?1:~~(z/5)||1,q=[],it=[],K={},k=r?0:[],V=0;V<Q+1;V++){var I=h.apply(0,y.concat(V/Q));q.push({x:I.x,y:I.y,t:V/Q})}for(V=0;V<X+1;V++)I=h.apply(0,t.concat(V/X)),it.push({x:I.x,y:I.y,t:V/X});for(V=0;V<Q;V++)for(var j=0;j<X;j++){var J=q[V],nt=q[V+1],st=it[j],ut=it[j+1],lt=E(nt.x-J.x)<.01?"y":"x",ft=E(ut.x-st.x)<.01?"y":"x",ht=D(J.x,J.y,nt.x,nt.y,st.x,st.y,ut.x,ut.y),pt;if(ht){if(pt=ht.x.toFixed(9)+"#"+ht.y.toFixed(9),K[pt])continue;K[pt]=!0;var vt=J.t+E((ht[lt]-J[lt])/(nt[lt]-J[lt]))*(nt.t-J.t),Pt=st.t+E((ht[ft]-st[ft])/(ut[ft]-st[ft]))*(ut.t-st.t);vt>=0&&vt<=1&&Pt>=0&&Pt<=1&&(r?k++:k.push({x:ht.x,y:ht.y,t1:vt,t2:Pt}))}}return k}function Z(y,t,r){y=R(y),t=R(t);for(var c,O,F,z,Q,X,q,it,K,k,V=r?0:[],I=0,j=y.length;I<j;I++){var J=y[I];if(J[0]=="M")c=Q=J[1],O=X=J[2];else{J[0]=="C"?(K=[c,O].concat(J.slice(1)),c=K[6],O=K[7]):(K=[c,O,c,O,Q,X,Q,X],c=Q,O=X);for(var nt=0,st=t.length;nt<st;nt++){var ut=t[nt];if(ut[0]=="M")F=q=ut[1],z=it=ut[2];else{ut[0]=="C"?(k=[F,z].concat(ut.slice(1)),F=k[6],z=k[7]):(k=[F,z,F,z,q,it,q,it],F=q,z=it);var lt=Y(K,k,r);if(r)V+=lt;else{for(var ft=0,ht=lt.length;ft<ht;ft++)lt[ft].segment1=I,lt[ft].segment2=nt,lt[ft].bez1=K,lt[ft].bez2=k;V=V.concat(lt)}}}}}return V}function ot(y){var t=o(y);if(t.abs)return g(t.abs);if((!P(y)||!P(y&&y[0]))&&(y=n(y)),!y||!y.length)return[["M",0,0]];var r=[],c=0,O=0,F=0,z=0,Q=0,X;y[0][0]=="M"&&(c=+y[0][1],O=+y[0][2],F=c,z=O,Q++,r[0]=["M",c,O]);for(var q,it,K=Q,k=y.length;K<k;K++){if(r.push(q=[]),it=y[K],X=it[0],X!=X.toUpperCase())switch(q[0]=X.toUpperCase(),q[0]){case"A":q[1]=it[1],q[2]=it[2],q[3]=it[3],q[4]=it[4],q[5]=it[5],q[6]=+it[6]+c,q[7]=+it[7]+O;break;case"V":q[1]=+it[1]+O;break;case"H":q[1]=+it[1]+c;break;case"M":F=+it[1]+c,z=+it[2]+O;default:for(var V=1,I=it.length;V<I;V++)q[V]=+it[V]+(V%2?c:O)}else for(var j=0,J=it.length;j<J;j++)q[j]=it[j];switch(X=X.toUpperCase(),q[0]){case"Z":c=+F,O=+z;break;case"H":c=q[1];break;case"V":O=q[1];break;case"M":F=q[q.length-2],z=q[q.length-1];default:c=q[q.length-2],O=q[q.length-1]}}return r.toString=p,t.abs=g(r),r}function et(y){return y[0]===y[2]&&y[1]===y[3]&&y[4]===y[6]&&y[5]===y[7]}function H(y,t,r,c){return[y,t,r,c,r,c]}function W(y,t,r,c,O,F){var z=.3333333333333333,Q=2/3;return[z*y+Q*r,z*t+Q*c,z*O+Q*r,z*F+Q*c,O,F]}function M(y,t,r,c,O,F,z,Q,X,q){var it=N*120/180,K=N/180*(+O||0),k=[],V,I=l(function(Nt,bt,Bt){var oe=Nt*a.cos(Bt)-bt*a.sin(Bt),ae=Nt*a.sin(Bt)+bt*a.cos(Bt);return{x:oe,y:ae}});if(q)pt=q[0],vt=q[1],ft=q[2],ht=q[3];else{V=I(y,t,-K),y=V.x,t=V.y,V=I(Q,X,-K),Q=V.x,X=V.y;var j=(y-Q)/2,J=(t-X)/2,nt=j*j/(r*r)+J*J/(c*c);nt>1&&(nt=a.sqrt(nt),r=nt*r,c=nt*c);var st=r*r,ut=c*c,lt=(F==z?-1:1)*a.sqrt(E((st*ut-st*J*J-ut*j*j)/(st*J*J+ut*j*j))),ft=lt*r*J/c+(y+Q)/2,ht=lt*-c*j/r+(t+X)/2,pt=a.asin(((t-ht)/c).toFixed(9)),vt=a.asin(((X-ht)/c).toFixed(9));pt=y<ft?N-pt:pt,vt=Q<ft?N-vt:vt,pt<0&&(pt=N*2+pt),vt<0&&(vt=N*2+vt),z&&pt>vt&&(pt=pt-N*2),!z&&vt>pt&&(vt=vt-N*2)}var Pt=vt-pt;if(E(Pt)>it){var ie=vt,re=Q,Ht=X;vt=pt+it*(z&&vt>pt?1:-1),Q=ft+r*a.cos(vt),X=ht+c*a.sin(vt),k=M(Q,X,r,c,O,0,z,re,Ht,[vt,ie,ft,ht])}Pt=vt-pt;var jt=a.cos(pt),zt=a.sin(pt),Gt=a.cos(vt),It=a.sin(vt),Lt=a.tan(Pt/4),kt=4/3*r*Lt,Vt=4/3*c*Lt,Yt=[y,t],At=[y+kt*zt,t-Vt*jt],$t=[Q+kt*It,X-Vt*Gt],Rt=[Q,X];if(At[0]=2*Yt[0]-At[0],At[1]=2*Yt[1]-At[1],q)return[At,$t,Rt].concat(k);k=[At,$t,Rt].concat(k).join().split(",");for(var Xt=[],xt=0,Zt=k.length;xt<Zt;xt++)Xt[xt]=xt%2?I(k[xt-1],k[xt],K).y:I(k[xt],k[xt+1],K).x;return Xt}function C(y,t,r,c,O,F,z,Q){for(var X=[],q=[[],[]],it,K,k,V,I,j,J,nt,st=0;st<2;++st){if(st==0?(K=6*y-12*r+6*O,it=-3*y+9*r-9*O+3*z,k=3*r-3*y):(K=6*t-12*c+6*F,it=-3*t+9*c-9*F+3*Q,k=3*c-3*t),E(it)<1e-12){if(E(K)<1e-12)continue;V=-k/K,0<V&&V<1&&X.push(V);continue}J=K*K-4*k*it,nt=a.sqrt(J),!(J<0)&&(I=(-K+nt)/(2*it),0<I&&I<1&&X.push(I),j=(-K-nt)/(2*it),0<j&&j<1&&X.push(j))}for(var ut=X.length,lt=ut,ft;ut--;)V=X[ut],ft=1-V,q[0][ut]=ft*ft*ft*y+3*ft*ft*V*r+3*ft*V*V*O+V*V*V*z,q[1][ut]=ft*ft*ft*t+3*ft*ft*V*c+3*ft*V*V*F+V*V*V*Q;return q[0][lt]=y,q[1][lt]=t,q[0][lt+1]=z,q[1][lt+1]=Q,q[0].length=q[1].length=lt+2,{x0:d.apply(0,q[0]),y0:d.apply(0,q[1]),x1:_.apply(0,q[0]),y1:_.apply(0,q[1])}}function R(y){var t=o(y);if(t.curve)return g(t.curve);for(var r=ot(y),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},O=function(V,I,j){var J,nt;if(!V)return["C",I.x,I.y,I.x,I.y,I.x,I.y];switch(!(V[0]in{T:1,Q:1})&&(I.qx=I.qy=null),V[0]){case"M":I.X=V[1],I.Y=V[2];break;case"A":V=["C"].concat(M.apply(0,[I.x,I.y].concat(V.slice(1))));break;case"S":j=="C"||j=="S"?(J=I.x*2-I.bx,nt=I.y*2-I.by):(J=I.x,nt=I.y),V=["C",J,nt].concat(V.slice(1));break;case"T":j=="Q"||j=="T"?(I.qx=I.x*2-I.qx,I.qy=I.y*2-I.qy):(I.qx=I.x,I.qy=I.y),V=["C"].concat(W(I.x,I.y,I.qx,I.qy,V[1],V[2]));break;case"Q":I.qx=V[1],I.qy=V[2],V=["C"].concat(W(I.x,I.y,V[1],V[2],V[3],V[4]));break;case"L":V=["C"].concat(H(I.x,I.y,V[1],V[2]));break;case"H":V=["C"].concat(H(I.x,I.y,V[1],I.y));break;case"V":V=["C"].concat(H(I.x,I.y,I.x,V[1]));break;case"Z":V=["C"].concat(H(I.x,I.y,I.X,I.Y));break}return V},F=function(V,I){if(V[I].length>7){V[I].shift();for(var j=V[I];j.length;)z[I]="A",V.splice(I++,0,["C"].concat(j.splice(0,6)));V.splice(I,1),it=r.length}},z=[],Q="",X="",q=0,it=r.length;q<it;q++){r[q]&&(Q=r[q][0]),Q!="C"&&(z[q]=Q,q&&(X=z[q-1])),r[q]=O(r[q],c,X),z[q]!="A"&&Q=="C"&&(z[q]="C"),F(r,q);var K=r[q],k=K.length;c.x=K[k-2],c.y=K[k-1],c.bx=f(K[k-4])||c.x,c.by=f(K[k-3])||c.y}return t.curve=g(r),r}rt.exports=Z},15192:(rt,$,f)=>{f.d($,{A:()=>W});var a=/^class /;function N(M){return a.test(M.toString())}function d(M){return Object.prototype.toString.call(M)==="[object Array]"}function _(){var M=Array.prototype.slice.call(arguments);M.length===1&&d(M[0])&&(M=M[0]);var C=M.pop();return C.$inject=M,C}var v=/constructor\s*[^(]*\(\s*([^)]*)\)/m,E=/^function\s*[^(]*\(\s*([^)]*)\)/m,u=/\/\*([^*]*)\*\//m;function T(M){if(typeof M!="function")throw new Error('Cannot annotate "'+M+'". Expected a function!');var C=M.toString().match(N(M)?v:E);return C?C[1]&&C[1].split(",").map(function(R){return C=R.match(u),C?C[1].trim():R.trim()})||[]:[]}function P(){var M=[];this.factory=function(C,R){return M.push([C,"factory",R]),this},this.value=function(C,R){return M.push([C,"value",R]),this},this.type=function(C,R){return M.push([C,"type",R]),this},this.forEach=function(C){M.forEach(C)}}var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M};function s(M){if(Array.isArray(M)){for(var C=0,R=Array(M.length);C<M.length;C++)R[C]=M[C];return R}else return Array.from(M)}function e(M,C){C=C||{get:function(k,V){if(R.push(k),V===!1)return null;throw c('No provider for "'+k+'"!')}};var R=[],y=this._providers=Object.create(C._providers||null),t=this._instances=Object.create(null),r=t.injector=this,c=function(k){var V=R.join(" -> ");return R.length=0,new Error(V?k+" (Resolving: "+V+")":k)},O=function K(k,V){if(!y[k]&&k.indexOf(".")!==-1){for(var I=k.split("."),j=K(I.shift());I.length;)j=j[I.shift()];return j}if(l(t,k))return t[k];if(l(y,k)){if(R.indexOf(k)!==-1)throw R.push(k),c("Cannot resolve circular dependency!");return R.push(k),t[k]=y[k][0](y[k][1]),R.pop(),t[k]}return C.get(k,V)},F=function(k){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof k!="function")if(d(k))k=_(k.slice());else throw new Error('Cannot invoke "'+k+'". Expected a function!');var I=k.$inject||T(k),j=I.map(function(J){return l(V,J)?V[J]:O(J)});return{fn:k,dependencies:j}},z=function(k){var V=F(k),I=V.dependencies,j=V.fn;return new(Function.prototype.bind.apply(j,[null].concat(s(I))))},Q=function(k,V,I){var j=F(k,I),J=j.dependencies,nt=j.fn;return nt.call.apply(nt,[V].concat(s(J)))},X=function(k){return _(function(V){return k.get(V)})},q=function(k,V){if(V&&V.length){var I=Object.create(null),j=Object.create(null),J=[],nt=[],st=[],ut,lt,ft,ht;for(var pt in y)ut=y[pt],V.indexOf(pt)!==-1&&(ut[2]==="private"?(lt=J.indexOf(ut[3]),lt===-1?(ft=ut[3].createChild([],V),ht=X(ft),J.push(ut[3]),nt.push(ft),st.push(ht),I[pt]=[ht,pt,"private",ft]):I[pt]=[st[lt],pt,"private",nt[lt]]):I[pt]=[ut[2],ut[1]],j[pt]=!0),(ut[2]==="factory"||ut[2]==="type")&&ut[1].$scope&&V.forEach(function(vt){ut[1].$scope.indexOf(vt)!==-1&&(I[pt]=[ut[2],ut[1]],j[vt]=!0)});V.forEach(function(vt){if(!j[vt])throw new Error('No provider for "'+vt+'". Cannot use provider from the parent!')}),k.unshift(I)}return new e(k,r)},it={factory:Q,type:z,value:function(k){return k}};M.forEach(function(K){function k(J,nt){return J!=="value"&&d(nt)&&(nt=_(nt.slice())),nt}if(K instanceof P)K.forEach(function(J){var nt=J[0],st=J[1],ut=J[2];y[nt]=[it[st],k(st,ut),st]});else if((typeof K>"u"?"undefined":m(K))==="object")if(K.__exports__){var V=Object.keys(K).reduce(function(J,nt){return nt.substring(0,2)!=="__"&&(J[nt]=K[nt]),J},Object.create(null)),I=new e((K.__modules__||[]).concat([V]),r),j=_(function(J){return I.get(J)});K.__exports__.forEach(function(J){y[J]=[j,J,"private",I]})}else Object.keys(K).forEach(function(J){if(K[J][2]==="private"){y[J]=K[J];return}var nt=K[J][0],st=K[J][1];y[J]=[it[nt],k(nt,st),nt]})}),this.get=O,this.invoke=Q,this.instantiate=z,this.createChild=q}function l(M,C){return Object.hasOwnProperty.call(M,C)}var n=f(51270),o=f.n(n),i=f(97975),p=f(12619),g=f(33225),h=f(10018),x=1;function A(M,C){i.A.call(this,M,x),this.CONNECTION_STYLE=C.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=C.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=C.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}o()(A,i.A),A.prototype.canRender=function(){return!0},A.prototype.drawShape=function(C,R){var y=(0,g.vt)("rect");return(0,g.CF)(y,{x:0,y:0,width:R.width||0,height:R.height||0}),(0,h.eb)(R)?(0,g.CF)(y,this.FRAME_STYLE):(0,g.CF)(y,this.SHAPE_STYLE),(0,g.BC)(C,y),y},A.prototype.drawConnection=function(C,R){var y=(0,p.RJ)(R.waypoints,this.CONNECTION_STYLE);return(0,g.BC)(C,y),y},A.prototype.getShapePath=function(C){var R=C.x,y=C.y,t=C.width,r=C.height,c=[["M",R,y],["l",t,0],["l",0,r],["l",-t,0],["z"]];return(0,p.tx)(c)},A.prototype.getConnectionPath=function(C){var R=C.waypoints,y,t,r=[];for(y=0;t=R[y];y++)t=t.original||t,r.push([y===0?"M":"L",t.x,t.y]);return(0,p.tx)(r)},A.$inject=["eventBus","styles"];var U=f(19187);const w={__init__:["defaultRenderer"],defaultRenderer:["type",A],styles:["type",U.A]};var L=f(69034),D=f(54343),B=f(15176),Y=f(95820),Z=f(40969);const ot={__depends__:[w],__init__:["canvas"],canvas:["type",L.A],elementRegistry:["type",D.A],elementFactory:["type",B.A],eventBus:["type",Y.A],graphicsFactory:["type",Z.A]};function et(M){var C=[],R=[];function y(O){return C.indexOf(O)>=0}function t(O){C.push(O)}function r(O){y(O)||((O.__depends__||[]).forEach(r),!y(O)&&(t(O),(O.__init__||[]).forEach(function(F){R.push(F)})))}M.forEach(r);var c=new e(C);return R.forEach(function(O){try{c[typeof O=="string"?"get":"invoke"](O)}catch(F){throw console.error("Failed to instantiate component"),console.error(F.stack),F}}),c}function H(M){M=M||{};var C={config:["value",M]},R=[C,ot].concat(M.modules||[]);return et(R)}function W(M,C){this.injector=C=C||H(M),this.get=C.get,this.invoke=C.invoke,this.get("eventBus").fire("diagram.init")}W.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},W.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},6705:(rt,$,f)=>{f.d($,{A:()=>_});var a=f(98218),N=f.n(a),d=1e3;function _(u){this._eventBus=u}_.$inject=["eventBus"];function v(u,T){return function(P){return u.call(T||null,P.context,P.command,P)}}_.prototype.on=function(u,T,P,m,s,e){if(((0,a.isFunction)(T)||(0,a.isNumber)(T))&&(e=s,s=m,m=P,P=T,T=null),(0,a.isFunction)(P)&&(e=s,s=m,m=P,P=d),(0,a.isObject)(s)&&(e=s,s=!1),!(0,a.isFunction)(m))throw new Error("handlerFn must be a function");(0,a.isArray)(u)||(u=[u]);var l=this._eventBus;(0,a.forEach)(u,function(n){var o=["commandStack",n,T].filter(function(i){return i}).join(".");l.on(o,P,s?v(m,e):m,e)})};var E=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];(0,a.forEach)(E,function(u){_.prototype[u]=function(T,P,m,s,e){((0,a.isFunction)(T)||(0,a.isNumber)(T))&&(e=s,s=m,m=P,P=T,T=null),this.on(T,u,P,m,s,e)}})},17389:(rt,$,f)=>{f.d($,{A:()=>d});var a=f(98218),N=f.n(a);function d(_,v){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=v,this._eventBus=_,this._uid=1,_.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}d.$inject=["eventBus","injector"],d.prototype.execute=function(_,v){if(!_)throw new Error("command required");var E={command:_,context:v};this._pushAction(E),this._internalExecute(E),this._popAction(E)},d.prototype.canExecute=function(_,v){var E={command:_,context:v},u=this._getHandler(_),T=this._fire(_,"canExecute",E);if(T===void 0){if(!u)return!1;u.canExecute&&(T=u.canExecute(v))}return T},d.prototype.clear=function(_){this._stack.length=0,this._stackIdx=-1,_!==!1&&this._fire("changed")},d.prototype.undo=function(){var _=this._getUndoAction(),v;if(_){for(this._pushAction(_);_&&(this._internalUndo(_),v=this._getUndoAction(),!(!v||v.id!==_.id));)_=v;this._popAction()}},d.prototype.redo=function(){var _=this._getRedoAction(),v;if(_){for(this._pushAction(_);_&&(this._internalExecute(_,!0),v=this._getRedoAction(),!(!v||v.id!==_.id));)_=v;this._popAction()}},d.prototype.register=function(_,v){this._setHandler(_,v)},d.prototype.registerHandler=function(_,v){if(!_||!v)throw new Error("command and handlerCls must be defined");var E=this._injector.instantiate(v);this.register(_,E)},d.prototype.canUndo=function(){return!!this._getUndoAction()},d.prototype.canRedo=function(){return!!this._getRedoAction()},d.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},d.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},d.prototype._internalUndo=function(_){var v=this,E=_.command,u=_.context,T=this._getHandler(E);this._atomicDo(function(){v._fire(E,"revert",_),T.revert&&v._markDirty(T.revert(u)),v._revertedAction(_),v._fire(E,"reverted",_)})},d.prototype._fire=function(_,v,E){arguments.length<3&&(E=v,v=null);var u=v?[_+"."+v,v]:[_],T,P,m;for(E=this._eventBus.createEvent(E),T=0;(P=u[T])&&(m=this._eventBus.fire("commandStack."+P,E),!E.cancelBubble);T++);return m},d.prototype._createId=function(){return this._uid++},d.prototype._atomicDo=function(_){var v=this._currentExecution;v.atomic=!0;try{_()}finally{v.atomic=!1}},d.prototype._internalExecute=function(_,v){var E=this,u=_.command,T=_.context,P=this._getHandler(u);if(!P)throw new Error("no command handler registered for <"+u+">");this._pushAction(_),v||(this._fire(u,"preExecute",_),P.preExecute&&P.preExecute(T),this._fire(u,"preExecuted",_)),this._atomicDo(function(){E._fire(u,"execute",_),P.execute&&E._markDirty(P.execute(T)),E._executedAction(_,v),E._fire(u,"executed",_)}),v||(this._fire(u,"postExecute",_),P.postExecute&&P.postExecute(T),this._fire(u,"postExecuted",_)),this._popAction(_)},d.prototype._pushAction=function(_){var v=this._currentExecution,E=v.actions,u=E[0];if(v.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+_.command+")");_.id||(_.id=u&&u.id||this._createId()),E.push(_)},d.prototype._popAction=function(){var _=this._currentExecution,v=_.actions,E=_.dirty;v.pop(),v.length||(this._eventBus.fire("elements.changed",{elements:(0,a.uniqueBy)("id",E.reverse())}),E.length=0,this._fire("changed"))},d.prototype._markDirty=function(_){var v=this._currentExecution;_&&(_=(0,a.isArray)(_)?_:[_],v.dirty=v.dirty.concat(_))},d.prototype._executedAction=function(_,v){var E=++this._stackIdx;v||this._stack.splice(E,this._stack.length,_)},d.prototype._revertedAction=function(_){this._stackIdx--},d.prototype._getHandler=function(_){return this._handlerMap[_]},d.prototype._setHandler=function(_,v){if(!_||!v)throw new Error("command and handler required");if(this._handlerMap[_])throw new Error("overriding handler for command <"+_+">");this._handlerMap[_]=v}},69034:(rt,$,f)=>{f.d($,{A:()=>e});var a=f(98218),N=f.n(a),d=f(6958),_=f(10018),v=f(33225);function E(n,o){return Math.round(n*o)/o}function u(n){return(0,a.isNumber)(n)?n+"px":n}function T(n){n=(0,a.assign)({},{width:"100%",height:"100%"},n);var o=n.container||document.body,i=document.createElement("div");return i.setAttribute("class","djs-container"),(0,a.assign)(i.style,{position:"relative",overflow:"hidden",width:u(n.width),height:u(n.height)}),o.appendChild(i),i}function P(n,o,i){var p=(0,v.vt)("g");(0,v.Ly)(p).add(o);var g=i!==void 0?i:n.childNodes.length-1;return n.insertBefore(p,n.childNodes[g]||null),p}var m="base",s={shape:["x","y","width","height"],connection:["waypoints"]};function e(n,o,i,p){this._eventBus=o,this._elementRegistry=p,this._graphicsFactory=i,this._init(n||{})}e.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],e.prototype._init=function(n){var o=this._eventBus,i=this._container=T(n),p=this._svg=(0,v.vt)("svg");(0,v.CF)(p,{width:"100%",height:"100%"}),(0,v.BC)(i,p);var g=this._viewport=P(p,"viewport");this._layers={},n.deferUpdate!==!1&&(this._viewboxChanged=(0,a.debounce)((0,a.bind)(this._viewboxChanged,this),300)),o.on("diagram.init",function(){o.fire("canvas.init",{svg:p,viewport:g})},this),o.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),o.on("diagram.destroy",500,this._destroy,this),o.on("diagram.clear",500,this._clear,this)},e.prototype._destroy=function(n){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var o=this._container.parentNode;o&&o.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},e.prototype._clear=function(){var n=this,o=this._elementRegistry.getAll();o.forEach(function(i){var p=(0,_.Pw)(i);p==="root"?n.setRootElement(null,!0):n._removeElement(i,p)}),delete this._cachedViewbox},e.prototype.getDefaultLayer=function(){return this.getLayer(m,0)},e.prototype.getLayer=function(n,o){if(!n)throw new Error("must specify a name");var i=this._layers[n];if(i||(i=this._layers[n]=this._createLayer(n,o)),typeof o<"u"&&i.index!==o)throw new Error("layer <"+n+"> already created at index <"+o+">");return i.group},e.prototype._createLayer=function(n,o){o||(o=0);var i=(0,a.reduce)(this._layers,function(p,g){return o>=g.index&&p++,p},0);return{group:P(this._viewport,"layer-"+n,i),index:o}},e.prototype.getContainer=function(){return this._container},e.prototype._updateMarker=function(n,o,i){var p;n.id||(n=this._elementRegistry.get(n)),p=this._elementRegistry._elements[n.id],p&&((0,a.forEach)([p.gfx,p.secondaryGfx],function(g){g&&(i?(0,v.Ly)(g).add(o):(0,v.Ly)(g).remove(o))}),this._eventBus.fire("element.marker.update",{element:n,gfx:p.gfx,marker:o,add:!!i}))},e.prototype.addMarker=function(n,o){this._updateMarker(n,o,!0)},e.prototype.removeMarker=function(n,o){this._updateMarker(n,o,!1)},e.prototype.hasMarker=function(n,o){n.id||(n=this._elementRegistry.get(n));var i=this.getGraphics(n);return(0,v.Ly)(i).has(o)},e.prototype.toggleMarker=function(n,o){this.hasMarker(n,o)?this.removeMarker(n,o):this.addMarker(n,o)},e.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},e.prototype.setRootElement=function(n,o){n&&this._ensureValid("root",n);var i=this._rootElement,p=this._elementRegistry,g=this._eventBus;if(i){if(!o)throw new Error("rootElement already set, need to specify override");g.fire("root.remove",{element:i}),g.fire("root.removed",{element:i}),p.remove(i)}if(n){var h=this.getDefaultLayer();g.fire("root.add",{element:n}),p.add(n,h,this._svg),g.fire("root.added",{element:n,gfx:h})}return this._rootElement=n,n},e.prototype._ensureValid=function(n,o){if(!o.id)throw new Error("element must have an id");if(this._elementRegistry.get(o.id))throw new Error("element with id "+o.id+" already exists");var i=s[n],p=(0,a.every)(i,function(g){return typeof o[g]<"u"});if(!p)throw new Error("must supply { "+i.join(", ")+" } with "+n)},e.prototype._setParent=function(n,o,i){(0,d.WQ)(o.children,n,i),n.parent=o},e.prototype._addElement=function(n,o,i,p){i=i||this.getRootElement();var g=this._eventBus,h=this._graphicsFactory;this._ensureValid(n,o),g.fire(n+".add",{element:o,parent:i}),this._setParent(o,i,p);var x=h.create(n,o,p);return this._elementRegistry.add(o,x),h.update(n,o,x),g.fire(n+".added",{element:o,gfx:x}),o},e.prototype.addShape=function(n,o,i){return this._addElement("shape",n,o,i)},e.prototype.addConnection=function(n,o,i){return this._addElement("connection",n,o,i)},e.prototype._removeElement=function(n,o){var i=this._elementRegistry,p=this._graphicsFactory,g=this._eventBus;if(n=i.get(n.id||n),!!n)return g.fire(o+".remove",{element:n}),p.remove(n),(0,d.TF)(n.parent&&n.parent.children,n),n.parent=null,g.fire(o+".removed",{element:n}),i.remove(n),n},e.prototype.removeShape=function(n){return this._removeElement(n,"shape")},e.prototype.removeConnection=function(n){return this._removeElement(n,"connection")},e.prototype.getGraphics=function(n,o){return this._elementRegistry.getGraphics(n,o)},e.prototype._changeViewbox=function(n){this._eventBus.fire("canvas.viewbox.changing"),n.apply(this),this._cachedViewbox=null,this._viewboxChanged()},e.prototype._viewboxChanged=function(){this._container&&this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},e.prototype.viewbox=function(n){if(n===void 0&&this._cachedViewbox)return this._cachedViewbox;var o=this._viewport,i,p=this.getSize(),g,h,x,A,U;if(n)this._changeViewbox(function(){x=Math.min(p.width/n.width,p.height/n.height);var w=this._svg.createSVGMatrix().scale(x).translate(-n.x,-n.y);(0,v.pd)(o,w)});else return i=this.getDefaultLayer().getBBox(),h=(0,v.pd)(o),g=h?h.matrix:(0,v.uK)(),x=E(g.a,1e3),A=E(-g.e||0,1e3),U=E(-g.f||0,1e3),n=this._cachedViewbox={x:A?A/x:0,y:U?U/x:0,width:p.width/x,height:p.height/x,scale:x,inner:{width:i.width,height:i.height,x:i.x,y:i.y},outer:p},n;return n},e.prototype.scroll=function(n){var o=this._viewport,i=o.getCTM();return n&&this._changeViewbox(function(){n=(0,a.assign)({dx:0,dy:0},n||{}),i=this._svg.createSVGMatrix().translate(n.dx,n.dy).multiply(i),l(o,i)}),{x:i.e,y:i.f}},e.prototype.zoom=function(n,o){if(!n)return this.viewbox(n).scale;if(n==="fit-viewport")return this._fitViewport(o);var i,p;return this._changeViewbox(function(){typeof o!="object"&&(i=this.viewbox().outer,o={x:i.width/2,y:i.height/2}),p=this._setZoom(n,o)}),E(p.a,1e3)};function l(n,o){var i="matrix("+o.a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")";n.setAttribute("transform",i)}e.prototype._fitViewport=function(n){var o=this.viewbox(),i=o.outer,p=o.inner,g,h;return p.x>=0&&p.y>=0&&p.x+p.width<=i.width&&p.y+p.height<=i.height&&!n?h={x:0,y:0,width:Math.max(p.width+p.x,i.width),height:Math.max(p.height+p.y,i.height)}:(g=Math.min(1,i.width/p.width,i.height/p.height),h={x:p.x+(n?p.width/2-i.width/g/2:0),y:p.y+(n?p.height/2-i.height/g/2:0),width:i.width/g,height:i.height/g}),this.viewbox(h),this.viewbox(!1).scale},e.prototype._setZoom=function(n,o){var i=this._svg,p=this._viewport,g=i.createSVGMatrix(),h=i.createSVGPoint(),x,A,U,w,L;U=p.getCTM();var D=U.a;return o?(x=(0,a.assign)(h,o),A=x.matrixTransform(U.inverse()),w=g.translate(A.x,A.y).scale(1/D*n).translate(-A.x,-A.y),L=U.multiply(w)):L=g.scale(n),l(this._viewport,L),L},e.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},e.prototype.getAbsoluteBBox=function(n){var o=this.viewbox(),i;if(n.waypoints){var p=this.getGraphics(n);i=p.getBBox()}else i=n;var g=i.x*o.scale-o.x*o.scale,h=i.y*o.scale-o.y*o.scale,x=i.width*o.scale,A=i.height*o.scale;return{x:g,y:h,width:x,height:A}},e.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},15176:(rt,$,f)=>{f.d($,{A:()=>_});var a=f(49096),N=f(98218),d=f.n(N);function _(){this._uid=12}_.prototype.createRoot=function(v){return this.create("root",v)},_.prototype.createLabel=function(v){return this.create("label",v)},_.prototype.createShape=function(v){return this.create("shape",v)},_.prototype.createConnection=function(v){return this.create("connection",v)},_.prototype.create=function(v,E){return E=(0,N.assign)({},E||{}),E.id||(E.id=v+"_"+this._uid++),(0,a.vt)(v,E)}},54343:(rt,$,f)=>{f.d($,{A:()=>d});var a=f(33225),N="data-element-id";function d(_){this._elements={},this._eventBus=_}d.$inject=["eventBus"],d.prototype.add=function(_,v,E){var u=_.id;this._validateId(u),(0,a.CF)(v,N,u),E&&(0,a.CF)(E,N,u),this._elements[u]={element:_,gfx:v,secondaryGfx:E}},d.prototype.remove=function(_){var v=this._elements,E=_.id||_,u=E&&v[E];u&&((0,a.CF)(u.gfx,N,""),u.secondaryGfx&&(0,a.CF)(u.secondaryGfx,N,""),delete v[E])},d.prototype.updateId=function(_,v){this._validateId(v),typeof _=="string"&&(_=this.get(_)),this._eventBus.fire("element.updateId",{element:_,newId:v});var E=this.getGraphics(_),u=this.getGraphics(_,!0);this.remove(_),_.id=v,this.add(_,E,u)},d.prototype.get=function(_){var v;typeof _=="string"?v=_:v=_&&(0,a.CF)(_,N);var E=this._elements[v];return E&&E.element},d.prototype.filter=function(_){var v=[];return this.forEach(function(E,u){_(E,u)&&v.push(E)}),v},d.prototype.getAll=function(){return this.filter(function(_){return _})},d.prototype.forEach=function(_){var v=this._elements;Object.keys(v).forEach(function(E){var u=v[E],T=u.element,P=u.gfx;return _(T,P)})},d.prototype.getGraphics=function(_,v){var E=_.id||_,u=this._elements[E];return u&&(v?u.secondaryGfx:u.gfx)},d.prototype._validateId=function(_){if(!_)throw new Error("element must have an id");if(this._elements[_])throw new Error("element with id "+_+" already added")}},95820:(rt,$,f)=>{f.d($,{A:()=>E});var a=f(98218),N=f.n(a),d="__fn",_=1e3,v=Array.prototype.slice;function E(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}E.prototype.on=function(P,m,s,e){if(P=(0,a.isArray)(P)?P:[P],(0,a.isFunction)(m)&&(e=s,s=m,m=_),!(0,a.isNumber)(m))throw new Error("priority must be a number");var l=s;e&&(l=(0,a.bind)(s,e),l[d]=s[d]||s);var n=this;P.forEach(function(o){n._addListener(o,{priority:m,callback:l,next:null})})},E.prototype.once=function(P,m,s,e){var l=this;if((0,a.isFunction)(m)&&(e=s,s=m,m=_),!(0,a.isNumber)(m))throw new Error("priority must be a number");function n(){var o=s.apply(e,arguments);return l.off(P,n),o}n[d]=s,this.on(P,m,n)},E.prototype.off=function(P,m){P=(0,a.isArray)(P)?P:[P];var s=this;P.forEach(function(e){s._removeListener(e,m)})},E.prototype.createEvent=function(P){var m=new u;return m.init(P),m},E.prototype.fire=function(P,m){var s,e,l,n;if(n=v.call(arguments),typeof P=="object"&&(m=P,P=m.type),!P)throw new Error("no event type specified");if(e=this._listeners[P],!!e){m instanceof u?s=m:s=this.createEvent(m),n[0]=s;var o=s.type;P!==o&&(s.type=P);try{l=this._invokeListeners(s,n,e)}finally{P!==o&&(s.type=o)}return l===void 0&&s.defaultPrevented&&(l=!1),l}},E.prototype.handleError=function(P){return this.fire("error",{error:P})===!1},E.prototype._destroy=function(){this._listeners={}},E.prototype._invokeListeners=function(P,m,s){for(var e;s&&!P.cancelBubble;)e=this._invokeListener(P,m,s),s=s.next;return e},E.prototype._invokeListener=function(P,m,s){var e;try{e=T(s.callback,m),e!==void 0&&(P.returnValue=e,P.stopPropagation()),e===!1&&P.preventDefault()}catch(l){if(!this.handleError(l))throw console.error("unhandled error in event listener"),console.error(l.stack),l}return e},E.prototype._addListener=function(P,m){var s=this._getListeners(P),e;if(!s){this._setListeners(P,m);return}for(;s;){if(s.priority<m.priority){m.next=s,e?e.next=m:this._setListeners(P,m);return}e=s,s=s.next}e.next=m},E.prototype._getListeners=function(P){return this._listeners[P]},E.prototype._setListeners=function(P,m){this._listeners[P]=m},E.prototype._removeListener=function(P,m){var s=this._getListeners(P),e,l,n;if(!m){this._setListeners(P,null);return}for(;s;)e=s.next,n=s.callback,(n===m||n[d]===m)&&(l?l.next=e:this._setListeners(P,e)),l=s,s=e};function u(){}u.prototype.stopPropagation=function(){this.cancelBubble=!0},u.prototype.preventDefault=function(){this.defaultPrevented=!0},u.prototype.init=function(P){(0,a.assign)(this,P||{})};function T(P,m){return P.apply(null,m)}},40969:(rt,$,f)=>{f.d($,{A:()=>P});var a=f(98218),N=f.n(a),d=f(12266),_=f(52965),v=f(52687),E=f.n(v),u=f(33225),T=f(10018);function P(s,e){this._eventBus=s,this._elementRegistry=e}P.$inject=["eventBus","elementRegistry"],P.prototype._getChildrenContainer=function(s){var e=this._elementRegistry.getGraphics(s),l;return s.parent?(l=(0,d.i)(e),l||(l=(0,u.vt)("g"),(0,u.Ly)(l).add("djs-children"),(0,u.BC)(e.parentNode,l))):l=e,l},P.prototype._clear=function(s){var e=(0,d.P)(s);return(0,v.clear)(e),e},P.prototype._createContainer=function(s,e,l,n){var o=(0,u.vt)("g");(0,u.Ly)(o).add("djs-group"),typeof l<"u"?m(o,e,e.childNodes[l]):(0,u.BC)(e,o);var i=(0,u.vt)("g");(0,u.Ly)(i).add("djs-element"),(0,u.Ly)(i).add("djs-"+s),n&&(0,u.Ly)(i).add("djs-frame"),(0,u.BC)(o,i);var p=(0,u.vt)("g");return(0,u.Ly)(p).add("djs-visual"),(0,u.BC)(i,p),i},P.prototype.create=function(s,e,l){var n=this._getChildrenContainer(e.parent);return this._createContainer(s,n,l,(0,T.eb)(e))},P.prototype.updateContainments=function(s){var e=this,l=this._elementRegistry,n;n=(0,a.reduce)(s,function(o,i){return i.parent&&(o[i.parent.id]=i.parent),o},{}),(0,a.forEach)(n,function(o){var i=o.children;if(i){var p=e._getChildrenContainer(o);(0,a.forEach)(i.slice().reverse(),function(g){var h=l.getGraphics(g);m(h.parentNode,p)})}})},P.prototype.drawShape=function(s,e){var l=this._eventBus;return l.fire("render.shape",{gfx:s,element:e})},P.prototype.getShapePath=function(s){var e=this._eventBus;return e.fire("render.getShapePath",s)},P.prototype.drawConnection=function(s,e){var l=this._eventBus;return l.fire("render.connection",{gfx:s,element:e})},P.prototype.getConnectionPath=function(s){var e=this._eventBus;return e.fire("render.getConnectionPath",s)},P.prototype.update=function(s,e,l){if(e.parent){var n=this._clear(l);if(s==="shape")this.drawShape(n,e),(0,_.Tl)(l,e.x,e.y);else if(s==="connection")this.drawConnection(n,e);else throw new Error("unknown type: "+s);e.hidden?(0,u.CF)(l,"display","none"):(0,u.CF)(l,"display","block")}},P.prototype.remove=function(s){var e=this._elementRegistry.getGraphics(s);(0,u.TF)(e.parentNode)};function m(s,e,l){var n=l||e.firstChild;s!==n&&e.insertBefore(s,n)}},97975:(rt,$,f)=>{f.d($,{A:()=>N});var a=1e3;function N(d,_){var v=this;_=_||a,d.on(["render.shape","render.connection"],_,function(E,u){var T=E.type,P=u.element,m=u.gfx;if(v.canRender(P))return T==="render.shape"?v.drawShape(m,P):v.drawConnection(m,P)}),d.on(["render.getShapePath","render.getConnectionPath"],_,function(E,u){if(v.canRender(u))return E.type==="render.getShapePath"?v.getShapePath(u):v.getConnectionPath(u)})}N.prototype.canRender=function(){},N.prototype.drawShape=function(){},N.prototype.drawConnection=function(){},N.prototype.getShapePath=function(){},N.prototype.getConnectionPath=function(){}},19187:(rt,$,f)=>{f.d($,{A:()=>d});var a=f(98218),N=f.n(a);function d(){var _={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},v=this;this.cls=function(E,u,T){var P=this.style(u,T);return(0,a.assign)(P,{class:E})},this.style=function(E,u){!(0,a.isArray)(E)&&!u&&(u=E,E=[]);var T=(0,a.reduce)(E,function(P,m){return(0,a.assign)(P,_[m]||{})},{});return u?(0,a.assign)(T,u):T},this.computeStyle=function(E,u,T){return(0,a.isArray)(u)||(T=u,u=[]),v.style(u||[],(0,a.assign)({},T,E||{}))}}},41666:(rt,$,f)=>{f.d($,{A:()=>u});var a=f(98218);function N(T){return T&&T[T.length-1]}function d(T){return T.y}function _(T){return T.x}var v={left:_,center:_,right:function(T){return T.x+T.width},top:d,middle:d,bottom:function(T){return T.y+T.height}};function E(T){this._modeling=T}E.$inject=["modeling"],E.prototype._getOrientationDetails=function(T){var P=["top","bottom","middle"],m="x",s="width";return P.indexOf(T)!==-1&&(m="y",s="height"),{axis:m,dimension:s}},E.prototype._isType=function(T,P){return P.indexOf(T)!==-1},E.prototype._alignmentPosition=function(T,P){var m=this._getOrientationDetails(T),s=m.axis,e=m.dimension,l={},n={},o=!1,i,p,g;function h(x,A){return Math.round((x[s]+A[s]+A[e])/2)}if(this._isType(T,["left","top"]))l[T]=P[0][s];else if(this._isType(T,["right","bottom"]))g=N(P),l[T]=g[s]+g[e];else if(this._isType(T,["center","middle"])){if((0,a.forEach)(P,function(x){var A=x[s]+Math.round(x[e]/2);n[A]?n[A].elements.push(x):n[A]={elements:[x],center:A}}),i=(0,a.sortBy)(n,function(x){return x.elements.length>1&&(o=!0),x.elements.length}),o)return l[T]=N(i).center,l;p=P[0],P=(0,a.sortBy)(P,function(x){return x[s]+x[e]}),g=N(P),l[T]=h(p,g)}return l},E.prototype.trigger=function(T,P){var m=this._modeling,s=(0,a.filter)(T,function(o){return!(o.waypoints||o.host||o.labelTarget)}),e=v[P],l=(0,a.sortBy)(s,e),n=this._alignmentPosition(P,l);m.alignElements(l,n)};const u={__init__:["alignElements"],alignElements:["type",E]}},20418:(rt,$,f)=>{f.d($,{A:()=>m});var a=f(51270),N=f.n(a),d=f(10018),_=f(65911),v=f(98218),E=f(6705);function u(s,e,l,n){E.A.call(this,s),this._elementRegistry=e,this._modeling=l,this._rules=n;var o=this;this.postExecuted(["shape.create"],function(i){var p=i.context,g=p.hints||{},h=p.shape,x=p.parent||p.newParent;g.autoResize!==!1&&o._expand([h],x)}),this.postExecuted(["elements.move"],function(i){var p=i.context,g=(0,v.flatten)((0,v.values)(p.closure.topLevel)),h=p.hints,x=h?h.autoResize:!0;if(x!==!1){var A=(0,v.groupBy)(g,function(U){return U.parent.id});(0,v.forEach)(A,function(U,w){(0,v.isArray)(x)&&(U=U.filter(function(L){return(0,v.find)(x,(0,v.matchPattern)({id:L.id}))})),o._expand(U,w)})}}),this.postExecuted(["shape.toggleCollapse"],function(i){var p=i.context,g=p.hints,h=p.shape;g&&g.autoResize===!1||h.collapsed||o._expand(h.children||[],h)}),this.postExecuted(["shape.resize"],function(i){var p=i.context,g=p.hints,h=p.shape,x=h.parent;g&&g.autoResize===!1||x&&o._expand([h],x)})}u.$inject=["eventBus","elementRegistry","modeling","rules"],N()(u,E.A),u.prototype._getOptimalBounds=function(s,e){var l=this.getOffset(e),n=this.getPadding(e),o=(0,_.Fy)((0,d.U7)(s)),i=(0,_.Fy)(e),p={};return o.top-i.top<n.top&&(p.top=o.top-l.top),o.left-i.left<n.left&&(p.left=o.left-l.left),i.right-o.right<n.right&&(p.right=o.right+l.right),i.bottom-o.bottom<n.bottom&&(p.bottom=o.bottom+l.bottom),(0,_.cD)((0,v.assign)({},i,p))},u.prototype._expand=function(s,e){typeof e=="string"&&(e=this._elementRegistry.get(e));var l=this._rules.allowed("element.autoResize",{elements:s,target:e});if(l){var n=this._getOptimalBounds(s,e);if(T(n,e)){var o=P((0,v.pick)(e,["x","y","width","height"]),n);this.resize(e,n,{autoResize:o});var i=e.parent;i&&this._expand([e],i)}}},u.prototype.getOffset=function(s){return{top:60,bottom:60,left:100,right:100}},u.prototype.getPadding=function(s){return{top:2,bottom:2,left:15,right:15}},u.prototype.resize=function(s,e,l){this._modeling.resizeShape(s,e,null,l)};function T(s,e){return s.x!==e.x||s.y!==e.y||s.width!==e.width||s.height!==e.height}function P(s,e){var l="";return s=(0,_.Fy)(s),e=(0,_.Fy)(e),s.top>e.top&&(l=l.concat("n")),s.right<e.right&&(l=l.concat("w")),s.bottom<e.bottom&&(l=l.concat("s")),s.left>e.left&&(l=l.concat("e")),l}const m={__init__:["autoResize"],autoResize:["type",u]}},69855:(rt,$,f)=>{f.d($,{LS:()=>o,qh:()=>i,zk:()=>h,fU:()=>A,Pj:()=>U,YU:()=>g});var a=f(86439),N=f(92159),d=f(33225),_=f(52965),v=f(38305),E=f.n(v),u=Math.round,T=Math.max;function P(L,D){var B=L.x,Y=L.y;return[["M",B,Y],["m",0,-D],["a",D,D,0,1,1,0,2*D],["a",D,D,0,1,1,0,-2*D],["z"]]}function m(L){var D=[];return L.forEach(function(B,Y){D.push([Y===0?"M":"L",B.x,B.y])}),D}var s=10;function e(L,D){var B,Y;for(B=0;Y=L[B];B++)if((0,N.cK)(Y,D)<=s)return{point:L[B],bendpoint:!0,index:B};return null}function l(L,D){var B=E()(P(D,s),m(L)),Y=B[0],Z=B[B.length-1],ot;return Y?Y!==Z?Y.segment2!==Z.segment2?(ot=T(Y.segment2,Z.segment2)-1,{point:L[ot],bendpoint:!0,index:ot}):{point:{x:u(Y.x+Z.x)/2,y:u(Y.y+Z.y)/2},index:Y.segment2}:{point:{x:u(Y.x),y:u(Y.y)},index:Y.segment2}:null}function n(L,D){return e(L,D)||l(L,D)}var o="djs-bendpoint",i="djs-segment-dragger";function p(L,D){var B=(0,a.gK)(D),Y=L._container.getBoundingClientRect(),Z;Z={x:Y.left,y:Y.top};var ot=L.viewbox();return{x:ot.x+(B.x-Z.x)/ot.scale,y:ot.y+(B.y-Z.y)/ot.scale}}function g(L,D,B){var Y=p(L,B),Z=n(D,Y);return Z}function h(L,D){var B=(0,d.vt)("g");(0,d.Ly)(B).add(o),(0,d.BC)(L,B);var Y=(0,d.vt)("circle");(0,d.CF)(Y,{cx:0,cy:0,r:4}),(0,d.Ly)(Y).add("djs-visual"),(0,d.BC)(B,Y);var Z=(0,d.vt)("circle");return(0,d.CF)(Z,{cx:0,cy:0,r:10}),(0,d.Ly)(Z).add("djs-hit"),(0,d.BC)(B,Z),D&&(0,d.Ly)(B).add(D),B}function x(L,D,B,Y){var Z=(0,d.vt)("g");(0,d.BC)(L,Z);var ot=14,et=3,H=6,W=w(D,B,Y),M=et+H,C=(0,d.vt)("rect");(0,d.CF)(C,{x:-ot/2,y:-et/2,width:ot,height:et}),(0,d.Ly)(C).add("djs-visual"),(0,d.BC)(Z,C);var R=(0,d.vt)("rect");return(0,d.CF)(R,{x:-W/2,y:-M/2,width:W,height:M}),(0,d.Ly)(R).add("djs-hit"),(0,d.BC)(Z,R),(0,_.e$)(Z,Y==="v"?90:0,0,0),Z}function A(L,D,B){var Y=(0,d.vt)("g"),Z=(0,N.P8)(D,B),ot=(0,N.ke)(D,B);return(0,d.BC)(L,Y),x(Y,D,B,ot),(0,d.Ly)(Y).add(i),(0,d.Ly)(Y).add(ot==="h"?"horizontal":"vertical"),(0,_.Tl)(Y,Z.x,Z.y),Y}function U(L){return Math.abs(Math.round(L*2/3))}function w(L,D,B){var Y=D.x-L.x,Z=D.y-L.y;return U(B==="h"?Y:Z)}},6513:(rt,$,f)=>{f.d($,{A:()=>s});var a=f(98218),N=f.n(a),d=f(52687),_=f.n(d),v=f(69855),E=f(25141),u=f.n(E),T=f(92159),P=f(33225),m=f(52965);function s(l,n,o,i,p){var g=this;function h(M,C,R){var y=M.index,t=M.point,r,c,O,F,z,Q;return y<=0||M.bendpoint?!1:(r=C[y-1],c=C[y],O=(0,T.P8)(r,c),F=(0,T.ke)(r,c),z=Math.abs(t.x-O.x),Q=Math.abs(t.y-O.y),F&&z<=R&&Q<=R)}function x(M,C){var R=M.waypoints,y,t,r,c;return C.index<=0||C.bendpoint||(y={start:R[C.index-1],end:R[C.index]},t=(0,T.ke)(y.start,y.end),!t)?null:(t==="h"?r=y.end.x-y.start.x:r=y.end.y-y.start.y,c=(0,v.Pj)(r)/2,c)}function A(M,C){var R=C.waypoints,y=(0,v.YU)(n,R,M),t;if(y)return t=x(C,y),h(y,R,t)?p.start(M,C,y.index):i.start(M,C,y.index,!y.bendpoint),!0}function U(M,C,R){d.event.bind(M,C,function(y){o.triggerMouseEvent(C,y,R),y.stopPropagation()})}function w(M,C){var R=n.getLayer("overlays"),y=(0,d.query)('.djs-bendpoints[data-element-id="'+u()(M.id)+'"]',R);return!y&&C&&(y=(0,P.vt)("g"),(0,P.CF)(y,{"data-element-id":M.id}),(0,P.Ly)(y).add("djs-bendpoints"),(0,P.BC)(R,y),U(y,"mousedown",M),U(y,"click",M),U(y,"dblclick",M)),y}function L(M,C){return(0,d.query)('.djs-segment-dragger[data-segment-idx="'+M+'"]',C)}function D(M,C){C.waypoints.filter(g.getConnectionBendpointsFilter).forEach(function(R,y){var t=(0,v.zk)(M);(0,P.BC)(M,t),(0,m.Tl)(t,R.x,R.y)}),(0,v.zk)(M,"floating")}function B(M,C){for(var R=C.waypoints,y,t,r,c=1;c<R.length;c++)y=R[c-1],t=R[c],(0,T.ke)(y,t)&&(r=(0,v.fU)(M,y,t),(0,P.CF)(r,{"data-segment-idx":c}),U(r,"mousemove",C))}function Y(M){(0,a.forEach)((0,d.queryAll)("."+v.LS,M),function(C){(0,P.TF)(C)})}function Z(M){(0,a.forEach)((0,d.queryAll)("."+v.qh,M),function(C){(0,P.TF)(C)})}function ot(M){var C=w(M);return C||(C=w(M,!0),D(C,M),B(C,M)),C}function et(M){var C=w(M);C&&(Z(C),Y(C),B(C,M),D(C,M))}function H(M,C){var R=(0,d.query)(".floating",M),y=C.point;R&&(0,m.Tl)(R,y.x,y.y)}function W(M,C,R){var y=L(C.index,M),t=R[C.index-1],r=R[C.index],c=C.point,O=(0,T.P8)(t,r),F=(0,T.ke)(t,r),z,Q;y&&(z=e(y),Q={x:c.x-O.x,y:c.y-O.y},F==="v"&&(Q={x:Q.y,y:Q.x}),(0,m.Tl)(z,Q.x,Q.y))}l.on("connection.changed",function(M){et(M.element)}),l.on("connection.remove",function(M){var C=w(M.element);C&&(0,P.TF)(C)}),l.on("element.marker.update",function(M){var C=M.element,R;C.waypoints&&(R=ot(C),M.add?(0,P.Ly)(R).add(M.marker):(0,P.Ly)(R).remove(M.marker))}),l.on("element.mousemove",function(M){var C=M.element,R=C.waypoints,y,t;if(R){if(y=w(C,!0),t=(0,v.YU)(n,R,M.originalEvent),!t)return;H(y,t),t.bendpoint||W(y,t,R)}}),l.on("element.mousedown",function(M){var C=M.originalEvent,R=M.element,y=R.waypoints;if(y)return A(C,R)}),l.on("selection.changed",function(M){var C=M.newSelection,R=C[0];R&&R.waypoints&&ot(R)}),l.on("element.hover",function(M){var C=M.element;C.waypoints&&(ot(C),o.registerEvent(M.gfx,"mousemove","element.mousemove"))}),l.on("element.out",function(M){o.unregisterEvent(M.gfx,"mousemove","element.mousemove")}),l.on("element.updateId",function(M){var C=M.element,R=M.newId;if(C.waypoints){var y=w(C);y&&(0,P.CF)(y,{"data-element-id":R})}}),this.addHandles=ot,this.updateHandles=et,this.getBendpointsContainer=w,this.getSegmentDragger=L}s.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function e(l){return(0,d.query)(".djs-visual",l)}s.prototype.getConnectionBendpointsFilter=function(l,n,o){return!0}},45041:(rt,$,f)=>{f.d($,{A:()=>l});var a=f(92159),N=f(69855),d=f(65911),_=f(33225),v=f(52965),E="connect-hover",u="djs-updating";function T(n,o,i){return P(n,o,n[o]+i)}function P(n,o,i){return{x:o==="x"?i:n.x,y:o==="y"?i:n.y}}function m(n,o,i,p){var g=Math.max(o[p],i[p]),h=Math.min(o[p],i[p]),x=20,A=Math.min(Math.max(h+x,n[p]),g-x);return P(o,p,A)}function s(n){return n==="x"?"y":"x"}function e(n,o,i){var p,g;return n.original?n.original:(p=(0,d.pp)(o),g=s(i),P(n,g,p[g]))}function l(n,o,i,p,g,h){var x=n.get("connectionDocking",!1);this.start=function(D,B,Y){var Z,ot=i.getGraphics(B),et=Y-1,H=Y,W=B.waypoints,M=W[et],C=W[H],R=(0,N.YU)(i,W,D),y,t,r;y=(0,a.ke)(M,C),y&&(t=y==="v"?"x":"y",et===0&&(M=e(M,B.source,t)),H===W.length-1&&(C=e(C,B.target,t)),R?r=R.point:r={x:(M.x+C.x)/2,y:(M.y+C.y)/2},Z={connection:B,segmentStartIndex:et,segmentEndIndex:H,segmentStart:M,segmentEnd:C,axis:t,dragPosition:r},p.init(D,r,"connectionSegment.move",{cursor:t==="x"?"resize-ew":"resize-ns",data:{connection:B,connectionGfx:ot,context:Z}}))};function A(D,B){if(!x)return B;var Y=D.waypoints,Z;return D.waypoints=B,Z=x.getCroppedWaypoints(D),D.waypoints=Y,Z}function U(D){g.update("connection",D.connection,D.connectionGfx)}function w(D,B,Y){var Z=D.newWaypoints,ot=D.segmentStartIndex+B,et=Z[ot],H=D.segmentEndIndex+B,W=Z[H],M=s(D.axis),C=m(Y,et,W,M);(0,v.Tl)(D.draggerGfx,C.x,C.y)}function L(D,B){var Y=0,Z=D.filter(function(ot,et){return(0,a.XP)(D[et-1],D[et+1],ot)?(Y=et<=B?Y-1:Y,!1):!0});return{waypoints:Z,segmentOffset:Y}}o.on("connectionSegment.move.start",function(D){var B=D.context,Y=D.connection,Z=i.getLayer("overlays");B.originalWaypoints=Y.waypoints.slice(),B.draggerGfx=(0,N.fU)(Z,B.segmentStart,B.segmentEnd),(0,_.Ly)(B.draggerGfx).add("djs-dragging"),i.addMarker(Y,u)}),o.on("connectionSegment.move.move",function(D){var B=D.context,Y=B.connection,Z=B.segmentStartIndex,ot=B.segmentEndIndex,et=B.segmentStart,H=B.segmentEnd,W=B.axis,M=B.originalWaypoints.slice(),C=T(et,W,D["d"+W]),R=T(H,W,D["d"+W]),y=M.length,t=0;M[Z]=C,M[ot]=R;var r,c;Z<2&&(r=(0,d.vc)(Y.source,C),Z===1?r==="intersect"&&(M.shift(),M[0]=C,t--):r!=="intersect"&&(M.unshift(et),t++)),ot>y-3&&(c=(0,d.vc)(Y.target,R),ot===y-2?c==="intersect"&&(M.pop(),M[M.length-1]=R):c!=="intersect"&&M.push(H)),B.newWaypoints=Y.waypoints=A(Y,M),w(B,t,D),B.newSegmentStartIndex=Z+t,U(D)}),o.on("connectionSegment.move.hover",function(D){D.context.hover=D.hover,i.addMarker(D.hover,E)}),o.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(D){var B=D.context.hover;B&&i.removeMarker(B,E)}),o.on("connectionSegment.move.cleanup",function(D){var B=D.context,Y=B.connection;B.draggerGfx&&(0,_.TF)(B.draggerGfx),i.removeMarker(Y,u)}),o.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(D){var B=D.context,Y=B.connection;Y.waypoints=B.originalWaypoints,U(D)}),o.on("connectionSegment.move.end",function(D){var B=D.context,Y=B.connection,Z=B.newWaypoints,ot=B.newSegmentStartIndex;Z=Z.map(function(R){var y={x:Math.round(R.x),y:Math.round(R.y)};return R.original&&(y.original=R.original),y});var et=L(Z,ot),H=et.waypoints,W=A(Y,H),M=et.segmentOffset,C={segmentMove:{segmentStartIndex:B.segmentStartIndex,newSegmentStartIndex:ot+M}};h.updateWaypoints(Y,W,C)})}l.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"]},39255:(rt,$,f)=>{f.d($,{A:()=>H});var a=f(84654),N=f(11918),d=f(6513),_=f(65911),v=Math.round,E="reconnectStart",u="reconnectEnd",T="updateWaypoints";function P(W,M,C,R,y,t){this._injector=W,this.start=function(r,c,O,F){var z=C.getGraphics(c),Q=c.source,X=c.target,q=c.waypoints,it;!F&&O===0?it=E:!F&&O===q.length-1?it=u:it=T;var K=it===T?"connection.updateWaypoints":"connection.reconnect",k=y.allowed(K,{connection:c,source:Q,target:X});k===!1&&(k=y.allowed(K,{connection:c,source:X,target:Q})),k!==!1&&R.init(r,"bendpoint.move",{data:{connection:c,connectionGfx:z,context:{allowed:k,bendpointIndex:O,connection:c,source:Q,target:X,insert:F,type:it}}})},M.on("bendpoint.move.hover",function(r){var c=r.context,O=c.connection,F=O.source,z=O.target,Q=r.hover,X=c.type;c.hover=Q;var q;if(Q){var it=X===T?"connection.updateWaypoints":"connection.reconnect";if(q=c.allowed=y.allowed(it,{connection:O,source:X===E?Q:F,target:X===u?Q:z,type:X}),q){c.source=X===E?Q:F,c.target=X===u?Q:z;return}q===!1&&(q=c.allowed=y.allowed(it,{connection:O,source:X===u?Q:z,target:X===E?Q:F,type:X})),q&&(c.source=X===u?Q:z,c.target=X===E?Q:F)}}),M.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(r){var c=r.context;c.hover=null,c.source=null,c.target=null,c.allowed=!1}),M.on("bendpoint.move.end",function(r){var c=r.context,O=c.allowed,F=c.bendpointIndex,z=c.connection,Q=c.insert,X=z.waypoints.slice(),q=c.source,it=c.target,K=c.type,k={},V={x:v(r.x),y:v(r.y)};if(!O)return!1;K===T?(Q?X.splice(F,0,V):X[F]=V,k={bendpointMove:{insert:Q,bendpointIndex:F}},X=this.cropWaypoints(z,X),t.updateWaypoints(z,(0,_.Wy)(X),k)):(K===E?(k.docking="source",m(c)&&(k.docking="target",k.newWaypoints=X.reverse())):K===u&&(k.docking="target",m(c)&&(k.docking="source",k.newWaypoints=X.reverse())),t.reconnect(z,q,it,V,k))},this)}P.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],P.prototype.cropWaypoints=function(W,M){var C=this._injector.get("connectionDocking",!1);if(!C)return M;var R=W.waypoints;return W.waypoints=M,W.waypoints=C.getCroppedWaypoints(W),M=W.waypoints,W.waypoints=R,M};function m(W){var M=W.hover,C=W.source,R=W.target,y=W.type;if(y===E)return M&&R&&M===R&&C!==R;if(y===u)return M&&C&&M===C&&C!==R}var s=f(33225),e=f(69855),l=f(52965),n="reconnectStart",o="reconnectEnd",i="updateWaypoints",p="connect-ok",g="connect-not-ok",h="connect-hover",x="djs-updating",A="djs-element-hidden",U=1100;function w(W,M,C,R){this._injector=M;var y=M.get("connectionPreview",!1);C.on("bendpoint.move.start",function(t){var r=t.context,c=r.bendpointIndex,O=r.connection,F=r.insert,z=O.waypoints,Q=z.slice();r.waypoints=z,F&&Q.splice(c,0,{x:t.x,y:t.y}),O.waypoints=Q;var X=r.draggerGfx=(0,e.zk)(R.getLayer("overlays"));(0,s.Ly)(X).add("djs-dragging"),R.addMarker(O,A),R.addMarker(O,x)}),C.on("bendpoint.move.hover",function(t){var r=t.context,c=r.allowed,O=r.hover,F=r.type;if(O){if(R.addMarker(O,h),F===i)return;c?(R.removeMarker(O,g),R.addMarker(O,p)):c===!1&&(R.removeMarker(O,p),R.addMarker(O,g))}}),C.on(["bendpoint.move.out","bendpoint.move.cleanup"],U,function(t){var r=t.context,c=r.hover,O=r.target;c&&(R.removeMarker(c,h),R.removeMarker(c,O?p:g))}),C.on("bendpoint.move.move",function(t){var r=t.context,c=r.allowed,O=r.bendpointIndex,F=r.draggerGfx,z=r.hover,Q=r.type,X=r.connection,q=X.source,it=X.target,K=X.waypoints.slice(),k=K.slice().reverse(),V={x:t.x,y:t.y},I;y&&(I={source:q,target:it},Q===n?m(r)?(I.connectionEnd=V,I.source=it,I.target=z||q,K=k):(I.connectionStart=V,I.source=z||q):Q===o?m(r)?(I.connectionStart=V,I.target=q,I.source=z||it,K=k):(I.connectionEnd=V,I.target=z||it):(I.noCropping=!0,I.noLayout=!0,K[O]=V),Q===i&&(K=W.cropWaypoints(X,K)),I.waypoints=K,y.drawPreview(r,c,I)),(0,l.Tl)(F,t.x,t.y)},this),C.on(["bendpoint.move.end","bendpoint.move.cancel"],U,function(t){var r=t.context,c=r.connection,O=r.draggerGfx,F=r.hover,z=r.target,Q=r.waypoints;c.waypoints=Q,(0,s.TF)(O),R.removeMarker(c,x),R.removeMarker(c,A),F&&(R.removeMarker(F,p),R.removeMarker(F,z?p:g)),y&&y.cleanUp(r)})}w.$inject=["bendpointMove","injector","eventBus","canvas"];var L=f(45041),D=f(98218),B=f(17521),Y=Math.abs,Z=Math.round,ot=10;function et(W){function M(t,r){if((0,D.isArray)(t)){for(var c=t.length;c--;)if(Y(t[c]-r)<=ot)return t[c]}else{t=+t;var O=r%t;if(O<ot)return r-O;if(O>t-ot)return r-O+t}return r}function C(t){if(t.width)return{x:Z(t.width/2+t.x),y:Z(t.height/2+t.y)}}function R(t){var r=t.snapPoints,c=t.connection,O=c.waypoints,F=t.segmentStart,z=t.segmentStartIndex,Q=t.segmentEnd,X=t.segmentEndIndex,q=t.axis;if(r)return r;var it=[O[z-1],F,Q,O[X+1]];return z<2&&it.unshift(C(c.source)),X>O.length-3&&it.unshift(C(c.target)),t.snapPoints=r={horizontal:[],vertical:[]},(0,D.forEach)(it,function(K){K&&(K=K.original||K,q==="y"&&r.horizontal.push(K.y),q==="x"&&r.vertical.push(K.x))}),r}W.on("connectionSegment.move.move",1500,function(t){var r=t.context,c=R(r),O=t.x,F=t.y,z,Q;if(c){z=M(c.vertical,O),Q=M(c.horizontal,F);var X=O-z,q=F-Q;(0,D.assign)(t,{dx:t.dx-X,dy:t.dy-q,x:z,y:Q}),(X||c.vertical.indexOf(O)!==-1)&&(0,B.CU)(t,"x",z),(q||c.horizontal.indexOf(F)!==-1)&&(0,B.CU)(t,"y",Q)}});function y(t){var r=t.snapPoints,c=t.connection.waypoints,O=t.bendpointIndex;if(r)return r;var F=[c[O-1],c[O+1]];return t.snapPoints=r={horizontal:[],vertical:[]},(0,D.forEach)(F,function(z){z&&(z=z.original||z,r.horizontal.push(z.y),r.vertical.push(z.x))}),r}W.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(t){var r=t.context,c=y(r),O=r.hover,F=O&&C(O),z=t.x,Q=t.y,X,q;if(c){X=M(F?c.vertical.concat([F.x]):c.vertical,z),q=M(F?c.horizontal.concat([F.y]):c.horizontal,Q);var it=z-X,K=Q-q;(0,D.assign)(t,{dx:t.dx-it,dy:t.dy-K,x:t.x-it,y:t.y-K}),(it||c.vertical.indexOf(z)!==-1)&&(0,B.CU)(t,"x",X),(K||c.horizontal.indexOf(Q)!==-1)&&(0,B.CU)(t,"y",q)}})}et.$inject=["eventBus"];const H={__depends__:[a.A,N.A],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",d.A],bendpointMove:["type",P],bendpointMovePreview:["type",w],connectionSegmentMove:["type",L.A],bendpointSnapping:["type",et]}},54100:(rt,$,f)=>{f.d($,{A:()=>d});var a=f(10018);function N(_,v,E,u){_.on("element.changed",function(T){var P=T.element;(P.parent||P===v.getRootElement())&&(T.gfx=E.getGraphics(P)),T.gfx&&_.fire((0,a.Pw)(P)+".changed",T)}),_.on("elements.changed",function(T){var P=T.elements;P.forEach(function(m){_.fire("element.changed",{element:m})}),u.updateContainments(P)}),_.on("shape.changed",function(T){u.update("shape",T.element,T.gfx)}),_.on("connection.changed",function(T){u.update("connection",T.element,T.gfx)})}N.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const d={__init__:["changeSupport"],changeSupport:["type",N]}},95576:(rt,$,f)=>{f.d($,{A:()=>l});var a=f(56773),N=f(11918),d=f(84654),_=f(65911),v=f(98218);function E(n,o,i,p){function g(x,A){return p.allowed("connection.create",{source:x,target:A})}function h(x,A){return g(A,x)}n.on("connect.hover",function(x){var A=x.context,U=A.start,w=x.hover,L;if(A.hover=w,L=A.canExecute=g(U,w),!(0,v.isNil)(L)){if(L!==!1){A.source=U,A.target=w;return}L=A.canExecute=h(U,w),!(0,v.isNil)(L)&&L!==!1&&(A.source=w,A.target=U)}}),n.on(["connect.out","connect.cleanup"],function(x){var A=x.context;A.hover=null,A.source=null,A.target=null,A.canExecute=!1}),n.on("connect.end",function(x){var A=x.context,U=A.canExecute,w=A.connectionStart,L={x:x.x,y:x.y},D=A.source,B=A.target;if(!U)return!1;var Y=null,Z={connectionStart:u(A)?L:w,connectionEnd:u(A)?w:L};(0,v.isObject)(U)&&(Y=U);var ot=i.connect(D,B,Y,Z);x.context.connection=ot}),this.start=function(x,A,U,w){(0,v.isObject)(U)||(w=U,U=(0,_.pp)(A)),o.init(x,"connect",{autoActivate:w,data:{shape:A,context:{start:A,connectionStart:U}}})}}E.$inject=["eventBus","dragging","modeling","rules"];function u(n){var o=n.hover,i=n.source,p=n.target;return o&&i&&o===i&&i!==p}var T=1100,P=900,m="connect-ok",s="connect-not-ok";function e(n,o,i){var p=n.get("connectionPreview",!1);p&&o.on("connect.move",function(g){var h=g.context,x=h.canExecute,A=h.hover,U=h.source,w=h.start,L=h.startPosition,D=h.target,B=u(h)?{x:g.x,y:g.y}:L,Y=u(h)?L:{x:g.x,y:g.y};p.drawPreview(h,x,{source:U||w,target:D||A,connectionStart:B,connectionEnd:Y})}),o.on("connect.hover",P,function(g){var h=g.context,x=g.hover,A=h.canExecute;A!==null&&i.addMarker(x,A?m:s)}),o.on(["connect.out","connect.cleanup"],T,function(g){var h=g.hover;h&&(i.removeMarker(h,m),i.removeMarker(h,s))}),p&&o.on("connect.cleanup",function(g){p.cleanUp(g.context)})}e.$inject=["injector","eventBus","canvas"];const l={__depends__:[a.A,N.A,d.A],__init__:["connectPreview"],connect:["type",E],connectPreview:["type",e]}},28012:(rt,$,f)=>{f.d($,{A:()=>E});var a=f(33225),N=f(98218),d=f.n(N),_=f(65911),v="djs-connection-preview";function E(P,m,s,e){this._canvas=m,this._graphicsFactory=s,this._elementFactory=e,this._connectionDocking=P.get("connectionDocking",!1),this._layouter=P.get("layouter",!1)}E.$inject=["injector","canvas","graphicsFactory","elementFactory"],E.prototype.drawPreview=function(P,m,s){s=s||{};var e=P.connectionPreviewGfx,l=P.getConnection,n=s.source,o=s.target,i=s.waypoints,p=s.connectionStart,g=s.connectionEnd,h=s.noLayout,x=s.noCropping,A=s.noNoop,U,w=this;if(e||(e=P.connectionPreviewGfx=this.createConnectionPreviewGfx()),(0,a.IU)(e),l||(l=P.getConnection=u(function(L,D,B){return w.getConnection(L,D,B)})),m&&(U=l(m,n,o)),!U){!A&&this.drawNoopPreview(e,s);return}U.waypoints=i||[],this._layouter&&!h&&(U.waypoints=this._layouter.layoutConnection(U,{source:n,target:o,connectionStart:p,connectionEnd:g,waypoints:s.waypoints||U.waypoints})),(!U.waypoints||!U.waypoints.length)&&(U.waypoints=[n?(0,_.pp)(n):p,o?(0,_.pp)(o):g]),this._connectionDocking&&(n||o)&&!x&&(U.waypoints=this._connectionDocking.getCroppedWaypoints(U,n,o)),this._graphicsFactory.drawConnection(e,U)},E.prototype.drawNoopPreview=function(P,m){var s=m.source,e=m.target,l=m.connectionStart||(0,_.pp)(s),n=m.connectionEnd||(0,_.pp)(e),o=this.cropWaypoints(l,n,s,e),i=this.createNoopConnection(o[0],o[1]);(0,a.BC)(P,i)},E.prototype.cropWaypoints=function(P,m,s,e){var l=this._graphicsFactory,n=s&&l.getShapePath(s),o=e&&l.getShapePath(e),i=l.getConnectionPath({waypoints:[P,m]});return P=s&&(0,_.ki)(n,i,!0)||P,m=e&&(0,_.ki)(o,i,!1)||m,[P,m]},E.prototype.cleanUp=function(P){P&&P.connectionPreviewGfx&&(0,a.TF)(P.connectionPreviewGfx)},E.prototype.getConnection=function(P){var m=T(P);return this._elementFactory.createConnection(m)},E.prototype.createConnectionPreviewGfx=function(){var P=(0,a.vt)("g");return(0,a.CF)(P,{pointerEvents:"none"}),(0,a.Ly)(P).add(v),(0,a.BC)(this._canvas.getDefaultLayer(),P),P},E.prototype.createNoopConnection=function(P,m){var s=(0,a.vt)("polyline");return(0,a.CF)(s,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),(0,a.CF)(s,{points:[P.x,P.y,m.x,m.y]}),s};function u(P){var m={};return function(s){var e=JSON.stringify(s),l=m[e];return l||(l=m[e]=P.apply(null,arguments)),l}}function T(P){return(0,N.isObject)(P)?P:{}}},85284:(rt,$,f)=>{f.d($,{A:()=>N});var a=f(28012);const N={__init__:["connectionPreview"],connectionPreview:["type",a.A]}},26316:(rt,$,f)=>{f.d($,{A:()=>g});var a=f(69380),N=f(98218),d=f(52687),_=f(10018),v=f(50941),E=new v.A("ov"),u=500;function T(h,x,A,U){this._eventBus=x,this._canvas=A,this._elementRegistry=U,this._ids=E,this._overlayDefaults=(0,N.assign)({show:null,scale:!0},h&&h.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=P(A.getContainer()),this._init()}T.$inject=["config.overlays","eventBus","canvas","elementRegistry"],T.prototype.get=function(h){if((0,N.isString)(h)&&(h={id:h}),(0,N.isString)(h.element)&&(h.element=this._elementRegistry.get(h.element)),h.element){var x=this._getOverlayContainer(h.element,!0);return x?h.type?(0,N.filter)(x.overlays,(0,N.matchPattern)({type:h.type})):x.overlays.slice():[]}else return h.type?(0,N.filter)(this._overlays,(0,N.matchPattern)({type:h.type})):h.id?this._overlays[h.id]:null},T.prototype.add=function(h,x,A){if((0,N.isObject)(x)&&(A=x,x=null),h.id||(h=this._elementRegistry.get(h)),!A.position)throw new Error("must specifiy overlay position");if(!A.html)throw new Error("must specifiy overlay html");if(!h)throw new Error("invalid element specified");var U=this._ids.next();return A=(0,N.assign)({},this._overlayDefaults,A,{id:U,type:x,element:h,html:A.html}),this._addOverlay(A),U},T.prototype.remove=function(h){var x=this.get(h)||[];(0,N.isArray)(x)||(x=[x]);var A=this;(0,N.forEach)(x,function(U){var w=A._getOverlayContainer(U.element,!0);if(U&&((0,d.remove)(U.html),(0,d.remove)(U.htmlContainer),delete U.htmlContainer,delete U.element,delete A._overlays[U.id]),w){var L=w.overlays.indexOf(U);L!==-1&&w.overlays.splice(L,1)}})},T.prototype.show=function(){s(this._overlayRoot)},T.prototype.hide=function(){s(this._overlayRoot,!1)},T.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,d.clear)(this._overlayRoot)},T.prototype._updateOverlayContainer=function(h){var x=h.element,A=h.html,U=x.x,w=x.y;if(x.waypoints){var L=(0,_.U7)(x);U=L.x,w=L.y}m(A,U,w),(0,d.attr)(h.html,"data-container-id",x.id)},T.prototype._updateOverlay=function(h){var x=h.position,A=h.htmlContainer,U=h.element,w=x.left,L=x.top;if(x.right!==void 0){var D;U.waypoints?D=(0,_.U7)(U).width:D=U.width,w=x.right*-1+D}if(x.bottom!==void 0){var B;U.waypoints?B=(0,_.U7)(U).height:B=U.height,L=x.bottom*-1+B}m(A,w||0,L||0)},T.prototype._createOverlayContainer=function(h){var x=(0,d.domify)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(x);var A={html:x,element:h,overlays:[]};return this._updateOverlayContainer(A),this._overlayContainers.push(A),A},T.prototype._updateRoot=function(h){var x=h.scale||1,A="matrix("+[x,0,0,x,-1*h.x*x,-1*h.y*x].join(",")+")";e(this._overlayRoot,A)},T.prototype._getOverlayContainer=function(h,x){var A=(0,N.find)(this._overlayContainers,function(U){return U.element===h});return!A&&!x?this._createOverlayContainer(h):A},T.prototype._addOverlay=function(h){var x=h.id,A=h.element,U=h.html,w,L;U.get&&U.constructor.prototype.jquery&&(U=U.get(0)),(0,N.isString)(U)&&(U=(0,d.domify)(U)),L=this._getOverlayContainer(A),w=(0,d.domify)('<div class="djs-overlay" data-overlay-id="'+x+'" style="position: absolute">'),w.appendChild(U),h.type&&(0,d.classes)(w).add("djs-overlay-"+h.type),h.htmlContainer=w,L.overlays.push(h),L.html.appendChild(w),this._overlays[x]=h,this._updateOverlay(h),this._updateOverlayVisibilty(h,this._canvas.viewbox())},T.prototype._updateOverlayVisibilty=function(h,x){var A=h.show,U=A&&A.minZoom,w=A&&A.maxZoom,L=h.htmlContainer,D=!0;A&&(((0,N.isDefined)(U)&&U>x.scale||(0,N.isDefined)(w)&&w<x.scale)&&(D=!1),s(L,D)),this._updateOverlayScale(h,x)},T.prototype._updateOverlayScale=function(h,x){var A=h.scale,U,w,L=h.htmlContainer,D,B="";A!==!0&&(A===!1?(U=1,w=1):(U=A.min,w=A.max),(0,N.isDefined)(U)&&x.scale<U&&(D=(1/x.scale||1)*U),(0,N.isDefined)(w)&&x.scale>w&&(D=(1/x.scale||1)*w)),(0,N.isDefined)(D)&&(B="scale("+D+","+D+")"),e(L,B)},T.prototype._updateOverlaysVisibilty=function(h){var x=this;(0,N.forEach)(this._overlays,function(A){x._updateOverlayVisibilty(A,h)})},T.prototype._init=function(){var h=this._eventBus,x=this;function A(U){x._updateRoot(U),x._updateOverlaysVisibilty(U),x.show()}h.on("canvas.viewbox.changing",function(U){x.hide()}),h.on("canvas.viewbox.changed",function(U){A(U.viewbox)}),h.on(["shape.remove","connection.remove"],function(U){var w=U.element,L=x.get({element:w});(0,N.forEach)(L,function(Y){x.remove(Y.id)});var D=x._getOverlayContainer(w);if(D){(0,d.remove)(D.html);var B=x._overlayContainers.indexOf(D);B!==-1&&x._overlayContainers.splice(B,1)}}),h.on("element.changed",u,function(U){var w=U.element,L=x._getOverlayContainer(w,!0);L&&((0,N.forEach)(L.overlays,function(D){x._updateOverlay(D)}),x._updateOverlayContainer(L))}),h.on("element.marker.update",function(U){var w=x._getOverlayContainer(U.element,!0);w&&(0,d.classes)(w.html)[U.add?"add":"remove"](U.marker)}),h.on("diagram.clear",this.clear,this)};function P(h){var x=(0,d.domify)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return h.insertBefore(x,h.firstChild),x}function m(h,x,A){(0,N.assign)(h.style,{left:x+"px",top:A+"px"})}function s(h,x){h.style.display=x===!1?"none":""}function e(h,x){h.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(A){h.style[A+"transform"]=x})}const l={__init__:["overlays"],overlays:["type",T]};var n=".entry",o=1e3;function i(h,x,A){this._eventBus=x,this._overlays=A;var U=(0,N.isDefined)(h&&h.scale)?h.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:U},this._current=null,this._init()}i.$inject=["config.contextPad","eventBus","overlays"],i.prototype._init=function(){var h=this._eventBus,x=this;h.on("selection.changed",function(A){var U=A.newSelection;U.length===1?x.open(U[0]):x.close()}),h.on("elements.delete",function(A){var U=A.elements;(0,N.forEach)(U,function(w){x.isOpen(w)&&x.close()})}),h.on("element.changed",function(A){var U=A.element,w=x._current;w&&w.element===U&&x.open(U,!0)})},i.prototype.registerProvider=function(h,x){x||(x=h,h=o),this._eventBus.on("contextPad.getProviders",h,function(A){A.providers.push(x)})},i.prototype.getEntries=function(h){var x=this._getProviders(),A={};return(0,N.forEach)(x,function(U){var w=U.getContextPadEntries(h);(0,N.isFunction)(w)?A=w(A):(0,N.forEach)(w,function(L,D){A[D]=L})}),A},i.prototype.trigger=function(h,x,A){var U=this._current.element,w=this._current.entries,L,D,B,Y=x.delegateTarget||x.target;if(!Y)return x.preventDefault();if(L=w[(0,d.attr)(Y,"data-action")],D=L.action,B=x.originalEvent||x,(0,N.isFunction)(D)){if(h==="click")return D(B,U,A)}else if(D[h])return D[h](B,U,A);x.preventDefault()},i.prototype.open=function(h,x){!x&&this.isOpen(h)||(this.close(),this._updateAndOpen(h))},i.prototype._getProviders=function(h){var x=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(x),x.providers},i.prototype._updateAndOpen=function(h){var x=this.getEntries(h),A=this.getPad(h),U=A.html;(0,N.forEach)(x,function(w,L){var D=w.group||"default",B=(0,d.domify)(w.html||'<div class="entry" draggable="true"></div>'),Y;(0,d.attr)(B,"data-action",L),Y=(0,d.query)("[data-group="+D+"]",U),Y||(Y=(0,d.domify)('<div class="group" data-group="'+D+'"></div>'),U.appendChild(Y)),Y.appendChild(B),w.className&&p(B,w.className),w.title&&(0,d.attr)(B,"title",w.title),w.imageUrl&&B.appendChild((0,d.domify)('<img src="'+w.imageUrl+'">'))}),(0,d.classes)(U).add("open"),this._current={element:h,pad:A,entries:x},this._eventBus.fire("contextPad.open",{current:this._current})},i.prototype.getPad=function(h){if(this.isOpen())return this._current.pad;var x=this,A=this._overlays,U=(0,d.domify)('<div class="djs-context-pad"></div>'),w=(0,N.assign)({html:U},this._overlaysConfig);d.delegate.bind(U,n,"click",function(D){x.trigger("click",D)}),d.delegate.bind(U,n,"dragstart",function(D){x.trigger("dragstart",D)}),d.event.bind(U,"mousedown",function(D){D.stopPropagation()}),this._overlayId=A.add(h,"context-pad",w);var L=A.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:h,pad:L}),L},i.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},i.prototype.isOpen=function(h){return!!this._current&&(h?this._current.element===h:!0)};function p(h,x){var A=(0,d.classes)(h),U=(0,N.isArray)(x)?x:x.split(/\s+/g);U.forEach(function(w){A.add(w)})}const g={__depends__:[a.A,l],contextPad:["type",i]}},7034:(rt,$,f)=>{f.d($,{A:()=>s});var a=f(98218),N=f.n(a),d=f(10018);function _(e,l,n,o,i,p,g,h){this._canvas=e,this._create=l,this._clipboard=n,this._elementFactory=o,this._eventBus=i,this._modeling=p,this._mouse=g,this._rules=h,i.on("copyPaste.copyElement",function(x){var A=x.descriptor,U=x.element,w=x.elements;A.priority=1,A.id=U.id;var L=(0,a.find)(w,function(D){return D===U.parent});L&&(A.parent=U.parent.id),v(U)&&(A.priority=2,A.host=U.host.id),E(U)&&(A.priority=3,A.source=U.source.id,A.target=U.target.id,A.waypoints=T(U)),u(U)&&(A.priority=4,A.labelTarget=U.labelTarget.id),(0,a.forEach)(["x","y","width","height"],function(D){(0,a.isNumber)(U[D])&&(A[D]=U[D])}),A.hidden=U.hidden,A.collapsed=U.collapsed}),i.on("copyPaste.pasteElements",function(x){var A=x.hints;(0,a.assign)(A,{createElementsBehavior:!1})})}_.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],_.prototype.copy=function(e){var l,n;return(0,a.isArray)(e)||(e=e?[e]:[]),l=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}),l===!1?n={}:n=this.createTree((0,a.isArray)(l)?l:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n},_.prototype.paste=function(e){var l=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var o=this._createElements(l);if(e&&e.element&&e.point)return this._paste(o,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),o,{hints:n})}},_.prototype._paste=function(e,l,n,o){(0,a.forEach)(e,function(p){(0,a.isNumber)(p.x)||(p.x=0),(0,a.isNumber)(p.y)||(p.y=0)});var i=(0,d.U7)(e);return(0,a.forEach)(e,function(p){E(p)&&(p.waypoints=(0,a.map)(p.waypoints,function(g){return{x:g.x-i.x-i.width/2,y:g.y-i.y-i.height/2}})),(0,a.assign)(p,{x:p.x-i.x-i.width/2,y:p.y-i.y-i.height/2})}),this._modeling.createElements(e,n,l,(0,a.assign)({},o))},_.prototype._createElements=function(e){var l=this,n=this._eventBus,o={},i=[];return(0,a.forEach)(e,function(p,g){g=parseInt(g,10),p=(0,a.sortBy)(p,"priority"),(0,a.forEach)(p,function(h){var x=(0,a.assign)({},(0,a.omit)(h,["priority"]));o[h.parent]?x.parent=o[h.parent]:delete x.parent,n.fire("copyPaste.pasteElement",{cache:o,descriptor:x});var A;if(E(x)){x.source=o[h.source],x.target=o[h.target],A=o[h.id]=l.createConnection(x),i.push(A);return}if(u(x)){x.labelTarget=o[x.labelTarget],A=o[h.id]=l.createLabel(x),i.push(A);return}x.host&&(x.host=o[x.host]),A=o[h.id]=l.createShape(x),i.push(A)})}),i},_.prototype.createConnection=function(e){var l=this._elementFactory.createConnection((0,a.omit)(e,["id"]));return l},_.prototype.createLabel=function(e){var l=this._elementFactory.createLabel((0,a.omit)(e,["id"]));return l},_.prototype.createShape=function(e){var l=this._elementFactory.createShape((0,a.omit)(e,["id"]));return l},_.prototype.hasRelations=function(e,l){var n,o,i;return!(E(e)&&(o=(0,a.find)(l,(0,a.matchPattern)({id:e.source.id})),i=(0,a.find)(l,(0,a.matchPattern)({id:e.target.id})),!o||!i)||u(e)&&(n=(0,a.find)(l,(0,a.matchPattern)({id:e.labelTarget.id})),!n))},_.prototype.createTree=function(e){var l=this._rules,n=this,o={},i=[],p=(0,d.wT)(e);function g(A,U){return l.allowed("element.copy",{element:A,elements:U})}function h(A,U){var w=(0,a.find)(i,function(L){return A===L.element});if(!w){i.push({element:A,depth:U});return}w.depth<U&&(i=x(w,i),i.push({element:w.element,depth:U}))}function x(A,U){var w=U.indexOf(A);return w!==-1&&U.splice(w,1),U}return(0,d.qO)(p,function(A,U,w){if(u(A))return;(0,a.forEach)(A.labels,function(D){h(D,w)});function L(D){D&&D.length&&(0,a.forEach)(D,function(B){(0,a.forEach)(B.labels,function(Y){h(Y,w)}),h(B,w)})}return(0,a.forEach)([A.attachers,A.incoming,A.outgoing],L),h(A,w),A.children}),e=(0,a.map)(i,function(A){return A.element}),i=(0,a.map)(i,function(A){return A.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:A.descriptor,element:A.element,elements:e}),A}),i=(0,a.sortBy)(i,function(A){return A.descriptor.priority}),e=(0,a.map)(i,function(A){return A.element}),(0,a.forEach)(i,function(A){var U=A.depth;if(!n.hasRelations(A.element,e)){m(A.element,e);return}if(!g(A.element,e)){m(A.element,e);return}o[U]||(o[U]=[]),o[U].push(A.descriptor)}),o};function v(e){return!!e.host}function E(e){return!!e.waypoints}function u(e){return!!e.labelTarget}function T(e){return(0,a.map)(e.waypoints,function(l){return l=P(l),l.original&&(l.original=P(l.original)),l})}function P(e){return(0,a.assign)({},e)}function m(e,l){var n=l.indexOf(e);return n===-1?l:l.splice(n,1)}const s=_},78768:(rt,$,f)=>{f.d($,{A:()=>P});function a(){}a.prototype.get=function(){return this._data},a.prototype.set=function(m){this._data=m},a.prototype.clear=function(){var m=this._data;return delete this._data,m},a.prototype.isEmpty=function(){return!this._data};const N={clipboard:["type",a]};var d=f(54559);function _(m){var s=this;this._lastMoveEvent=null;function e(l){s._lastMoveEvent=l}m.on("canvas.init",function(l){var n=s._svg=l.svg;n.addEventListener("mousemove",e)}),m.on("canvas.destroy",function(){s._lastMouseEvent=null,s._svg.removeEventListener("mousemove",e)})}_.$inject=["eventBus"],_.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||v(0,0)};function v(m,s){var e=document.createEvent("MouseEvent"),l=m,n=s,o=m,i=s;return e.initMouseEvent&&e.initMouseEvent("mousemove",!0,!0,window,0,l,n,o,i,!1,!1,!1,!1,0,null),e}const E={__init__:["mouse"],mouse:["type",_]};var u=f(11918),T=f(7034);const P={__depends__:[N,d.A,E,u.A],__init__:["copyPaste"],copyPaste:["type",T.A]}},54559:(rt,$,f)=>{f.d($,{A:()=>w});var a=f(84654),N=f(71953),d=f(11918),_=f(56773),v=f(98218),E=f(10018),u="drop-ok",T="drop-not-ok",P="attach-ok",m="new-parent",s="create",e=2e3;function l(L,D,B,Y,Z){function ot(W,M,C,R){if(!M)return!1;W=(0,v.filter)(W,function(O){var F=O.labelTarget;return!O.parent&&!(p(O)&&W.indexOf(F)!==-1)});var y=(0,v.find)(W,function(O){return!o(O)}),t=!1,r=!1,c=!1;return i(W)&&(t=Z.allowed("shape.attach",{position:C,shape:y,target:M})),t||(i(W)?c=Z.allowed("shape.create",{position:C,shape:y,source:R,target:M}):c=Z.allowed("elements.create",{elements:W,position:C,target:M})),c||t?(y&&R&&(r=Z.allowed("connection.create",{source:R,target:y,hints:{targetParent:M,targetAttach:t}})),{attach:t,connect:r}):c===null||t===null?null:!1}function et(W,M){[P,u,T,m].forEach(function(C){C===M?L.addMarker(W,C):L.removeMarker(W,C)})}B.on(["create.move","create.hover"],function(W){var M=W.context,C=M.elements,R=W.hover,y=M.source;if(!R){M.canExecute=!1,M.target=null;return}n(W);var t={x:W.x,y:W.y},r=M.canExecute=R&&ot(C,R,t,y);R&&r!==null&&(M.target=R,r&&r.attach?et(R,P):et(R,r?m:T))}),B.on(["create.end","create.out","create.cleanup"],function(W){var M=W.hover;M&&et(M,null)}),B.on("create.end",function(W){var M=W.context,C=M.source,R=M.shape,y=M.elements,t=M.target,r=M.hints,c=M.canExecute,O=c&&c.attach,F=c&&c.connect;if(c===!1||!t)return!1;n(W);var z={x:W.x,y:W.y};F?R=Y.appendShape(C,R,z,t,{attach:O,connection:F===!0?{}:F}):(y=Y.createElements(y,z,t,(0,v.assign)({},r,{attach:O})),R=(0,v.find)(y,function(Q){return!o(Q)})),(0,v.assign)(M,{elements:y,shape:R}),(0,v.assign)(W,{elements:y,shape:R})});function H(){var W=D.context();W&&W.prefix===s&&D.cancel()}B.on("create.init",function(){B.on("elements.changed",H),B.once(["create.cancel","create.end"],e,function(){B.off("elements.changed",H)})}),this.start=function(W,M,C){(0,v.isArray)(M)||(M=[M]);var R=(0,v.find)(M,function(t){return!o(t)});if(R){C=(0,v.assign)({elements:M,hints:{},shape:R},C||{}),(0,v.forEach)(M,function(t){(0,v.isNumber)(t.x)||(t.x=0),(0,v.isNumber)(t.y)||(t.y=0)});var y=(0,E.U7)(M);(0,v.forEach)(M,function(t){o(t)&&(t.waypoints=(0,v.map)(t.waypoints,function(r){return{x:r.x-y.x-Math.round(y.width/2),y:r.y-y.y-Math.round(y.height/2)}})),(0,v.assign)(t,{x:t.x-y.x-Math.round(y.width/2),y:t.y-y.y-Math.round(y.height/2)})}),D.init(W,s,{cursor:"grabbing",autoActivate:!0,data:{shape:R,elements:M,context:C}})}}}l.$inject=["canvas","dragging","eventBus","modeling","rules"];function n(L){var D=L.context,B=D.createConstraints;B&&(B.left&&(L.x=Math.max(L.x,B.left)),B.right&&(L.x=Math.min(L.x,B.right)),B.top&&(L.y=Math.max(L.y,B.top)),B.bottom&&(L.y=Math.min(L.y,B.bottom)))}function o(L){return!!L.waypoints}function i(L){return L&&L.length===1&&!o(L[0])}function p(L){return!!L.labelTarget}var g=f(52965),h=f(12266),x=f(33225),A=750;function U(L,D,B,Y,Z){function ot(et){var H=(0,x.vt)("g");(0,x.CF)(H,Z.cls("djs-drag-group",["no-events"]));var W=(0,x.vt)("g");return et.forEach(function(M){var C;(0,x.CF)(H,{"data-element-id":M.id}),!M.hidden&&(M.waypoints?(C=B._createContainer("connection",W),B.drawConnection((0,h.P)(C),M)):(C=B._createContainer("shape",W),B.drawShape((0,h.P)(C),M),(0,g.Tl)(C,M.x,M.y)),Y.addDragger(M,H,C))}),H}D.on("create.move",A,function(et){var H=et.hover,W=et.context,M=W.elements,C=W.dragGroup;C||(C=W.dragGroup=ot(M));var R;H?(C.parentNode||(R=L.getDefaultLayer(),(0,x.BC)(R,C)),(0,g.Tl)(C,et.x,et.y)):(0,x.TF)(C)}),D.on("create.cleanup",function(et){var H=et.context,W=H.dragGroup;W&&(0,x.TF)(W)})}U.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const w={__depends__:[a.A,N.A,d.A,_.A],__init__:["create","createPreview"],create:["type",l],createPreview:["type",U]}},84654:(rt,$,f)=>{f.d($,{A:()=>p});var a=f(56773),N=f(98218),d=f(52687),_=f(86439),v=f(46837),E=f(200),u=f(56764),T=Math.round,P="djs-drag-active";function m(g){g.preventDefault()}function s(g){return typeof TouchEvent<"u"&&g instanceof TouchEvent}function e(g){return Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2))}function l(g,h,x,A){var U={threshold:5,trapClick:!0},w;function L(t){var r=h.viewbox(),c=h._container.getBoundingClientRect();return{x:r.x+(t.x-c.left)/r.scale,y:r.y+(t.y-c.top)/r.scale}}function D(t,r){r=r||w;var c=g.createEvent((0,N.assign)({},r.payload,r.data,{isTouch:r.isTouch}));return g.fire("drag."+t,c)===!1?!1:g.fire(r.prefix+"."+t,c)}function B(t){var r=t.filter(function(c){return A.get(c.id)});r.length&&x.select(r)}function Y(t,r){var c=w.payload,O=w.displacement,F=w.globalStart,z=(0,_.gK)(t),Q=(0,u.p)(z,F),X=w.localStart,q=L(z),it=(0,u.p)(q,X);if(!w.active&&(r||e(Q)>w.threshold)){if((0,N.assign)(c,{x:T(X.x+O.x),y:T(X.y+O.y),dx:0,dy:0},{originalEvent:t}),D("start")===!1)return C();w.active=!0,w.keepSelection||(c.previousSelection=x.get(),x.select(null)),w.cursor&&(0,v.hZ)(w.cursor),h.addMarker(h.getRootElement(),P)}(0,_.dG)(t),w.active&&((0,N.assign)(c,{x:T(q.x+O.x),y:T(q.y+O.y),dx:T(it.x),dy:T(it.y)},{originalEvent:t}),D("move"))}function Z(t){var r,c=!0;w.active&&(t&&(w.payload.originalEvent=t,(0,_.dG)(t)),c=D("end")),c===!1&&D("rejected"),r=R(c!==!0),D("ended",r)}function ot(t){t.which===27&&(m(t),C())}function et(t){var r;w.active&&(r=(0,E.a)(g),setTimeout(r,400),m(t)),Z(t)}function H(t){Y(t)}function W(t){var r=w.payload;r.hoverGfx=t.gfx,r.hover=t.element,D("hover")}function M(t){D("out");var r=w.payload;r.hoverGfx=null,r.hover=null}function C(t){var r;if(w){var c=w.active;c&&D("cancel"),r=R(t),c&&D("canceled",r)}}function R(t){var r,c;D("cleanup"),(0,v.wC)(),w.trapClick?c=et:c=Z,d.event.unbind(document,"mousemove",Y),d.event.unbind(document,"dragstart",m),d.event.unbind(document,"selectstart",m),d.event.unbind(document,"mousedown",c,!0),d.event.unbind(document,"mouseup",c,!0),d.event.unbind(document,"keyup",ot),d.event.unbind(document,"touchstart",H,!0),d.event.unbind(document,"touchcancel",C,!0),d.event.unbind(document,"touchmove",Y,!0),d.event.unbind(document,"touchend",Z,!0),g.off("element.hover",W),g.off("element.out",M),h.removeMarker(h.getRootElement(),P);var O=w.payload.previousSelection;return t!==!1&&O&&!x.get().length&&B(O),r=w,w=null,r}function y(t,r,c,O){w&&C(!1),typeof r=="string"&&(O=c,c=r,r=null),O=(0,N.assign)({},U,O||{});var F=O.data||{},z,Q,X,q,it;O.trapClick?q=et:q=Z,t?(z=(0,_.AF)(t)||t,Q=(0,_.gK)(t),(0,_.dG)(t),z.type==="dragstart"&&m(z)):(z=null,Q={x:0,y:0}),X=L(Q),r||(r=X),it=s(z),w=(0,N.assign)({prefix:c,data:F,payload:{},globalStart:Q,displacement:(0,u.p)(r,X),localStart:X,isTouch:it},O),O.manual||(it?(d.event.bind(document,"touchstart",H,!0),d.event.bind(document,"touchcancel",C,!0),d.event.bind(document,"touchmove",Y,!0),d.event.bind(document,"touchend",Z,!0)):(d.event.bind(document,"mousemove",Y),d.event.bind(document,"dragstart",m),d.event.bind(document,"selectstart",m),d.event.bind(document,"mousedown",q,!0),d.event.bind(document,"mouseup",q,!0)),d.event.bind(document,"keyup",ot),g.on("element.hover",W),g.on("element.out",M)),D("init"),O.autoActivate&&Y(t,!0)}g.on("diagram.destroy",C),this.init=y,this.move=Y,this.hover=W,this.out=M,this.end=Z,this.cancel=C,this.context=function(){return w},this.setOptions=function(t){(0,N.assign)(U,t)}}l.$inject=["eventBus","canvas","selection","elementRegistry"];var n=1500;function o(g,h,x){var A=this;function U(w){if(!w.hover){var L=w.originalEvent,D=A._findTargetGfx(L),B=D&&x.get(D);D&&B&&(w.stopPropagation(),h.hover({element:B,gfx:D}),h.move(L))}}g.on("drag.start",function(w){g.once("drag.move",n,function(L){U(L)})}),g.on("drag.init",function(){var w,L;function D(Z){w=Z.hover,L=Z.hoverGfx}function B(){w=null,L=null}function Y(){if(w){var Z=w,ot=L;w=null,L=null,h.out({element:Z,gfx:ot})}}g.on("drag.hover",D),g.on("element.out",B),g.on("element.hover",n,Y),g.once("drag.cleanup",function(){g.off("drag.hover",D),g.off("element.out",B),g.off("element.hover",Y)})}),this._findTargetGfx=function(w){var L,D;if(w instanceof MouseEvent)return L=(0,_.gK)(w),D=document.elementFromPoint(L.x,L.y),i(D)}}o.$inject=["eventBus","dragging","elementRegistry"];function i(g){return(0,d.closest)(g,"svg, .djs-element",!0)}const p={__init__:["hoverFix"],__depends__:[a.A],dragging:["type",l],hoverFix:["type",o]}},20990:(rt,$,f)=>{f.d($,{A:()=>v});var a=f(98218),N=f.n(a),d="is not a registered action",_="is already registered";function v(u,T){this._actions={};var P=this;u.on("diagram.init",function(){P._registerDefaultActions(T),u.fire("editorActions.init",{editorActions:P})})}v.$inject=["eventBus","injector"],v.prototype._registerDefaultActions=function(u){var T=u.get("commandStack",!1),P=u.get("modeling",!1),m=u.get("selection",!1),s=u.get("zoomScroll",!1),e=u.get("copyPaste",!1),l=u.get("canvas",!1),n=u.get("rules",!1),o=u.get("keyboardMove",!1),i=u.get("keyboardMoveSelection",!1);T&&(this.register("undo",function(){T.undo()}),this.register("redo",function(){T.redo()})),e&&m&&this.register("copy",function(){var p=m.get();e.copy(p)}),e&&this.register("paste",function(){e.paste()}),s&&this.register("stepZoom",function(p){s.stepZoom(p.value)}),l&&this.register("zoom",function(p){l.zoom(p.value)}),P&&m&&n&&this.register("removeSelection",function(){var p=m.get();if(p.length){var g=n.allowed("elements.delete",{elements:p}),h;g!==!1&&((0,a.isArray)(g)?h=g:h=p,h.length&&P.removeElements(h.slice()))}}),o&&this.register("moveCanvas",function(p){o.moveCanvas(p)}),i&&this.register("moveSelection",function(p){i.moveSelection(p.direction,p.accelerated)})},v.prototype.trigger=function(u,T){if(!this._actions[u])throw E(u,d);return this._actions[u](T)},v.prototype.register=function(u,T){var P=this;if(typeof u=="string")return this._registerAction(u,T);(0,a.forEach)(u,function(m,s){P._registerAction(s,m)})},v.prototype._registerAction=function(u,T){if(this.isRegistered(u))throw E(u,_);this._actions[u]=T},v.prototype.unregister=function(u){if(!this.isRegistered(u))throw E(u,d);this._actions[u]=void 0},v.prototype.getActions=function(){return Object.keys(this._actions)},v.prototype.isRegistered=function(u){return!!this._actions[u]};function E(u,T){return new Error(u+" "+T)}},44394:(rt,$,f)=>{f.d($,{A:()=>T});var a=f(17521),N=f(34495),d=f(98218),_=f.n(d),v=f(78626),E=1200,u=800;function T(n,o,i){var p=!i||i.active!==!1;this._eventBus=o;var g=this;o.on("diagram.init",u,function(){g.setActive(p)}),o.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],E,function(h){var x=h.originalEvent;if(!(!g.active||x&&(0,N.nM)(x))){var A=h.context,U=A.gridSnappingContext;U||(U=A.gridSnappingContext={}),["x","y"].forEach(function(w){var L={},D=m(h,w,n);D&&(L.offset=D);var B=P(h,w);B&&(0,d.assign)(L,B),(0,a.AC)(h,w)||g.snapEvent(h,w,L)})}})}T.prototype.snapEvent=function(n,o,i){var p=this.snapValue(n[o],i);(0,a.CU)(n,o,p)},T.prototype.getGridSpacing=function(){return v.E},T.prototype.snapValue=function(n,o){var i=0;o&&o.offset&&(i=o.offset),n+=i,n=(0,v.y)(n,v.E);var p,g;return o&&o.min&&(p=o.min,(0,d.isNumber)(p)&&(p=(0,v.y)(p+i,v.E,"ceil"),n=Math.max(n,p))),o&&o.max&&(g=o.max,(0,d.isNumber)(g)&&(g=(0,v.y)(g+i,v.E,"floor"),n=Math.min(n,g))),n-=i,n},T.prototype.isActive=function(){return this.active},T.prototype.setActive=function(n){this.active=n,this._eventBus.fire("gridSnapping.toggle",{active:n})},T.prototype.toggleActive=function(){this.setActive(!this.active)},T.$inject=["elementRegistry","eventBus","config.gridSnapping"];function P(n,o){var i=n.context,p=i.createConstraints,g=i.resizeConstraints||{},h=i.gridSnappingContext,x=h.snapConstraints;if(x&&x[o])return x[o];x||(x=h.snapConstraints={}),x[o]||(x[o]={});var A=i.direction;p&&(s(o)?(x.x.min=p.left,x.x.max=p.right):(x.y.min=p.top,x.y.max=p.bottom));var U=g.min,w=g.max;return U&&(s(o)?l(A)?x.x.max=U.left:x.x.min=U.right:e(A)?x.y.max=U.top:x.y.min=U.bottom),w&&(s(o)?l(A)?x.x.min=w.left:x.x.max=w.right:e(A)?x.y.min=w.top:x.y.max=w.bottom),x[o]}function m(n,o,i){var p=n.context,g=n.shape,h=p.gridSnappingContext,x=h.snapLocation,A=h.snapOffset;return A&&(0,d.isNumber)(A[o])||(A||(A=h.snapOffset={}),(0,d.isNumber)(A[o])||(A[o]=0),!g)||(i.get(g.id)||(s(o)?A[o]+=g[o]+g.width/2:A[o]+=g[o]+g.height/2),!x)||(o==="x"?/left/.test(x)?A[o]-=g.width/2:/right/.test(x)&&(A[o]+=g.width/2):/top/.test(x)?A[o]-=g.height/2:/bottom/.test(x)&&(A[o]+=g.height/2)),A[o]}function s(n){return n==="x"}function e(n){return n.indexOf("n")!==-1}function l(n){return n.indexOf("w")!==-1}},78626:(rt,$,f)=>{f.d($,{E:()=>a,y:()=>N});var a=10;function N(d,_,v){return v||(v="round"),Math[v](d/_)*_}},46902:(rt,$,f)=>{f.d($,{A:()=>v});var a=f(60053),N=f(34495),d=1500,_="grab";function v(u,T,P,m,s){this._dragging=P;var e=this,l=m.get("keyboard",!1);s.registerTool("hand",{tool:"hand",dragging:"hand.move"}),u.on("element.mousedown",d,function(n){if((0,a.Io)(n))return this.activateMove(n.originalEvent),!1},this),l&&l.addListener(d,function(n){if(!E(n.keyEvent)||e.isActive())return;function o(p){e.activateMove(p),window.removeEventListener("mousemove",o)}window.addEventListener("mousemove",o);function i(p){E(p.keyEvent)&&(window.removeEventListener("mousemove",o),l.removeListener(i,"keyboard.keyup"),P.cancel())}l.addListener(d,i,"keyboard.keyup")},"keyboard.keydown"),u.on("hand.end",function(n){var o=n.originalEvent.target;if(!n.hover&&!(o instanceof SVGElement))return!1;u.once("hand.ended",function(){this.activateMove(n.originalEvent,{reactivate:!0})},this)},this),u.on("hand.move.move",function(n){var o=T.viewbox().scale;T.scroll({dx:n.dx*o,dy:n.dy*o})}),u.on("hand.move.end",function(n){var o=n.context,i=o.reactivate;return!(0,a.Io)(n)&&i&&u.once("hand.move.ended",function(p){this.activateHand(p.originalEvent,!0,!0)},this),!1},this)}v.$inject=["eventBus","canvas","dragging","injector","toolManager"],v.prototype.activateMove=function(u,T,P){typeof T=="object"&&(P=T,T=!1),this._dragging.init(u,"hand.move",{autoActivate:T,cursor:_,data:{context:P||{}}})},v.prototype.activateHand=function(u,T,P){this._dragging.init(u,"hand",{trapClick:!1,autoActivate:T,cursor:_,data:{context:{reactivate:P}}})},v.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},v.prototype.isActive=function(){var u=this._dragging.context();return u?/^(hand|hand\.move)$/.test(u.prefix):!1};function E(u){return(0,N.m0)(" ",u)}},69380:(rt,$,f)=>{f.d($,{A:()=>P});var a=f(98218),N=f(52687),d=f(60053),_=f(33225),v=f(12619);function E(m){return!0}var u=500;function T(m,s,e){var l=this;function n(M,C,R){if(!p(M,C)){var y,t,r;R?t=s.getGraphics(R):(y=C.delegateTarget||C.target,y&&(t=y,R=s.get(t))),!(!t||!R)&&(r=m.fire(M,{element:R,gfx:t,originalEvent:C}),r===!1&&(C.stopPropagation(),C.preventDefault()))}}var o={};function i(M){return o[M]}function p(M,C){var R=h[M]||d.ls;return!R(C)}var g={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},h={"element.contextmenu":E};function x(M,C,R){var y=g[M];if(!y)throw new Error("unmapped DOM event name <"+M+">");return n(y,C,R)}var A="svg, .djs-element";function U(M,C,R,y){var t=o[R]=function(r){n(R,r)};y&&(h[R]=y),t.$delegate=N.delegate.bind(M,A,C,t)}function w(M,C,R){var y=i(R);y&&N.delegate.unbind(M,C,y.$delegate)}function L(M){(0,a.forEach)(g,function(C,R){U(M,R,C)})}function D(M){(0,a.forEach)(g,function(C,R){w(M,R,C)})}m.on("canvas.destroy",function(M){D(M.svg)}),m.on("canvas.init",function(M){L(M.svg)}),m.on(["shape.added","connection.added"],function(M){var C=M.element,R=M.gfx;m.fire("interactionEvents.createHit",{element:C,gfx:R})}),m.on(["shape.changed","connection.changed"],u,function(M){var C=M.element,R=M.gfx;m.fire("interactionEvents.updateHit",{element:C,gfx:R})}),m.on("interactionEvents.createHit",u,function(M){var C=M.element,R=M.gfx;l.createDefaultHit(C,R)}),m.on("interactionEvents.updateHit",function(M){var C=M.element,R=M.gfx;l.updateDefaultHit(C,R)});var B=et("djs-hit djs-hit-stroke"),Y=et("djs-hit djs-hit-click-stroke"),Z=et("djs-hit djs-hit-all"),ot={all:Z,"click-stroke":Y,stroke:B};function et(M,C){return C=(0,a.assign)({stroke:"white",strokeWidth:15},C||{}),e.cls(M,["no-fill","no-border"],C)}function H(M,C){var R=ot[C];if(!R)throw new Error("invalid hit type <"+C+">");return(0,_.CF)(M,R),M}function W(M,C){(0,_.BC)(M,C)}this.removeHits=function(M){var C=(0,N.queryAll)(".djs-hit",M);(0,a.forEach)(C,_.TF)},this.createDefaultHit=function(M,C){var R=M.waypoints,y=M.isFrame,t;return R?this.createWaypointsHit(C,R):(t=y?"stroke":"all",this.createBoxHit(C,t,{width:M.width,height:M.height}))},this.createWaypointsHit=function(M,C){var R=(0,v.RJ)(C);return H(R,"stroke"),W(M,R),R},this.createBoxHit=function(M,C,R){R=(0,a.assign)({x:0,y:0},R);var y=(0,_.vt)("rect");return H(y,C),(0,_.CF)(y,R),W(M,y),y},this.updateDefaultHit=function(M,C){var R=(0,N.query)(".djs-hit",C);if(R)return M.waypoints?(0,v.si)(R,M.waypoints):(0,_.CF)(R,{width:M.width,height:M.height}),R},this.fire=n,this.triggerMouseEvent=x,this.mouseHandler=i,this.registerEvent=U,this.unregisterEvent=w}T.$inject=["eventBus","elementRegistry","styles"];const P={__init__:["interactionEvents"],interactionEvents:["type",T]}},77117:(rt,$,f)=>{f.d($,{A:()=>d});var a=f(34495),N=500;function d(_,v){var E=this;_.on("editorActions.init",N,function(u){var T=u.editorActions;E.registerBindings(v,T)})}d.$inject=["eventBus","keyboard"],d.prototype.registerBindings=function(_,v){function E(u,T){v.isRegistered(u)&&_.addListener(T)}E("undo",function(u){var T=u.keyEvent;if((0,a.nM)(T)&&!(0,a.Tu)(T)&&(0,a.m0)(["z","Z"],T))return v.trigger("undo"),!0}),E("redo",function(u){var T=u.keyEvent;if((0,a.nM)(T)&&((0,a.m0)(["y","Y"],T)||(0,a.m0)(["z","Z"],T)&&(0,a.Tu)(T)))return v.trigger("redo"),!0}),E("copy",function(u){var T=u.keyEvent;if((0,a.nM)(T)&&(0,a.m0)(["c","C"],T))return v.trigger("copy"),!0}),E("paste",function(u){var T=u.keyEvent;if((0,a.nM)(T)&&(0,a.m0)(["v","V"],T))return v.trigger("paste"),!0}),E("stepZoom",function(u){var T=u.keyEvent;if((0,a.m0)(["+","Add"],T)&&(0,a.nM)(T))return v.trigger("stepZoom",{value:1}),!0}),E("stepZoom",function(u){var T=u.keyEvent;if((0,a.m0)(["-","Subtract"],T)&&(0,a.nM)(T))return v.trigger("stepZoom",{value:-1}),!0}),E("zoom",function(u){var T=u.keyEvent;if((0,a.m0)("0",T)&&(0,a.nM)(T))return v.trigger("zoom",{value:1}),!0}),E("removeSelection",function(u){var T=u.keyEvent;if((0,a.m0)(["Delete","Del"],T))return v.trigger("removeSelection"),!0})}},34495:(rt,$,f)=>{f.d($,{Tu:()=>E,m0:()=>v,mp:()=>d,nM:()=>_});var a=f(98218),N=f.n(a);function d(u){return u.ctrlKey||u.metaKey||u.shiftKey||u.altKey}function _(u){return u.altKey?!1:u.ctrlKey||u.metaKey}function v(u,T){return u=(0,a.isArray)(u)?u:[u],u.indexOf(T.key)>-1}function E(u){return u.shiftKey}},50317:(rt,$,f)=>{f.d($,{A:()=>m});var a=f(98218),N=f(52687),d=f(34495),_="keyboard.keydown",v="keyboard.keyup",E=1e3;function u(s,e){var l=this;this._config=s||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",function(){l._fire("destroy"),l.unbind()}),e.on("diagram.init",function(){l._fire("init")}),e.on("attach",function(){s&&s.bindTo&&l.bind(s.bindTo)}),e.on("detach",function(){l.unbind()})}u.$inject=["config.keyboard","eventBus"],u.prototype._keydownHandler=function(s){this._keyHandler(s,_)},u.prototype._keyupHandler=function(s){this._keyHandler(s,v)},u.prototype._keyHandler=function(s,e){var l=s.target,n;if(!T(l)){var o={keyEvent:s};n=this._eventBus.fire(e||_,o),!(s.ctrlKey&&!s.altKey&&!s.shiftKey&&s.keyCode===67)&&n&&s.preventDefault()}},u.prototype.bind=function(s){this.unbind(),this._node=s,N.event.bind(s,"keydown",this._keydownHandler,!0),N.event.bind(s,"keyup",this._keyupHandler,!0),this._fire("bind")},u.prototype.getBinding=function(){return this._node},u.prototype.unbind=function(){var s=this._node;s&&(this._fire("unbind"),N.event.unbind(s,"keydown",this._keydownHandler,!0),N.event.unbind(s,"keyup",this._keyupHandler,!0)),this._node=null},u.prototype._fire=function(s){this._eventBus.fire("keyboard."+s,{node:this._node})},u.prototype.addListener=function(s,e,l){(0,a.isFunction)(s)&&(l=e,e=s,s=E),this._eventBus.on(l||_,s,e)},u.prototype.removeListener=function(s,e){this._eventBus.off(e||_,s)},u.prototype.hasModifier=d.mp,u.prototype.isCmd=d.nM,u.prototype.isShift=d.Tu,u.prototype.isKey=d.m0;function T(s){return s&&((0,N.matches)(s,"input, textarea")||s.contentEditable==="true")}var P=f(77117);const m={__init__:["keyboard","keyboardBindings"],keyboard:["type",u],keyboardBindings:["type",P.A]}},22170:(rt,$,f)=>{f.d($,{A:()=>m});var a=f(98218),N=f.n(a),d=f(51270),_=f.n(d),v=f(6958),E=f(91799),u=f(6705),T=250,P=1400;function m(e,l,n){u.A.call(this,l);var o=e.get("movePreview",!1);l.on("shape.move.start",P,function(i){var p=i.context,g=p.shapes,h=p.validatedShapes;p.shapes=s(g),p.validatedShapes=s(h)}),o&&l.on("shape.move.start",T,function(i){var p=i.context,g=p.shapes,h=[];(0,a.forEach)(g,function(x){(0,a.forEach)(x.labels,function(A){!A.hidden&&p.shapes.indexOf(A)===-1&&h.push(A),x.labelTarget&&h.push(x)})}),(0,a.forEach)(h,function(x){o.makeDraggable(p,x,!0)})}),this.preExecuted("elements.move",P,function(i){var p=i.context,g=p.closure,h=g.enclosedElements,x=[];(0,a.forEach)(h,function(A){(0,a.forEach)(A.labels,function(U){h[U.id]||x.push(U)})}),g.addAll(x)}),this.preExecute(["connection.delete","shape.delete"],function(i){var p=i.context,g=p.connection||p.shape;(0,E.l)(g.labels,function(h){n.removeShape(h,{nested:!0})})}),this.execute("shape.delete",function(i){var p=i.context,g=p.shape,h=g.labelTarget;h&&(p.labelTargetIndex=(0,v.qh)(h.labels,g),p.labelTarget=h,g.labelTarget=null)}),this.revert("shape.delete",function(i){var p=i.context,g=p.shape,h=p.labelTarget,x=p.labelTargetIndex;h&&((0,v.WQ)(h.labels,g,x),g.labelTarget=h)})}_()(m,u.A),m.$inject=["injector","eventBus","modeling"];function s(e){return(0,a.filter)(e,function(l){return e.indexOf(l.labelTarget)===-1})}},40406:(rt,$,f)=>{f.d($,{A:()=>u});var a=f(98218),N=f.n(a),d=f(10018),_=f(60053),v=f(33225),E="crosshair";function u(P,m,s,e,l,n){this._selection=l,this._dragging=s;var o=this,i={create:function(p){var g=m.getDefaultLayer(),h;h=p.frame=(0,v.vt)("rect"),(0,v.CF)(h,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),(0,v.BC)(g,h)},update:function(p){var g=p.frame,h=p.bbox;(0,v.CF)(g,{x:h.x,y:h.y,width:h.width,height:h.height})},remove:function(p){p.frame&&(0,v.TF)(p.frame)}};n.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),P.on("lasso.selection.end",function(p){var g=p.originalEvent.target;!p.hover&&!(g instanceof SVGElement)||P.once("lasso.selection.ended",function(){o.activateLasso(p.originalEvent,!0)})}),P.on("lasso.end",function(p){var g=T(p),h=e.filter(function(x){return x});o.select(h,g)}),P.on("lasso.start",function(p){var g=p.context;g.bbox=T(p),i.create(g)}),P.on("lasso.move",function(p){var g=p.context;g.bbox=T(p),i.update(g)}),P.on("lasso.cleanup",function(p){var g=p.context;i.remove(g)}),P.on("element.mousedown",1500,function(p){if((0,_.KH)(p))return o.activateLasso(p.originalEvent),!0})}u.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],u.prototype.activateLasso=function(P,m){this._dragging.init(P,"lasso",{autoActivate:m,cursor:E,data:{context:{}}})},u.prototype.activateSelection=function(P){this._dragging.init(P,"lasso.selection",{trapClick:!1,cursor:E,data:{context:{}}})},u.prototype.select=function(P,m){var s=(0,d.rx)(P,m);this._selection.select((0,a.values)(s))},u.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},u.prototype.isActive=function(){var P=this._dragging.context();return P&&/^lasso/.test(P.prefix)};function T(P){var m={x:P.x-P.dx,y:P.y-P.dy},s={x:P.x,y:P.y},e;return m.x<=s.x&&m.y<s.y||m.x<s.x&&m.y<=s.y?e={x:m.x,y:m.y,width:s.x-m.x,height:s.y-m.y}:m.x>=s.x&&m.y<s.y||m.x>s.x&&m.y<=s.y?e={x:s.x,y:m.y,width:m.x-s.x,height:s.y-m.y}:m.x<=s.x&&m.y>s.y||m.x<s.x&&m.y>=s.y?e={x:m.x,y:s.y,width:s.x-m.x,height:m.y-s.y}:m.x>=s.x&&m.y>s.y||m.x>s.x&&m.y>=s.y?e={x:s.x,y:s.y,width:m.x-s.x,height:m.y-s.y}:e={x:s.x,y:s.y,width:0,height:0},e}},50101:(rt,$,f)=>{f.d($,{A:()=>T});var a=f(84654),N=f(98218),d=f(52687),_=250;function v(P,m){this._eventBus=P,this._dragging=m,this._tools=[],this._active=null}v.$inject=["eventBus","dragging"],v.prototype.registerTool=function(P,m){var s=this._tools;if(!m)throw new Error(`A tool has to be registered with it's "events"`);s.push(P),this.bindEvents(P,m)},v.prototype.isActive=function(P){return P&&this._active===P},v.prototype.length=function(P){return this._tools.length},v.prototype.setActive=function(P){var m=this._eventBus;this._active!==P&&(this._active=P,m.fire("tool-manager.update",{tool:P}))},v.prototype.bindEvents=function(P,m){var s=this._eventBus,e=this._dragging,l=[];s.on(m.tool+".init",function(n){var o=n.context;if(!o.reactivate&&this.isActive(P)){this.setActive(null),e.cancel();return}this.setActive(P)},this),(0,N.forEach)(m,function(n){l.push(n+".ended"),l.push(n+".canceled")}),s.on(l,_,function(n){var o=n.originalEvent;this._active&&(o&&(0,d.closest)(o.target,'.group[data-group="tools"]')||this.setActive(null))},this)};const E={__depends__:[a.A],__init__:["toolManager"],toolManager:["type",v]};var u=f(40406);const T={__depends__:[E],__init__:["lassoTool"],lassoTool:["type",u.A]}},84919:(rt,$,f)=>{f.d($,{A:()=>y});var a=f(98218),N=f(49096);function d(t,r){this._modeling=t,this._canvas=r}d.$inject=["modeling","canvas"],d.prototype.preExecute=function(t){var r=this._modeling,c=t.elements,O=t.alignment;(0,a.forEach)(c,function(F){var z={x:0,y:0};O.left?z.x=O.left-F.x:O.right?z.x=O.right-F.width-F.x:O.center?z.x=O.center-Math.round(F.width/2)-F.x:O.top?z.y=O.top-F.y:O.bottom?z.y=O.bottom-F.height-F.y:O.middle&&(z.y=O.middle-Math.round(F.height/2)-F.y),r.moveElements([F],z,F.parent)})},d.prototype.postExecute=function(t){};function _(t){this._modeling=t}_.$inject=["modeling"],_.prototype.preExecute=function(t){var r=t.source;if(!r)throw new Error("source required");var c=t.target||r.parent,O=t.shape;O=t.shape=this._modeling.createShape(O,t.position,c,{attach:t.attach}),t.shape=O},_.prototype.postExecute=function(t){var r=t.connectionParent||t.shape.parent;v(t.source,t.shape)||this._modeling.connect(t.source,t.shape,t.connection,r)};function v(t,r){return(0,a.some)(t.outgoing,function(c){return c.target===r})}function E(t,r){this._canvas=t,this._layouter=r}E.$inject=["canvas","layouter"],E.prototype.execute=function(t){var r=t.connection,c=t.source,O=t.target,F=t.parent,z=t.parentIndex,Q=t.hints;if(!c||!O)throw new Error("source and target required");if(!F)throw new Error("parent required");return r.source=c,r.target=O,r.waypoints||(r.waypoints=this._layouter.layoutConnection(r,Q)),this._canvas.addConnection(r,F,z),r},E.prototype.revert=function(t){var r=t.connection;return this._canvas.removeConnection(r),r.source=null,r.target=null,r};var u=f(90006),T=f(34635),P=f(2050),m=f(6958);function s(t,r){this._canvas=t,this._modeling=r}s.$inject=["canvas","modeling"],s.prototype.execute=function(t){var r=t.connection,c=r.parent;return t.parent=c,t.parentIndex=(0,m.qh)(c.children,r),t.source=r.source,t.target=r.target,this._canvas.removeConnection(r),r.source=null,r.target=null,r},s.prototype.revert=function(t){var r=t.connection,c=t.parent,O=t.parentIndex;return r.source=t.source,r.target=t.target,(0,m.WQ)(c.children,r,O),this._canvas.addConnection(r,c),r};function e(t,r){this._modeling=t,this._elementRegistry=r}e.$inject=["modeling","elementRegistry"],e.prototype.postExecute=function(t){var r=this._modeling,c=this._elementRegistry,O=t.elements;(0,a.forEach)(O,function(F){c.get(F.id)&&(F.waypoints?r.removeConnection(F):r.removeShape(F))})};var l=f(91799);function n(t,r){this._canvas=t,this._modeling=r}n.$inject=["canvas","modeling"],n.prototype.preExecute=function(t){var r=this._modeling,c=t.shape;(0,l.l)(c.incoming,function(O){r.removeConnection(O,{nested:!0})}),(0,l.l)(c.outgoing,function(O){r.removeConnection(O,{nested:!0})}),(0,l.l)(c.children,function(O){o(O)?r.removeConnection(O,{nested:!0}):r.removeShape(O,{nested:!0})})},n.prototype.execute=function(t){var r=this._canvas,c=t.shape,O=c.parent;return t.oldParent=O,t.oldParentIndex=(0,m.qh)(O.children,c),r.removeShape(c),c},n.prototype.revert=function(t){var r=this._canvas,c=t.shape,O=t.oldParent,F=t.oldParentIndex;return(0,m.WQ)(O.children,c,F),r.addShape(c,O),c};function o(t){return t.waypoints}function i(t){this._modeling=t}i.$inject=["modeling"];var p={x:"y",y:"x"};i.prototype.preExecute=function(t){var r=this._modeling,c=t.groups,O=t.axis,F=t.dimension;function z(nt,st){nt.range.min=Math.min(st[O],nt.range.min),nt.range.max=Math.max(st[O]+st[F],nt.range.max)}function Q(nt){return nt[O]+nt[F]/2}function X(nt){return nt.length-1}function q(nt){return nt.max-nt.min}function it(nt,st){var ut={y:0};ut[O]=nt-Q(st),ut[O]&&(ut[p[O]]=0,r.moveElements([st],ut,st.parent))}var K=c[0],k=X(c),V=c[k],I,j,J=0;(0,a.forEach)(c,function(nt,st){var ut,lt,ft;if(nt.elements.length<2){st&&st!==c.length-1&&(z(nt,nt.elements[0]),J+=q(nt.range));return}ut=(0,a.sortBy)(nt.elements,O),lt=ut[0],st===k&&(lt=ut[X(ut)]),ft=Q(lt),nt.range=null,(0,a.forEach)(ut,function(ht){if(it(ft,ht),nt.range===null){nt.range={min:ht[O],max:ht[O]+ht[F]};return}z(nt,ht)}),st&&st!==c.length-1&&(J+=q(nt.range))}),j=Math.abs(V.range.min-K.range.max),I=Math.round((j-J)/(c.length-1)),!(I<c.length-1)&&(0,a.forEach)(c,function(nt,st){var ut={},lt;nt===K||nt===V||(lt=c[st-1],nt.range.max=0,(0,a.forEach)(nt.elements,function(ft,ht){ut[p[O]]=0,ut[O]=lt.range.max-ft[O]+I,nt.range.min!==ft[O]&&(ut[O]+=ft[O]-nt.range.min),ut[O]&&r.moveElements([ft],ut,ft.parent),nt.range.max=Math.max(ft[O]+ft[F],ht?nt.range.max:0)}))})},i.prototype.postExecute=function(t){};function g(t,r){this._layouter=t,this._canvas=r}g.$inject=["layouter","canvas"],g.prototype.execute=function(t){var r=t.connection,c=r.waypoints;return(0,a.assign)(t,{oldWaypoints:c}),r.waypoints=this._layouter.layoutConnection(r,t.hints),r},g.prototype.revert=function(t){var r=t.connection;return r.waypoints=t.oldWaypoints,r};function h(){}h.prototype.execute=function(t){var r=t.connection,c=t.delta,O=t.newParent||r.parent,F=t.newParentIndex,z=r.parent;return t.oldParent=z,t.oldParentIndex=(0,m.TF)(z.children,r),(0,m.WQ)(O.children,r,F),r.parent=O,(0,a.forEach)(r.waypoints,function(Q){Q.x+=c.x,Q.y+=c.y,Q.original&&(Q.original.x+=c.x,Q.original.y+=c.y)}),r},h.prototype.revert=function(t){var r=t.connection,c=r.parent,O=t.oldParent,F=t.oldParentIndex,z=t.delta;return(0,m.TF)(c.children,r),(0,m.WQ)(O.children,r,F),r.parent=O,(0,a.forEach)(r.waypoints,function(Q){Q.x-=z.x,Q.y-=z.y,Q.original&&(Q.original.x-=z.x,Q.original.y-=z.y)}),r};var x=f(12301),A=f(35797),U=f(39226);function w(t){this._modeling=t,this._helper=new A.A(t)}w.$inject=["modeling"],w.prototype.execute=function(t){var r=t.shape,c=t.delta,O=t.newParent||r.parent,F=t.newParentIndex,z=r.parent;return t.oldBounds=(0,a.pick)(r,["x","y","width","height"]),t.oldParent=z,t.oldParentIndex=(0,m.TF)(z.children,r),(0,m.WQ)(O.children,r,F),(0,a.assign)(r,{parent:O,x:r.x+c.x,y:r.y+c.y}),r},w.prototype.postExecute=function(t){var r=t.shape,c=t.delta,O=t.hints,F=this._modeling;O.layout!==!1&&((0,a.forEach)(r.incoming,function(z){F.layoutConnection(z,{connectionEnd:(0,U.OF)(z,r,c)})}),(0,a.forEach)(r.outgoing,function(z){F.layoutConnection(z,{connectionStart:(0,U.IY)(z,r,c)})})),O.recurse!==!1&&this.moveChildren(t)},w.prototype.revert=function(t){var r=t.shape,c=t.oldParent,O=t.oldParentIndex,F=t.delta;return(0,m.WQ)(c.children,r,O),(0,a.assign)(r,{parent:c,x:r.x-F.x,y:r.y-F.y}),r},w.prototype.moveChildren=function(t){var r=t.delta,c=t.shape;this._helper.moveRecursive(c.children,r,null)},w.prototype.getNewParent=function(t){return t.newParent||t.shape.parent};var L=f(97970);function D(t,r){this._modeling=t,this._rules=r}D.$inject=["modeling","rules"],D.prototype.preExecute=function(t){var r=this,c=this._modeling,O=this._rules,F=t.oldShape,z=t.newData,Q=t.hints||{},X;function q(j,J,nt){return O.allowed("connection.reconnect",{connection:nt,source:j,target:J})}var it={x:z.x,y:z.y},K={x:F.x,y:F.y,width:F.width,height:F.height};X=t.newShape=t.newShape||r.createShape(z,it,F.parent,Q),F.host&&c.updateAttachment(X,F.host);var k;Q.moveChildren!==!1&&(k=F.children.slice(),c.moveElements(k,{x:0,y:0},X,Q));var V=F.incoming.slice(),I=F.outgoing.slice();(0,a.forEach)(V,function(j){var J=j.source,nt=q(J,X,j);nt&&r.reconnectEnd(j,X,(0,U.tQ)(j,X,K),Q)}),(0,a.forEach)(I,function(j){var J=j.target,nt=q(X,J,j);nt&&r.reconnectStart(j,X,(0,U.Fe)(j,X,K),Q)})},D.prototype.postExecute=function(t){var r=t.oldShape;this._modeling.removeShape(r)},D.prototype.execute=function(t){},D.prototype.revert=function(t){},D.prototype.createShape=function(t,r,c,O){return this._modeling.createShape(t,r,c,O)},D.prototype.reconnectStart=function(t,r,c,O){this._modeling.reconnectStart(t,r,c,O)},D.prototype.reconnectEnd=function(t,r,c,O){this._modeling.reconnectEnd(t,r,c,O)};function B(t){this._modeling=t}B.$inject=["modeling"],B.prototype.execute=function(t){var r=t.shape,c=t.newBounds,O=t.minBounds;if(c.x===void 0||c.y===void 0||c.width===void 0||c.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(O&&(c.width<O.width||c.height<O.height))throw new Error("width and height cannot be less than minimum height and width");if(!O&&c.width<10||c.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:r.width,height:r.height,x:r.x,y:r.y},(0,a.assign)(r,{width:c.width,height:c.height,x:c.x,y:c.y}),r},B.prototype.postExecute=function(t){var r=this._modeling,c=t.shape,O=t.oldBounds,F=t.hints||{};F.layout!==!1&&((0,a.forEach)(c.incoming,function(z){r.layoutConnection(z,{connectionEnd:(0,U.tQ)(z,c,O)})}),(0,a.forEach)(c.outgoing,function(z){r.layoutConnection(z,{connectionStart:(0,U.Fe)(z,c,O)})}))},B.prototype.revert=function(t){var r=t.shape,c=t.oldBounds;return(0,a.assign)(r,{width:c.width,height:c.height,x:c.x,y:c.y}),r};var Y=f(57261);function Z(t){this._modeling=t}Z.$inject=["modeling"],Z.prototype.execute=function(t){var r=t.shape,c=r.children;t.oldChildrenVisibility=ot(c),r.collapsed=!r.collapsed;var O=et(c,r.collapsed);return[r].concat(O)},Z.prototype.revert=function(t){var r=t.shape,c=t.oldChildrenVisibility,O=r.children,F=H(O,c);return r.collapsed=!r.collapsed,[r].concat(F)};function ot(t){var r={};return(0,a.forEach)(t,function(c){r[c.id]=c.hidden,c.children&&(r=(0,a.assign)({},r,ot(c.children)))}),r}function et(t,r){var c=[];return(0,a.forEach)(t,function(O){O.hidden=r,c=c.concat(O),O.children&&(c=c.concat(et(O.children,O.collapsed||r)))}),c}function H(t,r){var c=[];return(0,a.forEach)(t,function(O){O.hidden=r[O.id],c=c.concat(O),O.children&&(c=c.concat(H(O.children,r)))}),c}function W(t){this._modeling=t}W.$inject=["modeling"],W.prototype.execute=function(t){var r=t.shape,c=t.newHost,O=r.host;return t.oldHost=O,t.attacherIdx=M(O,r),C(c,r),r.host=c,r},W.prototype.revert=function(t){var r=t.shape,c=t.newHost,O=t.oldHost,F=t.attacherIdx;return r.host=O,M(c,r),C(O,r,F),r};function M(t,r){return(0,m.TF)(t&&t.attachers,r)}function C(t,r,c){if(t){var O=t.attachers;O||(t.attachers=O=[]),(0,m.WQ)(O,r,c)}}function R(){}R.prototype.execute=function(t){var r=t.connection,c=t.newWaypoints;return t.oldWaypoints=r.waypoints,r.waypoints=c,r},R.prototype.revert=function(t){var r=t.connection,c=t.oldWaypoints;return r.waypoints=c,r};function y(t,r,c){this._eventBus=t,this._elementFactory=r,this._commandStack=c;var O=this;t.on("diagram.init",function(){O.registerHandlers(c)})}y.$inject=["eventBus","elementFactory","commandStack"],y.prototype.getHandlers=function(){return{"shape.append":_,"shape.create":P.A,"shape.delete":n,"shape.move":w,"shape.resize":B,"shape.replace":D,"shape.toggleCollapse":Z,spaceTool:Y.A,"label.create":T.A,"connection.create":E,"connection.delete":s,"connection.move":h,"connection.layout":g,"connection.updateWaypoints":R,"connection.reconnect":L.A,"elements.create":u.A,"elements.move":x.A,"elements.delete":e,"elements.distribute":i,"elements.align":d,"element.updateAttachment":W}},y.prototype.registerHandlers=function(t){(0,a.forEach)(this.getHandlers(),function(r,c){t.registerHandler(c,r)})},y.prototype.moveShape=function(t,r,c,O,F){typeof O=="object"&&(F=O,O=null);var z={shape:t,delta:r,newParent:c,newParentIndex:O,hints:F||{}};this._commandStack.execute("shape.move",z)},y.prototype.updateAttachment=function(t,r){var c={shape:t,newHost:r};this._commandStack.execute("element.updateAttachment",c)},y.prototype.moveElements=function(t,r,c,O){O=O||{};var F=O.attach,z=c,Q;F===!0?(Q=c,z=c.parent):F===!1&&(Q=null);var X={shapes:t,delta:r,newParent:z,newHost:Q,hints:O};this._commandStack.execute("elements.move",X)},y.prototype.moveConnection=function(t,r,c,O,F){typeof O=="object"&&(F=O,O=void 0);var z={connection:t,delta:r,newParent:c,newParentIndex:O,hints:F||{}};this._commandStack.execute("connection.move",z)},y.prototype.layoutConnection=function(t,r){var c={connection:t,hints:r||{}};this._commandStack.execute("connection.layout",c)},y.prototype.createConnection=function(t,r,c,O,F,z){typeof c=="object"&&(z=F,F=O,O=c,c=void 0),O=this._create("connection",O);var Q={source:t,target:r,parent:F,parentIndex:c,connection:O,hints:z};return this._commandStack.execute("connection.create",Q),Q.connection},y.prototype.createShape=function(t,r,c,O,F){typeof O!="number"&&(F=O,O=void 0),F=F||{};var z=F.attach,Q,X;t=this._create("shape",t),z?(Q=c.parent,X=c):Q=c;var q={position:r,shape:t,parent:Q,parentIndex:O,host:X,hints:F};return this._commandStack.execute("shape.create",q),q.shape},y.prototype.createElements=function(t,r,c,O,F){(0,a.isArray)(t)||(t=[t]),typeof O!="number"&&(F=O,O=void 0),F=F||{};var z={position:r,elements:t,parent:c,parentIndex:O,hints:F};return this._commandStack.execute("elements.create",z),z.elements},y.prototype.createLabel=function(t,r,c,O){c=this._create("label",c);var F={labelTarget:t,position:r,parent:O||t.parent,shape:c};return this._commandStack.execute("label.create",F),F.shape},y.prototype.appendShape=function(t,r,c,O,F){F=F||{},r=this._create("shape",r);var z={source:t,position:c,target:O,shape:r,connection:F.connection,connectionParent:F.connectionParent,attach:F.attach};return this._commandStack.execute("shape.append",z),z.shape},y.prototype.removeElements=function(t){var r={elements:t};this._commandStack.execute("elements.delete",r)},y.prototype.distributeElements=function(t,r,c){var O={groups:t,axis:r,dimension:c};this._commandStack.execute("elements.distribute",O)},y.prototype.removeShape=function(t,r){var c={shape:t,hints:r||{}};this._commandStack.execute("shape.delete",c)},y.prototype.removeConnection=function(t,r){var c={connection:t,hints:r||{}};this._commandStack.execute("connection.delete",c)},y.prototype.replaceShape=function(t,r,c){var O={oldShape:t,newData:r,hints:c||{}};return this._commandStack.execute("shape.replace",O),O.newShape},y.prototype.alignElements=function(t,r){var c={elements:t,alignment:r};this._commandStack.execute("elements.align",c)},y.prototype.resizeShape=function(t,r,c,O){var F={shape:t,newBounds:r,minBounds:c,hints:O};this._commandStack.execute("shape.resize",F)},y.prototype.createSpace=function(t,r,c,O,F){var z={delta:c,direction:O,movingShapes:t,resizingShapes:r,start:F};this._commandStack.execute("spaceTool",z)},y.prototype.updateWaypoints=function(t,r,c){var O={connection:t,newWaypoints:r,hints:c||{}};this._commandStack.execute("connection.updateWaypoints",O)},y.prototype.reconnect=function(t,r,c,O,F){var z={connection:t,newSource:r,newTarget:c,dockingOrPoints:O,hints:F||{}};this._commandStack.execute("connection.reconnect",z)},y.prototype.reconnectStart=function(t,r,c,O){O||(O={}),this.reconnect(t,r,t.target,c,(0,a.assign)(O,{docking:"source"}))},y.prototype.reconnectEnd=function(t,r,c,O){O||(O={}),this.reconnect(t,t.source,r,c,(0,a.assign)(O,{docking:"target"}))},y.prototype.connect=function(t,r,c,O){return this.createConnection(t,r,c||{},t.parent,O)},y.prototype._create=function(t,r){return r instanceof N.C6?r:this._elementFactory.create(t,r)},y.prototype.toggleCollapse=function(t,r){var c={shape:t,hints:r||{}};this._commandStack.execute("shape.toggleCollapse",c)}},90006:(rt,$,f)=>{f.d($,{A:()=>v});var a=f(98218),N=f.n(a),d=f(10018),_=Math.round;function v(u){this._modeling=u}v.$inject=["modeling"],v.prototype.preExecute=function(u){var T=u.elements,P=u.parent,m=u.parentIndex,s=u.position,e=u.hints,l=this._modeling;(0,a.forEach)(T,function(g){(0,a.isNumber)(g.x)||(g.x=0),(0,a.isNumber)(g.y)||(g.y=0)});var n=(0,d.U7)(T);(0,a.forEach)(T,function(g){E(g)&&(g.waypoints=(0,a.map)(g.waypoints,function(h){return{x:h.x-n.x-_(n.width/2)+s.x,y:h.y-n.y-_(n.height/2)+s.y}})),(0,a.assign)(g,{x:g.x-n.x-_(n.width/2)+s.x,y:g.y-n.y-_(n.height/2)+s.y})});var o=(0,d.wT)(T),i={},p=this;(0,a.forEach)(T,function(g){if(E(g)){i[g.id]=(0,a.isNumber)(m)?l.createConnection(i[g.source.id],i[g.target.id],m,g,g.parent||P,e):l.createConnection(i[g.source.id],i[g.target.id],g,g.parent||P,e);return}var h=(0,a.assign)({},e);o.indexOf(g)===-1&&(h.autoResize=!1),i[g.id]=(0,a.isNumber)(m)?l.createShape(g,(0,a.pick)(g,["x","y","width","height"]),p.getParent(g,u),m,h):l.createShape(g,(0,a.pick)(g,["x","y","width","height"]),p.getParent(g,u),h)}),u.elements=(0,a.values)(i)},v.prototype.getParent=function(u,T){return u.parent||T.parent};function E(u){return!!u.waypoints}},34635:(rt,$,f)=>{f.d($,{A:()=>_});var a=f(51270),N=f.n(a),d=f(2050);function _(T){d.A.call(this,T)}N()(_,d.A),_.$inject=["canvas"];var v=d.A.prototype.execute;_.prototype.execute=function(T){var P=T.shape;return u(P),P.labelTarget=T.labelTarget,v.call(this,T)};var E=d.A.prototype.revert;_.prototype.revert=function(T){return T.shape.labelTarget=null,E.call(this,T)};function u(T){["width","height"].forEach(function(P){typeof T[P]>"u"&&(T[P]=0)})}},2050:(rt,$,f)=>{f.d($,{A:()=>_});var a=f(98218),N=f.n(a),d=Math.round;function _(v){this._canvas=v}_.$inject=["canvas"],_.prototype.execute=function(v){var E=v.shape,u=v.position,T=v.parent,P=v.parentIndex;if(!T)throw new Error("parent required");if(!u)throw new Error("position required");return u.width!==void 0?(0,a.assign)(E,u):(0,a.assign)(E,{x:u.x-d(E.width/2),y:u.y-d(E.height/2)}),this._canvas.addShape(E,T,P),E},_.prototype.revert=function(v){var E=v.shape;return this._canvas.removeShape(E),E}},12301:(rt,$,f)=>{f.d($,{A:()=>N});var a=f(35797);function N(d){this._helper=new a.A(d)}N.$inject=["modeling"],N.prototype.preExecute=function(d){d.closure=this._helper.getClosure(d.shapes)},N.prototype.postExecute=function(d){var _=d.hints,v;_&&_.primaryShape&&(v=_.primaryShape,_.oldParent=v.parent),this._helper.moveClosure(d.closure,d.delta,d.newParent,d.newHost,v)}},97970:(rt,$,f)=>{f.d($,{A:()=>d});var a=f(98218),N=f.n(a);function d(v){this._modeling=v}d.$inject=["modeling"],d.prototype.execute=function(v){var E=v.newSource,u=v.newTarget,T=v.connection,P=v.dockingOrPoints;if(!E&&!u)throw new Error("newSource or newTarget required");return(0,a.isArray)(P)&&(v.oldWaypoints=T.waypoints,T.waypoints=P),E&&(v.oldSource=T.source,T.source=E),u&&(v.oldTarget=T.target,T.target=u),T},d.prototype.postExecute=function(v){var E=v.connection,u=v.newSource,T=v.newTarget,P=v.dockingOrPoints,m=v.hints||{};if(m.layoutConnection!==!1){var s={};u&&(!T||m.docking==="source")&&(s.connectionStart=_((0,a.isArray)(P)?P[0]:P)),T&&(!u||m.docking==="target")&&(s.connectionEnd=_((0,a.isArray)(P)?P[P.length-1]:P)),m.newWaypoints&&(s.waypoints=m.newWaypoints),this._modeling.layoutConnection(E,s)}},d.prototype.revert=function(v){var E=v.oldSource,u=v.oldTarget,T=v.oldWaypoints,P=v.connection;return E&&(P.source=E),u&&(P.target=u),T&&(P.waypoints=T),P};function _(v){return v.original||v}},57261:(rt,$,f)=>{f.d($,{A:()=>_});var a=f(98218),N=f.n(a),d=f(45240);function _(P){this._modeling=P}_.$inject=["modeling"],_.prototype.preExecute=function(P){var m=P.delta,s=P.direction,e=P.movingShapes,l=P.resizingShapes,n=P.start;this.moveShapes(e,m),this.resizeShapes(l,m,s),this.updateConnectionWaypoints((0,d.Gq)(e,l),m,s,n,e,l)},_.prototype.execute=function(){},_.prototype.revert=function(){},_.prototype.moveShapes=function(P,m){var s=this;(0,a.forEach)(P,function(e){s._modeling.moveShape(e,m,null,{autoResize:!1,layout:!1,recurse:!1})})},_.prototype.resizeShapes=function(P,m,s){var e=this;(0,a.forEach)(P,function(l){var n=(0,d.Ih)(l,s,m);e._modeling.resizeShape(l,n,null,{attachSupport:!1,autoResize:!1,layout:!1})})},_.prototype.updateConnectionWaypoints=function(P,m,s,e,l,n){var o=this;(0,a.forEach)(P,function(i){var p=i.source,g=i.target,h=E(i),x=u(s);h=(0,a.map)(h,function(A,U){var w=U===0,L=U===h.length-1;return w&&!T(l.concat(n),p)||L&&!T(l.concat(n),g)||((A[x]>e&&/e|s/.test(s)||A[x]<e&&/n|w/.test(s))&&(A[x]=A[x]+m[x]),A.original&&(A.original[x]>e&&/e|s/.test(s)||A.original[x]<e&&/n|w/.test(s))&&(A.original[x]=A.original[x]+m[x])),A}),o._modeling.updateWaypoints(i,h,{labelBehavior:!1})})};function v(P){return(0,a.assign)({},P)}function E(P){return(0,a.map)(P.waypoints,function(m){return m=v(m),m.original&&(m.original=v(m.original)),m})}function u(P){switch(P){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function T(P,m){return P.indexOf(m)!==-1}},39226:(rt,$,f)=>{f.d($,{IY:()=>u,OF:()=>T,Fe:()=>v,tQ:()=>E});var a=f(65911),N=f(56764);function d(s,e,l){var n=(0,N.g)(e),o=(0,N.g)(l),i=(0,N.p)(s,n),p={x:i.x*(l.width/e.width),y:i.y*(l.height/e.height)};return(0,a.PG)({x:o.x+p.x,y:o.y+p.y})}function _(s,e,l){var n=center(s),o=center(e),i=center(l),p=delta(s,n),g=delta(n,o),h={x:g.x*(l.width/e.width),y:g.y*(l.height/e.height)},x={x:i.x+h.x,y:i.y+h.y};return roundPoint({x:x.x+p.x-s.x,y:x.y+p.y-s.y})}function v(s,e,l){var n=m(s),o=n[0];return d(o.original||o,l,e)}function E(s,e,l){var n=m(s),o=n[n.length-1];return d(o.original||o,l,e)}function u(s,e,l){return v(s,e,P(e,l))}function T(s,e,l){return E(s,e,P(e,l))}function P(s,e){return{x:s.x-e.x,y:s.y-e.y,width:s.width,height:s.height}}function m(s){var e=s.waypoints;if(!e.length)throw new Error("connection#"+s.id+": no waypoints");return e}},35797:(rt,$,f)=>{f.d($,{A:()=>v});var a=f(98218),N=f(39226),d=f(10018);function _(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}_.prototype.add=function(E,u){return this.addAll([E],u)},_.prototype.addAll=function(E,u){var T=(0,d.yO)(E,!!u,this);return(0,a.assign)(this,T),this};function v(E){this._modeling=E}v.prototype.moveRecursive=function(E,u,T){return E?this.moveClosure(this.getClosure(E),u,T):[]},v.prototype.moveClosure=function(E,u,T,P,m){var s=this._modeling,e=E.allShapes,l=E.allConnections,n=E.enclosedConnections,o=E.topLevel,i=!1;m&&m.parent===T&&(i=!0),(0,a.forEach)(e,function(p){s.moveShape(p,u,o[p.id]&&!i&&T,{recurse:!1,layout:!1})}),(0,a.forEach)(l,function(p){var g=!!e[p.source.id],h=!!e[p.target.id];n[p.id]&&g&&h?s.moveConnection(p,u,o[p.id]&&!i&&T):s.layoutConnection(p,{connectionStart:g&&(0,N.IY)(p,p.source,u),connectionEnd:h&&(0,N.OF)(p,p.target,u),shapeMoving:!0})})},v.prototype.getClosure=function(E){return new _().addAll(E,!0)}},77648:(rt,$,f)=>{f.d($,{A:()=>T});var a=f(17389);const N={commandStack:["type",a.A]};var d=f(54100),_=f(56773),v=f(11918),E=f(84919),u=f(10033);const T={__depends__:[N,d.A,_.A,v.A],__init__:["modeling"],modeling:["type",E.A],layouter:["type",u.A]}},79691:(rt,$,f)=>{f.d($,{A:()=>ot});var a=f(69380),N=f(56773),d=f(35576),_=f(11918),v=f(84654),E=f(71953),u=f(98218),T=f(86439),P=500,m=1250,s=1500,e=Math.round;function l(et){return{x:et.x+e(et.width/2),y:et.y+e(et.height/2)}}function n(et,H,W,M,C){function R(t,r,c,O){return C.allowed("elements.move",{shapes:t,delta:r,position:c,target:O})}et.on("shape.move.start",s,function(t){var r=t.context,c=t.shape,O=M.get().slice();O.indexOf(c)===-1&&(O=[c]),O=o(O),(0,u.assign)(r,{shapes:O,validatedShapes:O,shape:c})}),et.on("shape.move.start",m,function(t){var r=t.context,c=r.validatedShapes,O;if(O=r.canExecute=R(c),!O)return!1}),et.on("shape.move.move",P,function(t){var r=t.context,c=r.validatedShapes,O=t.hover,F={x:t.dx,y:t.dy},z={x:t.x,y:t.y},Q;if(Q=R(c,F,z,O),r.delta=F,r.canExecute=Q,Q===null){r.target=null;return}r.target=O}),et.on("shape.move.end",function(t){var r=t.context,c=r.delta,O=r.canExecute,F=O==="attach",z=r.shapes;if(O===!1)return!1;c.x=e(c.x),c.y=e(c.y),!(c.x===0&&c.y===0)&&W.moveElements(z,c,r.target,{primaryShape:r.shape,attach:F})}),et.on("element.mousedown",function(t){var r=(0,T.AF)(t);if(!r)throw new Error("must supply DOM mousedown event");return y(r,t.element)});function y(t,r,c,O){if((0,u.isObject)(c)&&(O=c,c=!1),!(r.waypoints||!r.parent)){var F=l(r);return H.init(t,F,"shape.move",{cursor:"grabbing",autoActivate:c,data:{shape:r,context:O||{}}}),!0}}this.start=y}n.$inject=["eventBus","dragging","modeling","selection","rules"];function o(et){var H=(0,u.groupBy)(et,"id");return(0,u.filter)(et,function(W){for(;W=W.parent;)if(H[W.id])return!1;return!0})}var i=f(10018),p=f(33225),g=f(52965),h=499,x="djs-dragging",A="drop-ok",U="drop-not-ok",w="new-parent",L="attach-ok";function D(et,H,W,M){function C(r){var c=R(r),O=B(c);return O}function R(r){var c=(0,i.cZ)(r,!0),O=(0,u.map)(c,function(F){return(F.incoming||[]).concat(F.outgoing||[])});return(0,u.flatten)(c.concat(O))}function y(r,c){[L,A,U,w].forEach(function(O){O===c?H.addMarker(r,O):H.removeMarker(r,O)})}function t(r,c,O){M.addDragger(c,r.dragGroup),O&&H.addMarker(c,x),r.allDraggedElements?r.allDraggedElements.push(c):r.allDraggedElements=[c]}et.on("shape.move.start",h,function(r){var c=r.context,O=c.shapes,F=c.allDraggedElements,z=C(O);if(!c.dragGroup){var Q=(0,p.vt)("g");(0,p.CF)(Q,W.cls("djs-drag-group",["no-events"]));var X=H.getDefaultLayer();(0,p.BC)(X,Q),c.dragGroup=Q}z.forEach(function(q){M.addDragger(q,c.dragGroup)}),F?F=(0,u.flatten)([F,R(O)]):F=R(O),(0,u.forEach)(F,function(q){H.addMarker(q,x)}),c.allDraggedElements=F,c.differentParents=Y(O)}),et.on("shape.move.move",h,function(r){var c=r.context,O=c.dragGroup,F=c.target,z=c.shape.parent,Q=c.canExecute;F&&(Q==="attach"?y(F,L):c.canExecute&&F&&F.id!==z.id?y(F,w):y(F,c.canExecute?A:U)),(0,g.Tl)(O,r.dx,r.dy)}),et.on(["shape.move.out","shape.move.cleanup"],function(r){var c=r.context,O=c.target;O&&y(O,null)}),et.on("shape.move.cleanup",function(r){var c=r.context,O=c.allDraggedElements,F=c.dragGroup;(0,u.forEach)(O,function(z){H.removeMarker(z,x)}),F&&(0,p.TF)(F)}),this.makeDraggable=t}D.$inject=["eventBus","canvas","styles","previewSupport"];function B(et){var H=(0,u.filter)(et,function(W){return Z(W)?(0,u.find)(et,(0,u.matchPattern)({id:W.source.id}))&&(0,u.find)(et,(0,u.matchPattern)({id:W.target.id})):!0});return H}function Y(et){return(0,u.size)((0,u.groupBy)(et,function(H){return H.parent&&H.parent.id}))!==1}function Z(et){return et.waypoints}const ot={__depends__:[a.A,N.A,d.A,_.A,v.A,E.A],__init__:["move","movePreview"],move:["type",n],movePreview:["type",D]}},35576:(rt,$,f)=>{f.d($,{A:()=>u});var a=f(10018),N=f(33225),d=f(52687),_=f(98218),v=500;function E(T,P,m){this.offset=6;var s=P.cls("djs-outline",["no-fill"]),e=this;function l(n,o){var i=(0,N.vt)("rect");return(0,N.CF)(i,(0,_.assign)({x:10,y:10,width:100,height:100},s)),(0,N.BC)(n,i),i}T.on(["shape.added","shape.changed"],v,function(n){var o=n.element,i=n.gfx,p=(0,d.query)(".djs-outline",i);p||(p=l(i,o)),e.updateShapeOutline(p,o)}),T.on(["connection.added","connection.changed"],function(n){var o=n.element,i=n.gfx,p=(0,d.query)(".djs-outline",i);p||(p=l(i,o)),e.updateConnectionOutline(p,o)})}E.prototype.updateShapeOutline=function(T,P){(0,N.CF)(T,{x:-this.offset,y:-this.offset,width:P.width+this.offset*2,height:P.height+this.offset*2})},E.prototype.updateConnectionOutline=function(T,P){var m=(0,a.U7)(P);(0,N.CF)(T,{x:m.x-this.offset,y:m.y-this.offset,width:m.width+this.offset*2,height:m.height+this.offset*2})},E.$inject=["eventBus","styles","elementRegistry"];const u={__init__:["outline"],outline:["type",E]}},18587:(rt,$,f)=>{f.d($,{A:()=>s});var a=f(98218),N=f.n(a),d=f(52687),_=f.n(d),v=".djs-palette-toggle",E=".entry",u=v+", "+E,T="open",P="two-column",m=1e3;function s(n,o){this._eventBus=n,this._canvas=o;var i=this;n.on("tool-manager.update",function(p){var g=p.tool;i.updateToolHighlight(g)}),n.on("i18n.changed",function(){i._update()}),n.on("diagram.init",function(){i._diagramInitialized=!0,i._rebuild()})}s.$inject=["eventBus","canvas"],s.prototype.registerProvider=function(n,o){o||(o=n,n=m),this._eventBus.on("palette.getProviders",n,function(i){i.providers.push(o)}),this._rebuild()},s.prototype.getEntries=function(){var n=this._getProviders();return n.reduce(l,{})},s.prototype._rebuild=function(){if(this._diagramInitialized){var n=this._getProviders();n.length&&(this._container||this._init(),this._update())}},s.prototype._init=function(){var n=this,o=this._eventBus,i=this._getParentContainer(),p=this._container=(0,d.domify)(s.HTML_MARKUP);i.appendChild(p),d.delegate.bind(p,u,"click",function(g){var h=g.delegateTarget;if((0,d.matches)(h,v))return n.toggle();n.trigger("click",g)}),d.event.bind(p,"mousedown",function(g){g.stopPropagation()}),d.delegate.bind(p,E,"dragstart",function(g){n.trigger("dragstart",g)}),o.on("canvas.resized",this._layoutChanged,this),o.fire("palette.create",{container:p})},s.prototype._getProviders=function(n){var o=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(o),o.providers},s.prototype._toggleState=function(n){n=n||{};var o=this._getParentContainer(),i=this._container,p=this._eventBus,g,h=(0,d.classes)(i);"twoColumn"in n?g=n.twoColumn:g=this._needsCollapse(o.clientHeight,this._entries||{}),h.toggle(P,g),"open"in n&&h.toggle(T,n.open),p.fire("palette.changed",{twoColumn:g,open:this.isOpen()})},s.prototype._update=function(){var n=(0,d.query)(".djs-palette-entries",this._container),o=this._entries=this.getEntries();(0,d.clear)(n),(0,a.forEach)(o,function(i,p){var g=i.group||"default",h=(0,d.query)("[data-group="+g+"]",n);h||(h=(0,d.domify)('<div class="group" data-group="'+g+'"></div>'),n.appendChild(h));var x=i.html||(i.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),A=(0,d.domify)(x);h.appendChild(A),i.separator||((0,d.attr)(A,"data-action",p),i.title&&(0,d.attr)(A,"title",i.title),i.className&&e(A,i.className),i.imageUrl&&A.appendChild((0,d.domify)('<img src="'+i.imageUrl+'">')))}),this.open()},s.prototype.trigger=function(n,o,i){var p=this._entries,g,h,x,A=o.delegateTarget||o.target;if(!A)return o.preventDefault();g=p[(0,d.attr)(A,"data-action")],g&&(h=g.action,x=o.originalEvent||o,(0,a.isFunction)(h)?n==="click"&&h(x,i):h[n]&&h[n](x,i),o.preventDefault())},s.prototype._layoutChanged=function(){this._toggleState({})},s.prototype._needsCollapse=function(n,o){var i=50,p=Object.keys(o).length*46;return n<p+i},s.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},s.prototype.open=function(){this._toggleState({open:!0})},s.prototype.toggle=function(n){this.isOpen()?this.close():this.open()},s.prototype.isActiveTool=function(n){return n&&this._activeTool===n},s.prototype.updateToolHighlight=function(n){var o,i;this._toolsContainer||(o=(0,d.query)(".djs-palette-entries",this._container),this._toolsContainer=(0,d.query)("[data-group=tools]",o)),i=this._toolsContainer,(0,a.forEach)(i.children,function(p){var g=p.getAttribute("data-action");if(g){var h=(0,d.classes)(p);g=g.replace("-tool",""),h.contains("entry")&&g===n?h.add("highlighted-entry"):h.remove("highlighted-entry")}})},s.prototype.isOpen=function(){return(0,d.classes)(this._container).has(T)},s.prototype._getParentContainer=function(){return this._canvas.getContainer()},s.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function e(n,o){var i=(0,d.classes)(n),p=(0,a.isArray)(o)?o:o.split(/\s+/g);p.forEach(function(g){i.add(g)})}function l(n,o){var i=o.getPaletteEntries();return(0,a.isFunction)(i)?i(n):((0,a.forEach)(i,function(p,g){n[g]=p}),n)}},85868:(rt,$,f)=>{f.d($,{A:()=>N});var a=f(18587);const N={__init__:["palette"],palette:["type",a.A]}},6226:(rt,$,f)=>{f.d($,{A:()=>T});var a=f(98218),N=f.n(a),d=f(52687),_=f.n(d),v="data-id",E=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],u=1e3;function T(m,s,e){var l=(0,a.isDefined)(m&&m.scale)?m.scale:{min:1,max:1.5};this._config={scale:l},this._eventBus=s,this._canvas=e,this._providers={},this._current={}}T.$inject=["config.popupMenu","eventBus","canvas"],T.prototype.registerProvider=function(m,s,e){e||(e=s,s=u),this._eventBus.on("popupMenu.getProviders."+m,s,function(l){l.providers.push(e)})},T.prototype.isEmpty=function(m,s){if(!m)throw new Error("element parameter is missing");if(!s)throw new Error("providerId parameter is missing");var e=this._getProviders(s);if(!e)return!0;var l=this._getEntries(m,e),n=this._getHeaderEntries(m,e),o=(0,a.size)(l)>0,i=n&&(0,a.size)(n)>0;return!o&&!i},T.prototype.open=function(m,s,e){var l=this._getProviders(s);if(!m)throw new Error("Element is missing");if(!l||!l.length)throw new Error("No registered providers for: "+s);if(!e)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var n=this._current={className:s,element:m,position:e},o=this._getEntries(m,l),i=this._getHeaderEntries(m,l);n.entries=(0,a.assign)({},o,i),n.container=this._createContainer(),(0,a.size)(i)&&n.container.appendChild(this._createEntries(i,"djs-popup-header")),(0,a.size)(o)&&n.container.appendChild(this._createEntries(o,"djs-popup-body"));var p=this._canvas,g=p.getContainer();this._attachContainer(n.container,g,e.cursor),this._bindAutoClose()},T.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),(0,d.remove)(this._current.container),this._current.container=null)},T.prototype.isOpen=function(){return!!this._current.container},T.prototype.trigger=function(m){m.preventDefault();var s=m.delegateTarget||m.target,e=(0,d.attr)(s,v),l=this._getEntry(e);if(l.action)return l.action.call(null,m,l)},T.prototype._getProviders=function(m){var s=this._eventBus.createEvent({type:"popupMenu.getProviders."+m,providers:[]});return this._eventBus.fire(s),s.providers},T.prototype._getEntries=function(m,s){var e={};return(0,a.forEach)(s,function(l){if(!l.getPopupMenuEntries){(0,a.forEach)(l.getEntries(m),function(o){var i=o.id;if(!i)throw new Error("every entry must have the id property set");e[i]=(0,a.omit)(o,["id"])});return}var n=l.getPopupMenuEntries(m);(0,a.isFunction)(n)?e=n(e):(0,a.forEach)(n,function(o,i){e[i]=o})}),e},T.prototype._getHeaderEntries=function(m,s){var e={};return(0,a.forEach)(s,function(l){if(!l.getPopupMenuHeaderEntries){if(!l.getHeaderEntries)return;(0,a.forEach)(l.getHeaderEntries(m),function(o){var i=o.id;if(!i)throw new Error("every entry must have the id property set");e[i]=(0,a.omit)(o,["id"])});return}var n=l.getPopupMenuHeaderEntries(m);(0,a.isFunction)(n)?e=n(e):(0,a.forEach)(n,function(o,i){e[i]=o})}),e},T.prototype._getEntry=function(m){var s=this._current.entries[m];if(!s)throw new Error("entry not found");return s},T.prototype._emit=function(m){this._eventBus.fire("popupMenu."+m)},T.prototype._createContainer=function(){var m=(0,d.domify)('<div class="djs-popup">'),s=this._current.position,e=this._current.className;return(0,a.assign)(m.style,{position:"absolute",left:s.x+"px",top:s.y+"px",visibility:"hidden"}),(0,d.classes)(m).add(e),m},T.prototype._attachContainer=function(m,s,e){var l=this;d.delegate.bind(m,".entry","click",function(n){l.trigger(n)}),this._updateScale(m),s.appendChild(m),e&&this._assureIsInbounds(m,e)},T.prototype._updateScale=function(m){var s=this._canvas.zoom(),e=this._config.scale,l,n,o=s;e!==!0&&(e===!1?(l=1,n=1):(l=e.min,n=e.max),(0,a.isDefined)(l)&&s<l&&(o=l),(0,a.isDefined)(n)&&s>n&&(o=n)),P(m,"scale("+o+")")},T.prototype._assureIsInbounds=function(m,s){var e=this._canvas,l=e._container.getBoundingClientRect(),n=m.offsetLeft,o=m.offsetTop,i=m.scrollWidth,p=m.scrollHeight,g={},h,x,A={x:s.x-l.left,y:s.y-l.top};n+i>l.width&&(g.x=!0),o+p>l.height&&(g.y=!0),g.x&&g.y?(h=A.x-i+"px",x=A.y-p+"px"):g.x?(h=A.x-i+"px",x=A.y+"px"):g.y&&A.y<p?(h=A.x+"px",x="10px"):g.y&&(h=A.x+"px",x=A.y-p+"px"),(0,a.assign)(m.style,{left:h,top:x},{visibility:"visible","z-index":1e3})},T.prototype._createEntries=function(m,s){var e=(0,d.domify)("<div>"),l=this;return(0,d.classes)(e).add(s),(0,a.forEach)(m,function(n,o){var i=l._createEntry(n,o);e.appendChild(i)}),e},T.prototype._createEntry=function(m,s){var e=(0,d.domify)("<div>"),l=(0,d.classes)(e);if(l.add("entry"),m.className&&m.className.split(" ").forEach(function(o){l.add(o)}),(0,d.attr)(e,v,s),m.label){var n=(0,d.domify)("<span>");n.textContent=m.label,e.appendChild(n)}return m.imageUrl&&e.appendChild((0,d.domify)('<img src="'+m.imageUrl+'" />')),m.active===!0&&l.add("active"),m.disabled===!0&&l.add("disabled"),m.title&&(e.title=m.title),e},T.prototype._bindAutoClose=function(){this._eventBus.once(E,this.close,this)},T.prototype._unbindAutoClose=function(){this._eventBus.off(E,this.close,this)};function P(m,s){m.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){m.style[e+"transform"]=s})}},40127:(rt,$,f)=>{f.d($,{A:()=>N});var a=f(6226);const N={__init__:["popupMenu"],popupMenu:["type",a.A]}},38134:(rt,$,f)=>{f.d($,{A:()=>P});var a=f(98218),N=f.n(a),d=f(33225),_=f(52687),v=f.n(_),E=f(12266),u=["marker-start","marker-mid","marker-end"],T=["circle","ellipse","line","path","polygon","polyline","rect"];function P(n,o,i,p){this._elementRegistry=n,this._canvas=i,this._styles=p,this._clonedMarkers={};var g=this;o.on("drag.cleanup",function(){(0,a.forEach)(g._clonedMarkers,function(h){(0,d.TF)(h)}),g._clonedMarkers={}})}P.$inject=["elementRegistry","eventBus","canvas","styles"],P.prototype.getGfx=function(n){return this._elementRegistry.getGraphics(n)},P.prototype.addDragger=function(n,o,i){i=i||this.getGfx(n);var p=(0,d.o8)(i),g=i.getBoundingClientRect();return this._cloneMarkers((0,E.P)(p)),(0,d.CF)(p,this._styles.cls("djs-dragger",[],{x:g.top,y:g.left})),(0,d.BC)(o,p),p},P.prototype.addFrame=function(n,o){var i=(0,d.vt)("rect",{class:"djs-resize-overlay",width:n.width,height:n.height,x:n.x,y:n.y});return(0,d.BC)(o,i),i},P.prototype._cloneMarkers=function(n){var o=this;if(n.childNodes)for(var i=0;i<n.childNodes.length;i++)o._cloneMarkers(n.childNodes[i]);l(n)&&u.forEach(function(p){if((0,d.CF)(n,p)){var g=m(n,p,o._canvas.getContainer());o._cloneMarker(n,g,p)}})},P.prototype._cloneMarker=function(n,o,i){var p=o.id,g=this._clonedMarkers[p];if(!g){g=(0,d.o8)(o);var h=p+"-clone";g.id=h,(0,d.Ly)(g).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[p]=g;var x=(0,_.query)("defs",this._canvas._svg);x||(x=(0,d.vt)("defs"),(0,d.BC)(this._canvas._svg,x)),(0,d.BC)(x,g)}var A=e(this._clonedMarkers[p].id);(0,d.CF)(n,i,A)};function m(n,o,i){var p=s((0,d.CF)(n,o));return(0,_.query)("marker#"+p,i||document)}function s(n){return n.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function e(n){return"url(#"+n+")"}function l(n){return T.indexOf(n.nodeName)!==-1}},71953:(rt,$,f)=>{f.d($,{A:()=>N});var a=f(38134);const N={__init__:["previewSupport"],previewSupport:["type",a.A]}},76357:(rt,$,f)=>{f.d($,{A:()=>h,a:()=>A});var a=f(98218),N=f(10018),d=f(65911),_=Math.max,v=Math.min,E=20;function u(w,L){return{top:w.top-L.top,right:w.right-L.right,bottom:w.bottom-L.bottom,left:w.left-L.left}}function T(w,L,D){var B=D.x,Y=D.y,Z={x:w.x,y:w.y,width:w.width,height:w.height};return L.indexOf("n")!==-1?(Z.y=w.y+Y,Z.height=w.height-Y):L.indexOf("s")!==-1&&(Z.height=w.height+Y),L.indexOf("e")!==-1?Z.width=w.width+B:L.indexOf("w")!==-1&&(Z.x=w.x+B,Z.width=w.width-B),Z}function P(w,L){return{x:w.x+(L.left||0),y:w.y+(L.top||0),width:w.width-(L.left||0)+(L.right||0),height:w.height-(L.top||0)+(L.bottom||0)}}function m(w,L,D){var B=w.width/L.width,Y=w.height/L.height;return{x:Math.round(L.x+L.width/2)-Math.floor((w.x+w.width/2-D.x)/B),y:Math.round(L.y+L.height/2)-Math.floor((w.y+w.height/2-D.y)/Y)}}function s(w,L,D){var B=L[w],Y=D.min&&D.min[w],Z=D.max&&D.max[w];return(0,a.isNumber)(Y)&&(B=(/top|left/.test(w)?v:_)(B,Y)),(0,a.isNumber)(Z)&&(B=(/top|left/.test(w)?_:v)(B,Z)),B}function e(w,L){if(!L)return w;var D=(0,d.Fy)(w);return(0,d.cD)({top:s("top",D,L),right:s("right",D,L),bottom:s("bottom",D,L),left:s("left",D,L)})}function l(w,L,D,B){var Y=(0,d.Fy)(L),Z={top:/n/.test(w)?Y.bottom-D.height:Y.top,left:/w/.test(w)?Y.right-D.width:Y.left,bottom:/s/.test(w)?Y.top+D.height:Y.bottom,right:/e/.test(w)?Y.left+D.width:Y.right},ot=B?(0,d.Fy)(B):Z,et={top:v(Z.top,ot.top),left:v(Z.left,ot.left),bottom:_(Z.bottom,ot.bottom),right:_(Z.right,ot.right)};return(0,d.cD)(et)}function n(w,L){return typeof w<"u"?w:E}function o(w,L){var D,B,Y,Z;return typeof L=="object"?(D=n(L.left),B=n(L.right),Y=n(L.top),Z=n(L.bottom)):D=B=Y=Z=n(L),{x:w.x-D,y:w.y-Y,width:w.width+D+B,height:w.height+Y+Z}}function i(w){return!(w.waypoints||w.type==="label")}function p(w,L){var D;if(w.length===void 0?D=(0,a.filter)(w.children,i):D=w,D.length)return o((0,N.U7)(D),L)}var g=10;function h(w,L,D,B){this._dragging=B,this._rules=L;var Y=this;function Z(H,W){var M=H.shape,C=H.direction,R=H.resizeConstraints,y;H.delta=W,y=T(M,C,W),H.newBounds=e(y,R),H.canExecute=Y.canResize(H)}function ot(H){var W=H.resizeConstraints,M=H.minBounds;W===void 0&&(M===void 0&&(M=Y.computeMinResizeBox(H)),H.resizeConstraints={min:(0,d.Fy)(M)})}function et(H){var W=H.shape,M=H.canExecute,C=H.newBounds;if(M){if(C=(0,d.Au)(C),!x(W,C))return;D.resizeShape(W,C)}}w.on("resize.start",function(H){ot(H.context)}),w.on("resize.move",function(H){var W={x:H.dx,y:H.dy};Z(H.context,W)}),w.on("resize.end",function(H){et(H.context)})}h.prototype.canResize=function(w){var L=this._rules,D=(0,a.pick)(w,["newBounds","shape","delta","direction"]);return L.allowed("shape.resize",D)},h.prototype.activate=function(w,L,D){var B=this._dragging,Y,Z;if(typeof D=="string"&&(D={direction:D}),Y=(0,a.assign)({shape:L},D),Z=Y.direction,!Z)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");B.init(w,A(L,Z),"resize",{autoActivate:!0,cursor:U(Z),data:{shape:L,context:Y}})},h.prototype.computeMinResizeBox=function(w){var L=w.shape,D=w.direction,B,Y;return B=w.minDimensions||{width:g,height:g},Y=p(L,w.childrenBoxPadding),l(D,L,B,Y)},h.$inject=["eventBus","rules","modeling","dragging"];function x(w,L){return w.x!==L.x||w.y!==L.y||w.width!==L.width||w.height!==L.height}function A(w,L){var D=(0,d.pp)(w),B=(0,d.Fy)(w),Y={x:D.x,y:D.y};return L.indexOf("n")!==-1?Y.y=B.top:L.indexOf("s")!==-1&&(Y.y=B.bottom),L.indexOf("e")!==-1?Y.x=B.right:L.indexOf("w")!==-1&&(Y.x=B.left),Y}function U(w){var L="resize-";return w==="n"||w==="s"?L+"ns":w==="e"||w==="w"?L+"ew":w==="nw"||w==="se"?L+"nwse":L+"nesw"}},25342:(rt,$,f)=>{f.d($,{A:()=>n});var a=f(98218),N=f.n(a),d=f(33225),_=f(52687),v=f.n(_),E=f(60053),u=f(52965),T=f(76357),P=-6,m=4,s=20,e="djs-resizer",l=["n","w","s","e","nw","ne","se","sw"];function n(i,p,g,h){this._resize=h,this._canvas=p;var x=this;i.on("selection.changed",function(A){var U=A.newSelection;x.removeResizers(),U.length===1&&(0,a.forEach)(U,(0,a.bind)(x.addResizer,x))}),i.on("shape.changed",function(A){var U=A.element;g.isSelected(U)&&(x.removeResizers(),x.addResizer(U))})}n.prototype.makeDraggable=function(i,p,g){var h=this._resize;function x(A){(0,E.ls)(A)&&h.activate(A,i,g)}_.event.bind(p,"mousedown",x),_.event.bind(p,"touchstart",x)},n.prototype._createResizer=function(i,p,g,h){var x=this._getResizersParent(),A=o(h),U=(0,d.vt)("g");(0,d.Ly)(U).add(e),(0,d.Ly)(U).add(e+"-"+i.id),(0,d.Ly)(U).add(e+"-"+h),(0,d.BC)(x,U);var w=(0,d.vt)("rect");(0,d.CF)(w,{x:-m/2+A.x,y:-m/2+A.y,width:m,height:m}),(0,d.Ly)(w).add(e+"-visual"),(0,d.BC)(U,w);var L=(0,d.vt)("rect");return(0,d.CF)(L,{x:-s/2+A.x,y:-s/2+A.y,width:s,height:s}),(0,d.Ly)(L).add(e+"-hit"),(0,d.BC)(U,L),(0,u.pd)(U,p,g),U},n.prototype.createResizer=function(i,p){var g=(0,T.a)(i,p),h=this._createResizer(i,g.x,g.y,p);this.makeDraggable(i,h,p)},n.prototype.addResizer=function(i){var p=this,g=this._resize;g.canResize({shape:i})&&(0,a.forEach)(l,function(h){p.createResizer(i,h)})},n.prototype.removeResizers=function(){var i=this._getResizersParent();(0,d.IU)(i)},n.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},n.$inject=["eventBus","canvas","selection","resize"];function o(i){var p={x:0,y:0};return i.indexOf("e")!==-1?p.x=-P:i.indexOf("w")!==-1&&(p.x=P),i.indexOf("s")!==-1?p.y=-P:i.indexOf("n")!==-1&&(p.y=P),p}},88729:(rt,$,f)=>{f.d($,{A:()=>v});var a=f(33225),N="djs-resizing",d="resize-not-ok",_=500;function v(E,u,T){function P(s){var e=s.shape,l=s.newBounds,n=s.frame;n||(n=s.frame=T.addFrame(e,u.getDefaultLayer()),u.addMarker(e,N)),l.width>5&&(0,a.CF)(n,{x:l.x,width:l.width}),l.height>5&&(0,a.CF)(n,{y:l.y,height:l.height}),s.canExecute?(0,a.Ly)(n).remove(d):(0,a.Ly)(n).add(d)}function m(s){var e=s.shape,l=s.frame;l&&(0,a.TF)(s.frame),u.removeMarker(e,N)}E.on("resize.move",_,function(s){P(s.context)}),E.on("resize.cleanup",function(s){m(s.context)})}v.$inject=["eventBus","canvas","previewSupport"]},43537:(rt,$,f)=>{f.d($,{A:()=>_});var a=f(51270),N=f.n(a),d=f(6705);function _(v){d.A.call(this,v),this.init()}_.$inject=["eventBus"],N()(_,d.A),_.prototype.addRule=function(v,E,u){var T=this;typeof v=="string"&&(v=[v]),v.forEach(function(P){T.canExecute(P,E,function(m,s,e){return u(m)},!0)})},_.prototype.init=function(){}},11918:(rt,$,f)=>{f.d($,{A:()=>N});function a(d){this._commandStack=d.get("commandStack",!1)}a.$inject=["injector"],a.prototype.allowed=function(d,_){var v=!0,E=this._commandStack;return E&&(v=E.canExecute(d,_)),v===void 0?!0:v};const N={__init__:["rules"],rules:["type",a]}},6587:(rt,$,f)=>{f.d($,{A:()=>d});var a=f(98218),N=f.n(a);function d(_){this._eventBus=_,this._selectedElements=[];var v=this;_.on(["shape.remove","connection.remove"],function(E){var u=E.element;v.deselect(u)}),_.on(["diagram.clear"],function(E){v.select(null)})}d.$inject=["eventBus"],d.prototype.deselect=function(_){var v=this._selectedElements,E=v.indexOf(_);if(E!==-1){var u=v.slice();v.splice(E,1),this._eventBus.fire("selection.changed",{oldSelection:u,newSelection:v})}},d.prototype.get=function(){return this._selectedElements},d.prototype.isSelected=function(_){return this._selectedElements.indexOf(_)!==-1},d.prototype.select=function(_,v){var E=this._selectedElements,u=E.slice();(0,a.isArray)(_)||(_=_?[_]:[]),v?(0,a.forEach)(_,function(T){E.indexOf(T)===-1&&E.push(T)}):this._selectedElements=E=_.slice(),this._eventBus.fire("selection.changed",{oldSelection:u,newSelection:E})}},56773:(rt,$,f)=>{f.d($,{A:()=>s});var a=f(69380),N=f(35576),d=f(6587),_=f(98218),v="hover",E="selected";function u(e,l,n,o){this._multiSelectionBox=null;function i(g,h){l.addMarker(g,h)}function p(g,h){l.removeMarker(g,h)}e.on("element.hover",function(g){i(g.element,v)}),e.on("element.out",function(g){p(g.element,v)}),e.on("selection.changed",function(g){function h(w){p(w,E)}function x(w){i(w,E)}var A=g.oldSelection,U=g.newSelection;(0,_.forEach)(A,function(w){U.indexOf(w)===-1&&h(w)}),(0,_.forEach)(U,function(w){A.indexOf(w)===-1&&x(w)})})}u.$inject=["eventBus","canvas","selection","styles"];var T=f(60053);function P(e,l,n,o){e.on("create.end",500,function(i){var p=i.context,g=p.canExecute,h=p.elements,x=p.hints||{},A=x.autoSelect;if(g){if(A===!1)return;(0,_.isArray)(A)?l.select(A):l.select(h.filter(m))}}),e.on("connect.end",500,function(i){i.context.canExecute&&i.context.connection&&l.select(i.context.connection)}),e.on("shape.move.end",500,function(i){var p=i.previousSelection||[],g=o.get(i.context.shape.id),h=(0,_.find)(p,function(x){return g.id===x.id});h||l.select(g)}),e.on("element.click",function(i){var p=i.element;p===n.getRootElement()&&(p=null);var g=l.isSelected(p),h=l.get().length>1,x=(0,T.Io)(i);if(g&&h)return x?l.deselect(p):l.select(p);g||l.select(p,x)})}P.$inject=["eventBus","selection","canvas","elementRegistry"];function m(e){return!e.hidden}const s={__init__:["selectionVisuals","selectionBehavior"],__depends__:[a.A,N.A],selection:["type",d.A],selectionVisuals:["type",u],selectionBehavior:["type",P]}},17521:(rt,$,f)=>{f.d($,{AC:()=>P,CU:()=>m,jz:()=>T});var a=Math.abs,N=Math.round;function d(e,l,n){n=n===void 0?10:n;var o,i;for(o=0;o<l.length;o++)if(i=l[o],a(i-e)<=n)return i}function _(e){return{x:e.x,y:e.y}}function v(e){return{x:e.x+e.width,y:e.y}}function E(e){return{x:e.x,y:e.y+e.height}}function u(e){return{x:e.x+e.width,y:e.y+e.height}}function T(e,l){return!e||isNaN(e.x)||isNaN(e.y)?l:{x:N(e.x+e.width/2),y:N(e.y+e.height/2)}}function P(e,l){var n=e.snapped;return n?typeof l=="string"?n[l]:n.x&&n.y:!1}function m(e,l,n){if(typeof l!="string")throw new Error("axis must be in [x, y]");if(typeof n!="number"&&n!==!1)throw new Error("value must be Number or false");var o,i=e[l],p=e.snapped=e.snapped||{};return n===!1?p[l]=!1:(p[l]=!0,o=n-i,e[l]+=o,e["d"+l]+=o),i}function s(e){return e.children||[]}},19506:(rt,$,f)=>{f.d($,{A:()=>i});var a=f(98218),N=f.n(a),d=f(65911),_=f(10018),v=f(45240),E=f(60053),u=f(46837),T=Math.abs,P=Math.round,m={x:"width",y:"height"},s="crosshair",e={n:"top",w:"left",s:"bottom",e:"right"},l=1500,n={n:"s",w:"e",s:"n",e:"w"},o=20;function i(w,L,D,B,Y,Z){this._canvas=w,this._dragging=L,this._eventBus=D,this._modeling=B,this._rules=Y,this._toolManager=Z;var ot=this;Z.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),D.on("spaceTool.selection.end",function(et){D.once("spaceTool.selection.ended",function(){ot.activateMakeSpace(et.originalEvent)})}),D.on("spaceTool.move",l,function(et){var H=et.context,W=H.initialized;W||(W=H.initialized=ot.init(et,H)),W&&g(et)}),D.on("spaceTool.end",function(et){var H=et.context,W=H.direction,M=H.movingShapes,C=H.resizingShapes,R=H.start;if(H.initialized){g(et);var y=ot.getDelta(et);ot.makeSpace(M,C,y,W,R),D.once("spaceTool.ended",function(t){ot.activateSelection(t.originalEvent,!0,!0)})}})}i.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager"],i.prototype.activateSelection=function(w,L,D){this._dragging.init(w,"spaceTool.selection",{autoActivate:L,cursor:s,data:{context:{reactivate:D}},trapClick:!1})},i.prototype.activateMakeSpace=function(w){this._dragging.init(w,"spaceTool",{autoActivate:!0,cursor:s,data:{context:{}}})},i.prototype.makeSpace=function(w,L,D,B,Y){return this._modeling.createSpace(w,L,D,B,Y)},i.prototype.init=function(w,L){var D=T(w.dx)>T(w.dy)?"x":"y",B=w["d"+D],Y=w[D]-B;if(T(B)<5)return!1;B<0&&(B*=-1),(0,E.Io)(w)&&(B*=-1);var Z=(0,v.u6)(D,B),ot=this._canvas.getRootElement(),et=(0,_.cZ)(ot,!0),H=this.calculateAdjustments(et,D,B,Y),W=this._eventBus.fire("spaceTool.getMinDimensions",{shapes:H.resizingShapes}),M=h(H,D,Z,Y,W);return(0,a.assign)(L,H,{axis:D,direction:Z,spaceToolConstraints:M,start:Y}),(0,u.hZ)("resize-"+(D==="x"?"ew":"ns")),!0},i.prototype.calculateAdjustments=function(w,L,D,B){var Y=this._rules,Z=[],ot=[];return(0,a.forEach)(w,function(et){if(!(!et.parent||A(et))){var H=et[L],W=H+et[m[L]];if(D>0&&H>B||D<0&&W<B)return Z.push(et);if(H<B&&W>B&&Y.allowed("shape.resize",{shape:et}))return ot.push(et)}}),{movingShapes:Z,resizingShapes:ot}},i.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},i.prototype.isActive=function(){var w=this._dragging.context();return w&&/^spaceTool/.test(w.prefix)},i.prototype.getDelta=function(w){var L=w.context,D=L.axis,B={x:0,y:0};return B[D]=P(w["d"+D]),B};function p(w){return{top:w.top-o,right:w.right+o,bottom:w.bottom+o,left:w.left-o}}function g(w){var L=w.context,D=L.spaceToolConstraints;if(D){var B,Y;(0,a.isNumber)(D.left)&&(B=Math.max(w.x,D.left),w.dx=w.dx+B-w.x,w.x=B),(0,a.isNumber)(D.right)&&(B=Math.min(w.x,D.right),w.dx=w.dx+B-w.x,w.x=B),(0,a.isNumber)(D.top)&&(Y=Math.max(w.y,D.top),w.dy=w.dy+Y-w.y,w.y=Y),(0,a.isNumber)(D.bottom)&&(Y=Math.min(w.y,D.bottom),w.dy=w.dy+Y-w.y,w.y=Y)}}function h(w,L,D,B,Y){var Z=w.movingShapes,ot=w.resizingShapes;if(ot.length){var et={},H,W;return(0,a.forEach)(ot,function(M){var C=(0,d.Fy)(M),R=(0,a.filter)(M.children,function(F){return!A(F)&&!U(F)&&!x(Z,F)&&!x(ot,F)}),y=(0,a.filter)(M.children,function(F){return!A(F)&&!U(F)&&x(Z,F)}),t,r,c;R.length&&(r=p((0,d.Fy)((0,_.U7)(R))),t=B-C[e[D]]+r[e[D]],D==="n"?et.bottom=W=(0,a.isNumber)(W)?Math.min(W,t):t:D==="w"?et.right=W=(0,a.isNumber)(W)?Math.min(W,t):t:D==="s"?et.top=H=(0,a.isNumber)(H)?Math.max(H,t):t:D==="e"&&(et.left=H=(0,a.isNumber)(H)?Math.max(H,t):t)),y.length&&(c=p((0,d.Fy)((0,_.U7)(y))),t=B-c[e[n[D]]]+C[e[n[D]]],D==="n"?et.bottom=W=(0,a.isNumber)(W)?Math.min(W,t):t:D==="w"?et.right=W=(0,a.isNumber)(W)?Math.min(W,t):t:D==="s"?et.top=H=(0,a.isNumber)(H)?Math.max(H,t):t:D==="e"&&(et.left=H=(0,a.isNumber)(H)?Math.max(H,t):t));var O=Y&&Y[M.id];O&&(D==="n"?(t=B+M[m[L]]-O[m[L]],et.bottom=W=(0,a.isNumber)(W)?Math.min(W,t):t):D==="w"?(t=B+M[m[L]]-O[m[L]],et.right=W=(0,a.isNumber)(W)?Math.min(W,t):t):D==="s"?(t=B-M[m[L]]+O[m[L]],et.top=H=(0,a.isNumber)(H)?Math.max(H,t):t):D==="e"&&(t=B-M[m[L]]+O[m[L]],et.left=H=(0,a.isNumber)(H)?Math.max(H,t):t))}),et}}function x(w,L){return w.indexOf(L)!==-1}function A(w){return!!w.waypoints}function U(w){return!!w.labelTarget}},7264:(rt,$,f)=>{f.d($,{A:()=>P});var a=f(98218),N=f.n(a),d=f(33225),_=f(52965),v="djs-dragging",E="djs-resizing",u=250,T=Math.max;function P(s,e,l,n,o){var i=this;function p(g,h){(0,a.forEach)(g,function(x){o.addDragger(x,h),l.addMarker(x,v)})}s.on("spaceTool.selection.start",function(g){var h=l.getLayer("space"),x=g.context,A={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},U=(0,d.vt)("g");(0,d.CF)(U,n.cls("djs-crosshair-group",["no-events"])),(0,d.BC)(h,U);var w=(0,d.vt)("path");(0,d.CF)(w,"d",A.x),(0,d.Ly)(w).add("djs-crosshair"),(0,d.BC)(U,w);var L=(0,d.vt)("path");(0,d.CF)(L,"d",A.y),(0,d.Ly)(L).add("djs-crosshair"),(0,d.BC)(U,L),x.crosshairGroup=U}),s.on("spaceTool.selection.move",function(g){var h=g.context.crosshairGroup;(0,_.Tl)(h,g.x,g.y)}),s.on("spaceTool.selection.cleanup",function(g){var h=g.context,x=h.crosshairGroup;x&&(0,d.TF)(x)}),s.on("spaceTool.move",u,function(g){var h=g.context,x=h.line,A=h.axis,U=h.movingShapes,w=h.resizingShapes;if(h.initialized){if(!h.dragGroup){var L=l.getLayer("space");x=(0,d.vt)("path"),(0,d.CF)(x,"d","M0,0 L0,0"),(0,d.Ly)(x).add("djs-crosshair"),(0,d.BC)(L,x),h.line=x;var D=(0,d.vt)("g");(0,d.CF)(D,n.cls("djs-drag-group",["no-events"])),(0,d.BC)(l.getDefaultLayer(),D),p(U,D);var B=h.movingConnections=e.filter(function(H){var W=!1;(0,a.forEach)(U,function(y){(0,a.forEach)(y.outgoing,function(t){H===t&&(W=!0)})});var M=!1;(0,a.forEach)(U,function(y){(0,a.forEach)(y.incoming,function(t){H===t&&(M=!0)})});var C=!1;(0,a.forEach)(w,function(y){(0,a.forEach)(y.outgoing,function(t){H===t&&(C=!0)})});var R=!1;return(0,a.forEach)(w,function(y){(0,a.forEach)(y.incoming,function(t){H===t&&(R=!0)})}),m(H)&&(W||C)&&(M||R)});p(B,D),h.dragGroup=D}if(!h.frameGroup){var Y=(0,d.vt)("g");(0,d.CF)(Y,n.cls("djs-frame-group",["no-events"])),(0,d.BC)(l.getDefaultLayer(),Y);var Z=[];(0,a.forEach)(w,function(H){var W=o.addFrame(H,Y),M=W.getBBox();Z.push({element:W,initialBounds:M}),l.addMarker(H,E)}),h.frameGroup=Y,h.frames=Z}var ot={x:"M"+g.x+", -10000 L"+g.x+", 10000",y:"M -10000, "+g.y+" L 10000, "+g.y};(0,d.CF)(x,{d:ot[A]});var et=i.getDelta(g);(0,_.Tl)(h.dragGroup,et.x,et.y),(0,a.forEach)(h.frames,function(H){var W=H.element,M=H.initialBounds,C,R;h.direction==="e"?(0,d.CF)(W,{width:T(M.width+et.x,5)}):(C=T(M.width-et.x,5),(0,d.CF)(W,{width:C,x:M.x+M.width-C})),h.direction==="s"?(0,d.CF)(W,{height:T(M.height+et.y,5)}):(R=T(M.height-et.y,5),(0,d.CF)(W,{height:R,y:M.y+M.height-R}))})}}),s.on("spaceTool.cleanup",function(g){var h=g.context,x=h.movingShapes,A=h.movingConnections,U=h.resizingShapes,w=h.line,L=h.dragGroup,D=h.frameGroup;(0,a.forEach)(x,function(B){l.removeMarker(B,v)}),(0,a.forEach)(A,function(B){l.removeMarker(B,v)}),L&&((0,d.TF)(w),(0,d.TF)(L)),(0,a.forEach)(U,function(B){l.removeMarker(B,E)}),D&&(0,d.TF)(D)})}P.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];function m(s){return s.waypoints}P.prototype.getDelta=function(s){var e=s.context,l={x:"y",y:"x"},n={x:s.dx,y:s.dy};return n[l[e.axis]]=0,n}},45240:(rt,$,f)=>{f.d($,{Gq:()=>_,Ih:()=>E,u6:()=>d});var a=f(98218),N=f.n(a);function d(u,T){if(u==="x"){if(T>0)return"e";if(T<0)return"w"}if(u==="y"){if(T>0)return"s";if(T<0)return"n"}return null}function _(u,T){var P=[];return(0,a.forEach)(u,function(m){var s=m.incoming,e=m.outgoing;(0,a.forEach)(s.concat(e),function(l){var n=l.source,o=l.target;(v(u,n)||v(u,o)||v(T,n)||v(T,o))&&(v(P,l)||P.push(l))})}),P}function v(u,T){return u.indexOf(T)!==-1}function E(u,T,P){var m=u.x,s=u.y,e=u.width,l=u.height,n=P.x,o=P.y;switch(T){case"n":return{x:m,y:s+o,width:e,height:l-o};case"s":return{x:m,y:s,width:e,height:l+o};case"w":return{x:m+n,y:s,width:e-n,height:l};case"e":return{x:m,y:s,width:e+n,height:l};default:throw new Error("unknown direction: "+T)}}},28400:(rt,$,f)=>{f.d($,{A:()=>s});var a=f(98218),N=f(52687),d=f(50941),_=new d.A("tt");function v(e){var l=(0,N.domify)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />');return e.insertBefore(l,e.firstChild),l}function E(e,l,n){(0,a.assign)(e.style,{left:l+"px",top:n+"px"})}function u(e,l){e.style.display=l===!1?"none":""}var T="djs-tooltip",P="."+T;function m(e,l){this._eventBus=e,this._canvas=l,this._ids=_,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=v(l.getContainer());var n=this;N.delegate.bind(this._tooltipRoot,P,"mousedown",function(o){o.stopPropagation()}),N.delegate.bind(this._tooltipRoot,P,"mouseover",function(o){n.trigger("mouseover",o)}),N.delegate.bind(this._tooltipRoot,P,"mouseout",function(o){n.trigger("mouseout",o)}),this._init()}m.$inject=["eventBus","canvas"],m.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var l=this._ids.next();return e=(0,a.assign)({},this._tooltipDefaults,e,{id:l}),this._addTooltip(e),e.timeout&&this.setTimeout(e),l},m.prototype.trigger=function(e,l){var n=l.delegateTarget||l.target,o=this.get((0,N.attr)(n,"data-tooltip-id"));o&&(e==="mouseover"&&o.timeout&&this.clearTimeout(o),e==="mouseout"&&o.timeout&&(o.timeout=1e3,this.setTimeout(o)))},m.prototype.get=function(e){return typeof e!="string"&&(e=e.id),this._tooltips[e]},m.prototype.clearTimeout=function(e){if(e=this.get(e),!!e){var l=e.removeTimer;l&&(clearTimeout(l),e.removeTimer=null)}},m.prototype.setTimeout=function(e){if(e=this.get(e),!!e){this.clearTimeout(e);var l=this;e.removeTimer=setTimeout(function(){l.remove(e)},e.timeout)}},m.prototype.remove=function(e){var l=this.get(e);l&&((0,N.remove)(l.html),(0,N.remove)(l.htmlContainer),delete l.htmlContainer,delete this._tooltips[l.id])},m.prototype.show=function(){u(this._tooltipRoot)},m.prototype.hide=function(){u(this._tooltipRoot,!1)},m.prototype._updateRoot=function(e){var l=e.scale||1,n=e.scale||1,o="matrix("+l+",0,0,"+n+","+-1*e.x*l+","+-1*e.y*n+")";this._tooltipRoot.style.transform=o,this._tooltipRoot.style["-ms-transform"]=o},m.prototype._addTooltip=function(e){var l=e.id,n=e.html,o,i=this._tooltipRoot;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),(0,a.isString)(n)&&(n=(0,N.domify)(n)),o=(0,N.domify)('<div data-tooltip-id="'+l+'" class="'+T+'" style="position: absolute">'),o.appendChild(n),e.type&&(0,N.classes)(o).add("djs-tooltip-"+e.type),e.className&&(0,N.classes)(o).add(e.className),e.htmlContainer=o,i.appendChild(o),this._tooltips[l]=e,this._updateTooltip(e)},m.prototype._updateTooltip=function(e){var l=e.position,n=e.htmlContainer;E(n,l.x,l.y)},m.prototype._updateTooltipVisibilty=function(e){(0,a.forEach)(this._tooltips,function(l){var n=l.show,o=l.htmlContainer,i=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(i=!1),u(o,i))})},m.prototype._init=function(){var e=this;function l(n){e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}this._eventBus.on("canvas.viewbox.changing",function(n){e.hide()}),this._eventBus.on("canvas.viewbox.changed",function(n){l(n.viewbox)})};const s={__init__:["tooltips"],tooltips:["type",m]}},10033:(rt,$,f)=>{f.d($,{A:()=>N});var a=f(65911);function N(){}N.prototype.layoutConnection=function(d,_){return _=_||{},[_.connectionStart||(0,a.pp)(_.source||d.source),_.connectionEnd||(0,a.pp)(_.target||d.target)]}},23550:(rt,$,f)=>{f.d($,{A:()=>v});var a=f(98218),N=f.n(a),d=f(65911);function _(E){return(0,a.assign)({original:E.point.original||E.point},E.actual)}function v(E,u){this._elementRegistry=E,this._graphicsFactory=u}v.$inject=["elementRegistry","graphicsFactory"],v.prototype.getCroppedWaypoints=function(E,u,T){u=u||E.source,T=T||E.target;var P=this.getDockingPoint(E,u,!0),m=this.getDockingPoint(E,T),s=E.waypoints.slice(P.idx+1,m.idx);return s.unshift(_(P)),s.push(_(m)),s},v.prototype.getDockingPoint=function(E,u,T){var P=E.waypoints,m,s,e;return m=T?0:P.length-1,s=P[m],e=this._getIntersection(u,E,T),{point:s,actual:e||s,idx:m}},v.prototype._getIntersection=function(E,u,T){var P=this._getShapePath(E),m=this._getConnectionPath(u);return(0,d.ki)(P,m,T)},v.prototype._getConnectionPath=function(E){return this._graphicsFactory.getConnectionPath(E)},v.prototype._getShapePath=function(E){return this._graphicsFactory.getShapePath(E)},v.prototype._getGfx=function(E){return this._elementRegistry.getGraphics(E)}},65911:(rt,$,f)=>{f.d($,{Au:()=>E,Fy:()=>T,PG:()=>u,Wy:()=>n,cD:()=>P,ki:()=>e,pp:()=>m,vc:()=>s});var a=f(98218),N=f.n(a),d=f(92159),_=f(38305),v=f.n(_);function E(o){return{x:Math.round(o.x),y:Math.round(o.y),width:Math.round(o.width),height:Math.round(o.height)}}function u(o){return{x:Math.round(o.x),y:Math.round(o.y)}}function T(o){return{top:o.y,right:o.x+(o.width||0),bottom:o.y+(o.height||0),left:o.x}}function P(o){return{x:o.left,y:o.top,width:o.right-o.left,height:o.bottom-o.top}}function m(o){return u({x:o.x+(o.width||0)/2,y:o.y+(o.height||0)/2})}function s(o,i,p){p=p||0,(0,a.isObject)(p)||(p={x:p,y:p});var g=T(o),h=T(i),x=g.bottom+p.y<=h.top,A=g.left-p.x>=h.right,U=g.top-p.y>=h.bottom,w=g.right+p.x<=h.left,L=x?"top":U?"bottom":null,D=w?"left":A?"right":null;return D&&L?L+"-"+D:D||L||"intersect"}function e(o,i,p){var g=l(o,i);return g.length===1||g.length===2&&(0,d.cK)(g[0],g[1])<1?u(g[0]):g.length>1?(g=(0,a.sortBy)(g,function(h){var x=Math.floor(h.t2*100)||1;return x=100-x,x=(x<10?"0":"")+x,h.segment2+"#"+x}),u(g[p?0:g.length-1])):null}function l(o,i){return v()(o,i)}function n(o){o=o.slice();for(var i=0,p,g,h;o[i];)p=o[i],g=o[i-1],h=o[i+1],(0,d.cK)(p,h)===0||(0,d.XP)(g,h,p)?o.splice(i,1):i++;return o}},74419:(rt,$,f)=>{f.d($,{WI:()=>A,Z9:()=>x,d7:()=>M});var a=f(98218),N=f.n(a),d=f(65911),_=f(92159),v=20,E=5,u=Math.round,T=20,P={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function m(C,R){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[R].test(C)}function s(C,R){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[C].test(R)}function e(C,R,y){var t=(0,d.vc)(R,C,E),r=y.split(":")[0],c=u((R.x-C.x)/2+C.x),O=u((R.y-C.y)/2+C.y),F,z,Q=s(r,t),X=/h|r|l/.test(r),q=!1,it=!1;return Q?(F=X?{x:c,y:C.y}:{x:C.x,y:O},z=X?"h:h":"v:v"):(q=m(t,r),z=X?"h:v":"v:h",q?X?(it=O===C.y,F={x:C.x+v*(/l/.test(r)?-1:1),y:it?O+v:O}):(it=c===C.x,F={x:it?c+v:c,y:C.y+v*(/t/.test(r)?-1:1)}):F={x:c,y:O}),{waypoints:g(C,F,z).concat(F),directions:z,turnNextDirections:it}}function l(C,R,y){return e(C,R,y)}function n(C,R,y){var t=e(R,C,i(y));return{waypoints:t.waypoints.slice().reverse(),directions:i(t.directions),turnNextDirections:t.turnNextDirections}}function o(C,R){var y=C.directions.split(":")[1],t=R.directions.split(":")[0];C.turnNextDirections&&(y=y=="h"?"v":"h"),R.turnNextDirections&&(t=t=="h"?"v":"h");var r=y+":"+t,c=g(C.waypoints[C.waypoints.length-1],R.waypoints[0],r);return{waypoints:c,directions:r}}function i(C){return C.split(":").reverse().join(":")}function p(C,R,y){var t=u((R.x-C.x)/2+C.x),r=u((R.y-C.y)/2+C.y);if(y==="h:v")return[{x:R.x,y:C.y}];if(y==="v:h")return[{x:C.x,y:R.y}];if(y==="h:h")return[{x:t,y:C.y},{x:t,y:R.y}];if(y==="v:v")return[{x:C.x,y:r},{x:R.x,y:r}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function g(C,R,y){if(y=y||"h:h",!ot(y))throw new Error("unknown directions: <"+y+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(et(y)){var t=l(C,R,y),r=n(C,R,y),c=o(t,r);return[].concat(t.waypoints,c.waypoints,r.waypoints)}return p(C,R,y)}function h(C,R,y){var t=g(C,R,y);return t.unshift(C),t.push(R),M(t)}function x(C,R,y,t,r){var c=r&&r.preferredLayouts||[],O=(0,a.without)(c,"straight")[0]||"h:h",F=P[O]||0,z=(0,d.vc)(C,R,F),Q=Z(z,O);y=y||(0,d.pp)(C),t=t||(0,d.pp)(R);var X=Q.split(":"),q=W(y,C,X[0],H(z)),it=W(t,R,X[1],z);return h(q,it,Q)}function A(C,R,y,t,r,c){(0,a.isArray)(y)&&(r=y,c=t,y=(0,d.pp)(C),t=(0,d.pp)(R)),c=(0,a.assign)({preferredLayouts:[]},c),r=r||[];var O=c.preferredLayouts,F=O.indexOf("straight")!==-1,z;return z=F&&L(C,R,y,t,c),z||(z=c.connectionEnd&&B(R,C,t,r),z)||(z=c.connectionStart&&D(C,R,y,r),z)?z:!c.connectionStart&&!c.connectionEnd&&r&&r.length?r:x(C,R,y,t,c)}function U(C,R,y){return C>=R&&C<=y}function w(C,R,y){var t={x:"width",y:"height"};return U(R[C],y[C],y[C]+y[t[C]])}function L(C,R,y,t,r){var c={},O,F;return F=(0,d.vc)(C,R),/^(top|bottom|left|right)$/.test(F)?(/top|bottom/.test(F)&&(O="x"),/left|right/.test(F)&&(O="y"),r.preserveDocking==="target"?w(O,t,C)?(c[O]=t[O],[{x:c.x!==void 0?c.x:y.x,y:c.y!==void 0?c.y:y.y,original:{x:c.x!==void 0?c.x:y.x,y:c.y!==void 0?c.y:y.y}},{x:t.x,y:t.y}]):null:w(O,y,R)?(c[O]=y[O],[{x:y.x,y:y.y},{x:c.x!==void 0?c.x:t.x,y:c.y!==void 0?c.y:t.y,original:{x:c.x!==void 0?c.x:t.x,y:c.y!==void 0?c.y:t.y}}]):null):null}function D(C,R,y,t){return Y(C,R,y,t)}function B(C,R,y,t){var r=t.slice().reverse();return r=Y(C,R,y,r),r?r.reverse():null}function Y(C,R,y,t){function r(X){return X.length<3?!0:X.length>4?!1:!!(0,a.find)(X,function(q,it){var K=X[it-1];return K&&(0,_.cK)(q,K)<3})}function c(X,q,it){var K=(0,_.ke)(q,X);switch(K){case"v":return{x:it.x,y:X.y};case"h":return{x:X.x,y:it.y}}return{x:X.x,y:X.y}}function O(X,q,it){var K;for(K=X.length-2;K!==0;K--)if((0,_.El)(X[K],q,T)||(0,_.El)(X[K],it,T))return X.slice(K);return X}if(r(t))return null;var F=t[0],z=t.slice(),Q;return z[0]=y,z[1]=c(z[1],F,y),Q=O(z,C,R),Q!==z&&(z=Y(C,R,y,Q)),z&&(0,_.ke)(z)?null:z}function Z(C,R){if(et(R))return R;switch(C){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return R}}function ot(C){return C&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(C)}function et(C){return C&&/t|r|b|l/.test(C)}function H(C){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[C]}function W(C,R,y,t){if(y==="h"&&(y=/left/.test(t)?"l":"r"),y==="v"&&(y=/top/.test(t)?"t":"b"),y==="t")return{original:C,x:C.x,y:R.y};if(y==="r")return{original:C,x:R.x+R.width,y:C.y};if(y==="b")return{original:C,x:C.x,y:R.y+R.height};if(y==="l")return{original:C,x:R.x,y:C.y};throw new Error("unexpected dockingDirection: <"+y+">")}function M(C){return C.reduce(function(R,y,t){var r=R[R.length-1],c=C[t+1];return(0,_.XP)(r,c,y,0)||R.push(y),R},[])}},49096:(rt,$,f)=>{f.d($,{C6:()=>e,bL:()=>n,vt:()=>g});var a=f(98218),N=f.n(a),d=f(51270),_=f.n(d),v=f(82867),E=f.n(v),u=new(E())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),T=new(E())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),P=new(E())({name:"attachers",collection:!0},{name:"host"}),m=new(E())({name:"outgoing",collection:!0},{name:"source"}),s=new(E())({name:"incoming",collection:!0},{name:"target"});function e(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(h){var x=this.label,A=this.labels;!h&&x?A.remove(x):A.add(h,0)}}),u.bind(this,"parent"),T.bind(this,"labels"),m.bind(this,"outgoing"),s.bind(this,"incoming")}function l(){e.call(this),u.bind(this,"children"),P.bind(this,"host"),P.bind(this,"attachers")}_()(l,e);function n(){l.call(this)}_()(n,l);function o(){l.call(this),T.bind(this,"labelTarget")}_()(o,l);function i(){e.call(this),m.bind(this,"source"),s.bind(this,"target")}_()(i,e);var p={connection:i,shape:l,label:o,root:n};function g(h,x){var A=p[h];if(!A)throw new Error("unknown type: <"+h+">");return(0,a.assign)(new A,x)}},64916:(rt,$,f)=>{f.d($,{A:()=>P});var a=f(46837),N=f(200),d=f(56764),_=f(52687),v=f(86439),E=15;function u(m,s){var e;m.on("element.mousedown",500,function(i){return o(i.originalEvent)});function l(i){var p=e.start,g=(0,v.gK)(i),h=(0,d.p)(g,p);if(!e.dragging&&T(h)>E&&(e.dragging=!0,(0,N.a)(m),(0,a.hZ)("grab")),e.dragging){var x=e.last||e.start;h=(0,d.p)(g,x),s.scroll({dx:h.x,dy:h.y}),e.last=g}i.preventDefault()}function n(i){_.event.unbind(document,"mousemove",l),_.event.unbind(document,"mouseup",n),e=null,(0,a.wC)()}function o(i){if(!(0,_.closest)(i.target,".djs-draggable")&&!(i.button||i.ctrlKey||i.shiftKey||i.altKey))return e={start:(0,v.gK)(i)},_.event.bind(document,"mousemove",l),_.event.bind(document,"mouseup",n),!0}}u.$inject=["eventBus","canvas"];function T(m){return Math.sqrt(Math.pow(m.x,2)+Math.pow(m.y,2))}const P={__init__:["moveCanvas"],moveCanvas:["type",u]}},32959:(rt,$,f)=>{f.d($,{A:()=>g});var a=f(69380),N=f(98218),d=f(52687),_=f(66716),v=f.n(_),E=f(86439),u=.2,T=4,P=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function m(){}function s(h,x){return x.get(h,!1)}function e(h){h.preventDefault(),h.stopPropagation(),typeof h.stopImmediatePropagation=="function"&&h.stopImmediatePropagation()}function l(h){function x(Z){(0,N.forEach)(P,function(ot){d.event.bind(h,ot,e,!0)})}function A(Z){setTimeout(function(){(0,N.forEach)(P,function(ot){d.event.unbind(h,ot,e,!0)})},500)}d.event.bind(h,"touchstart",x,!0),d.event.bind(h,"touchend",A,!0),d.event.bind(h,"touchcancel",A,!0);var U=new(v()).Manager(h,{inputClass:v().TouchInput,recognizers:[]}),w=new(v()).Tap,L=new(v()).Pan({threshold:10}),D=new(v()).Press,B=new(v()).Pinch,Y=new(v()).Tap({event:"doubletap",taps:2});return B.requireFailure(L),B.requireFailure(D),U.add([L,D,B,Y,w]),U.reset=function(Z){var ot=this.recognizers,et=this.session;et.stopped||(U.stop(Z),setTimeout(function(){var H,W;for(H=0;W=ot[H];H++)W.reset(),W.state=8;et.curRecognizer=null},0))},U.on("hammer.input",function(Z){Z.srcEvent.defaultPrevented&&U.reset(!0)}),U}function n(h,x,A,U,w){var L=s("dragging",h),D=s("move",h),B=s("contextPad",h),Y=s("palette",h),Z;function ot(W){return function(M){w.fire(W,M)}}function et(W){var M=(0,d.closest)(W,"svg, .djs-element",!0);return M}function H(W){Z=l(W),Z.on("doubletap",ot("element.dblclick")),Z.on("tap",ot("element.click"));function M(y){var t=0,r=0;function c(F){var z=F.deltaX-t,Q=F.deltaY-r;x.scroll({dx:z,dy:Q}),t=F.deltaX,r=F.deltaY}function O(F){Z.off("panmove",c),Z.off("panend",O),Z.off("pancancel",O)}Z.on("panmove",c),Z.on("panend",O),Z.on("pancancel",O)}function C(y){var t=et(y.target),r=t&&U.get(t);if(D&&x.getRootElement()!==r)return D.start(y,r,!0);M(y)}function R(y){var t=x.zoom(),r=y.center;function c(F){var z=1-(1-F.scale)/1.5,Q=Math.max(u,Math.min(T,z*t));x.zoom(Q,r),e(F)}function O(F){Z.off("pinchmove",c),Z.off("pinchend",O),Z.off("pinchcancel",O),Z.reset(!0)}Z.on("pinchmove",c),Z.on("pinchend",O),Z.on("pinchcancel",O)}Z.on("panstart",C),Z.on("press",C),Z.on("pinchstart",R)}L&&A.on("drag.move",function(W){var M=W.originalEvent;if(!(!M||M instanceof MouseEvent)){var C=(0,E.gK)(M),R=document.elementFromPoint(C.x,C.y),y=et(R),t=y&&U.get(y);t!==W.hover&&(W.hover&&L.out(W),t&&(L.hover({element:t,gfx:y}),W.hover=t,W.hoverGfx=y))}}),B&&A.on("contextPad.create",function(W){var M=W.pad.html,C=l(M);C.on("panstart",function(R){B.trigger("dragstart",R,!0)}),C.on("press",function(R){B.trigger("dragstart",R,!0)}),C.on("tap",function(R){B.trigger("click",R)})}),Y&&A.on("palette.create",function(W){var M=W.container,C=l(M);C.on("panstart",function(R){Y.trigger("dragstart",R,!0)}),C.on("press",function(R){Y.trigger("dragstart",R,!0)}),C.on("tap",function(R){Y.trigger("click",R)})}),A.on("canvas.init",function(W){H(W.svg)})}n.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];var o=f(33225);function i(h,x){var A=this;x.on("canvas.init",function(U){A.addBBoxMarker(U.svg)})}i.$inject=["canvas","eventBus"],i.prototype.addBBoxMarker=function(h){var x={fill:"none",class:"outer-bound-marker"},A=(0,o.vt)("rect");(0,o.CF)(A,{x:-1e4,y:1e4,width:10,height:10}),(0,o.CF)(A,x),(0,o.BC)(h,A);var U=(0,o.vt)("rect");(0,o.CF)(U,{x:1e4,y:1e4,width:10,height:10}),(0,o.CF)(U,x),(0,o.BC)(h,U)};const g={__depends__:[{__depends__:[a.A],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",n],touchFix:["type",i]}]}},436:(rt,$,f)=>{f.d($,{A:()=>e});var a=f(52687),N=f.n(a),d=f(56165),_=f(55817),v=f(98218),E=f.n(v),u=Math.sign||function(l){return l>=0?1:-1},T={min:.2,max:4},P=10,m=.1,s=.75;function e(l,n,o){l=l||{},this._enabled=!1,this._canvas=o,this._container=o._container,this._handleWheel=(0,v.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=l.scale||s;var i=this;n.on("canvas.init",function(p){i._init(l.enabled!==!1)})}e.$inject=["config.zoomScroll","eventBus","canvas"],e.prototype.scroll=function(n){this._canvas.scroll(n)},e.prototype.reset=function(){this._canvas.zoom("fit-viewport")},e.prototype.zoom=function(n,o){var i=(0,d.U)(T,P*2);this._totalDelta+=n,Math.abs(this._totalDelta)>m&&(this._zoom(n,o,i),this._totalDelta=0)},e.prototype._handleWheel=function(n){if(!(0,a.closest)(n.target,".djs-scrollable",!0)){var o=this._container;n.preventDefault();var i=n.ctrlKey,p=n.shiftKey,g=-1*this._scale,h;if(i?g*=n.deltaMode===0?.02:.32:g*=n.deltaMode===0?1:16,i){var x=o.getBoundingClientRect(),A={x:n.clientX-x.left,y:n.clientY-x.top};h=Math.sqrt(Math.pow(n.deltaY,2)+Math.pow(n.deltaX,2))*u(n.deltaY)*g,this.zoom(h,A)}else p?h={dx:g*n.deltaY,dy:0}:h={dx:g*n.deltaX,dy:g*n.deltaY},this.scroll(h)}},e.prototype.stepZoom=function(n,o){var i=(0,d.U)(T,P);this._zoom(n,o,i)},e.prototype._zoom=function(l,n,o){var i=this._canvas,p=l>0?1:-1,g=(0,_.Y)(i.zoom()),h=Math.round(g/o)*o;h+=o*p;var x=Math.pow(10,h);i.zoom((0,d.N)(T,x),n)},e.prototype.toggle=function(n){var o=this._container,i=this._handleWheel,p=this._enabled;return typeof n>"u"&&(n=!p),p!==n&&a.event[n?"bind":"unbind"](o,"wheel",i,!1),this._enabled=n,n},e.prototype._init=function(l){this.toggle(l)}},56165:(rt,$,f)=>{f.d($,{N:()=>d,U:()=>N});var a=f(55817);function N(_,v){var E=(0,a.Y)(_.min),u=(0,a.Y)(_.max),T=Math.abs(E)+Math.abs(u);return T/v}function d(_,v){return Math.max(_.min,Math.min(_.max,v))}},81284:(rt,$,f)=>{f.d($,{A:()=>N});var a=f(436);const N={__init__:["zoomScroll"],zoomScroll:["type",a.A]}},200:(rt,$,f)=>{f.d($,{a:()=>N});var a=5e3;function N(d,_){_=_||"element.click";function v(){return!1}return d.once(_,a,v),function(){d.off(_,v)}}},6958:(rt,$,f)=>{f.d($,{TF:()=>a,WQ:()=>N,qh:()=>d});function a(_,v){if(!_||!v)return-1;var E=_.indexOf(v);return E!==-1&&_.splice(E,1),E}function N(_,v,E){if(!(!_||!v)){typeof E!="number"&&(E=-1);var u=_.indexOf(v);if(u!==-1){if(u===E)return;if(E!==-1)_.splice(u,1);else return}E!==-1?_.splice(E,0,v):_.push(v)}}function d(_,v){return!_||!v?-1:_.indexOf(v)}},46837:(rt,$,f)=>{f.d($,{hZ:()=>_,wC:()=>v});var a=f(52687),N=f.n(a),d=/^djs-cursor-.*$/;function _(u){var T=(0,a.classes)(document.body);T.removeMatching(d),u&&T.add("djs-cursor-"+u)}function v(){_(null)}function E(u){var T=domClasses(document.body);return T.has("djs-cursor-"+u)}},10018:(rt,$,f)=>{f.d($,{Pw:()=>l,U7:()=>s,cZ:()=>P,eb:()=>n,qO:()=>E,rx:()=>e,wT:()=>d,yO:()=>m});var a=f(98218),N=f.n(a);function d(i){return(0,a.filter)(i,function(p){return!(0,a.find)(i,function(g){return g!==p&&_(p,g)})})}function _(i,p){if(p){if(i===p)return p;if(i.parent)return _(i.parent,p)}}function v(i,p,g){var h=!g||i.indexOf(p)===-1;return h&&i.push(p),h}function E(i,p,g){g=g||0,(0,a.isArray)(i)||(i=[i]),(0,a.forEach)(i,function(h,x){var A=p(h,x,g);(0,a.isArray)(A)&&A.length&&E(A,p,g+1)})}function u(i,p,g){var h=[],x=[];return E(i,function(A,U,w){v(h,A,p);var L=A.children;if((g===-1||w<g)&&L&&v(x,L,p))return L}),h}function T(i,p){return u(i,!p,1)}function P(i,p){return u(i,!p,-1)}function m(i,p,g){(0,a.isUndefined)(p)&&(p=!0),(0,a.isObject)(p)&&(g=p,p=!0),g=g||{};var h=o(g.allShapes),x=o(g.allConnections),A=o(g.enclosedElements),U=o(g.enclosedConnections),w=o(g.topLevel,p&&(0,a.groupBy)(i,function(B){return B.id}));function L(B){w[B.source.id]&&w[B.target.id]&&(w[B.id]=[B]),h[B.source.id]&&h[B.target.id]&&(U[B.id]=A[B.id]=B),x[B.id]=B}function D(B){if(A[B.id]=B,B.waypoints)U[B.id]=x[B.id]=B;else return h[B.id]=B,(0,a.forEach)(B.incoming,L),(0,a.forEach)(B.outgoing,L),B.children}return E(i,D),{allShapes:h,allConnections:x,topLevel:w,enclosedConnections:U,enclosedElements:A}}function s(i,p){p=!!p,(0,a.isArray)(i)||(i=[i]);var g,h,x,A;return(0,a.forEach)(i,function(U){var w=U;U.waypoints&&!p&&(w=s(U.waypoints,!0));var L=w.x,D=w.y,B=w.height||0,Y=w.width||0;(L<g||g===void 0)&&(g=L),(D<h||h===void 0)&&(h=D),(L+Y>x||x===void 0)&&(x=L+Y),(D+B>A||A===void 0)&&(A=D+B)}),{x:g,y:h,height:A-h,width:x-g}}function e(i,p){var g={};return(0,a.forEach)(i,function(h){var x=h;x.waypoints&&(x=s(x)),!(0,a.isNumber)(p.y)&&x.x>p.x&&(g[h.id]=h),!(0,a.isNumber)(p.x)&&x.y>p.y&&(g[h.id]=h),x.x>p.x&&x.y>p.y&&((0,a.isNumber)(p.width)&&(0,a.isNumber)(p.height)&&x.width+x.x<p.width+p.x&&x.height+x.y<p.height+p.y||!(0,a.isNumber)(p.width)||!(0,a.isNumber)(p.height))&&(g[h.id]=h)}),g}function l(i){return"waypoints"in i?"connection":"x"in i?"shape":"root"}function n(i){return!!(i&&i.isFrame)}function o(i,p){return(0,a.assign)({},i||{},p||{})}},86439:(rt,$,f)=>{f.d($,{AF:()=>N,dG:()=>d,gK:()=>_});function a(v){!v||typeof v.stopPropagation!="function"||v.stopPropagation()}function N(v){return v.originalEvent||v.srcEvent}function d(v,E){a(v,E),a(N(v),E)}function _(v){return v.pointers&&v.pointers.length&&(v=v.pointers[0]),v.touches&&v.touches.length&&(v=v.touches[0]),v?{x:v.clientX,y:v.clientY}:null}},92159:(rt,$,f)=>{f.d($,{El:()=>P,P8:()=>m,XP:()=>_,cK:()=>d,ke:()=>E});var a=f(98218),N=f.n(a);function d(s,e){return!s||!e?-1:Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))}function _(s,e,l,n){if(typeof n>"u"&&(n=5),!s||!e||!l)return!1;var o=(e.x-s.x)*(l.y-s.y)-(e.y-s.y)*(l.x-s.x),i=d(s,e);return Math.abs(o/i)<=n}var v=2;function E(s,e){var l;return(0,a.isArray)(s)?l=s:l=[s,e],u(l)?"h":T(l)?"v":!1}function u(s,e){var l;(0,a.isArray)(s)?l=s:l=[s,e];var n=l.slice().shift();return(0,a.every)(l,function(o){return Math.abs(n.y-o.y)<=v})}function T(s,e){var l;(0,a.isArray)(s)?l=s:l=[s,e];var n=l.slice().shift();return(0,a.every)(l,function(o){return Math.abs(n.x-o.x)<=v})}function P(s,e,l){return l=l||0,s.x>e.x-l&&s.y>e.y-l&&s.x<e.x+e.width+l&&s.y<e.y+e.height+l}function m(s,e){return{x:Math.round(s.x+(e.x-s.x)/2),y:Math.round(s.y+(e.y-s.y)/2)}}},12266:(rt,$,f)=>{f.d($,{P:()=>a,i:()=>N});function a(d){return d.childNodes[0]}function N(d){return d.parentNode.childNodes[1]}},50941:(rt,$,f)=>{f.d($,{A:()=>a});function a(N){this._counter=0,this._prefix=(N?N+"-":"")+Math.floor(Math.random()*1e9)+"-"}a.prototype.next=function(){return this._prefix+ ++this._counter}},55817:(rt,$,f)=>{f.d($,{Y:()=>a});function a(N){return Math.log(N)/Math.log(10)}},60053:(rt,$,f)=>{f.d($,{Io:()=>_,KH:()=>v,ls:()=>d});var a=f(86439);function N(){return/mac/i.test(navigator.platform)}function d(E){return!((0,a.AF)(E)||E).button}function _(E){var u=(0,a.AF)(E)||E;return d(E)?N()?u.metaKey:u.ctrlKey:!1}function v(E){var u=(0,a.AF)(E)||E;return d(E)&&u.shiftKey}},56764:(rt,$,f)=>{f.d($,{g:()=>a,p:()=>N});function a(d){return{x:d.x+d.width/2,y:d.y+d.height/2}}function N(d,_){return{x:d.x-_.x,y:d.y-_.y}}},91799:(rt,$,f)=>{f.d($,{l:()=>a});function a(N,d){if(typeof d!="function")throw new Error("removeFn iterator must be a function");if(N){for(var _;_=N[0];)d(_);return N}}},12619:(rt,$,f)=>{f.d($,{RJ:()=>_,si:()=>v,tx:()=>N});var a=f(33225);function N(E){return E.join(",").replace(/,?([A-z]),?/g,"$1")}function d(E){for(var u="",T=0,P;P=E[T];T++)u+=P.x+","+P.y+" ";return u}function _(E,u){var T=(0,a.vt)("polyline");return(0,a.CF)(T,{points:d(E)}),u&&(0,a.CF)(T,u),T}function v(E,u){return(0,a.CF)(E,{points:d(u)}),E}},52965:(rt,$,f)=>{f.d($,{Tl:()=>d,e$:()=>_,pd:()=>N});var a=f(33225);function N(E,u,T,P,m){var s=(0,a.l1)();s.setTranslate(u,T);var e=(0,a.l1)();e.setRotate(P||0,0,0);var l=(0,a.l1)();l.setScale(m||1,m||1),(0,a.pd)(E,[s,e,l])}function d(E,u,T){var P=(0,a.l1)();P.setTranslate(u,T),(0,a.pd)(E,P)}function _(E,u){var T=(0,a.l1)();T.setRotate(u,0,0),(0,a.pd)(E,T)}function v(E,u){var T=createTransform();T.setScale(u,u),svgTransform(E,T)}},44156:(rt,$,f)=>{f.d($,{A:()=>n});var a=f(98218),N=f.n(a),d=f(33225),_=0,v={width:150,height:50};function E(i){var p=i.split("-");return{horizontal:p[0]||"center",vertical:p[1]||"top"}}function u(i){return(0,a.isObject)(i)?(0,a.assign)({top:0,left:0,right:0,bottom:0},i):{top:i,left:i,right:i,bottom:i}}function T(i,p){p.textContent=i;var g;try{var h,x=i==="";return p.textContent=x?"dummy":i,g=p.getBBox(),h={width:g.width+g.x*2,height:g.height},x&&(h.width=0),h}catch{return{width:0,height:0}}}function P(i,p,g){for(var h=i.shift(),x=h,A;;){if(A=T(x,g),A.width=x?A.width:0,x===" "||x===""||Math.round(A.width)<=Math.round(p)||x.length<2)return m(i,x,h,A);x=e(x,A.width,p)}}function m(i,p,g,h){if(p.length<g.length){var x=g.slice(p.length).trim();i.unshift(x)}return{width:h.width,height:h.height,text:p}}function s(i,p){var g=i.split(/(\s|-)/g),h,x=[],A=0;if(g.length>1)for(;h=g.shift();)if(h.length+A<p)x.push(h),A+=h.length;else{h==="-"&&x.pop();break}return x.join("")}function e(i,p,g){var h=Math.max(i.length*(g/p),1),x=s(i,h);return x||(x=i.slice(0,Math.max(Math.round(h-1),1))),x}function l(){var i=document.getElementById("helper-svg");return i||(i=(0,d.vt)("svg"),(0,d.CF)(i,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(i)),i}function n(i){this._config=(0,a.assign)({},{size:v,padding:_,style:{},align:"center-top"},i||{})}n.prototype.createText=function(i,p){return this.layoutText(i,p).element},n.prototype.getDimensions=function(i,p){return this.layoutText(i,p).dimensions},n.prototype.layoutText=function(i,p){var g=(0,a.assign)({},this._config.size,p.box),h=(0,a.assign)({},this._config.style,p.style),x=E(p.align||this._config.align),A=u(p.padding!==void 0?p.padding:this._config.padding),U=p.fitBox||!1,w=o(h),L=i.split(/\r?\n/g),D=[],B=g.width-A.left-A.right,Y=(0,d.vt)("text");(0,d.CF)(Y,{x:0,y:0}),(0,d.CF)(Y,h);var Z=l();for((0,d.BC)(Z,Y);L.length;)D.push(P(L,B,Y));x.vertical==="middle"&&(A.top=A.bottom=0);var ot=(0,a.reduce)(D,function(C,R,y){return C+(w||R.height)},0)+A.top+A.bottom,et=(0,a.reduce)(D,function(C,R,y){return R.width>C?R.width:C},0),H=A.top;x.vertical==="middle"&&(H+=(g.height-ot)/2),H-=(w||D[0].height)/4;var W=(0,d.vt)("text");(0,d.CF)(W,h),(0,a.forEach)(D,function(C){var R;switch(H+=w||C.height,x.horizontal){case"left":R=A.left;break;case"right":R=(U?et:B)-A.right-C.width;break;default:R=Math.max(((U?et:B)-C.width)/2+A.left,0)}var y=(0,d.vt)("tspan");(0,d.CF)(y,{x:R,y:H}),y.textContent=C.text,(0,d.BC)(W,y)}),(0,d.TF)(Y);var M={width:et,height:ot};return{dimensions:M,element:W}};function o(i){if("fontSize"in i&&"lineHeight"in i)return i.lineHeight*parseInt(i.fontSize,10)}},33225:(rt,$,f)=>{f.d($,{BC:()=>d,CF:()=>P,IU:()=>p,Ly:()=>n,TF:()=>i,l1:()=>H,o8:()=>g,pd:()=>V,uK:()=>et,vt:()=>w});function a(I,j){if(I.ownerDocument!==j.ownerDocument)try{return j.ownerDocument.importNode(I,!0)}catch{}return I}function N(I,j){return j.appendChild(a(I,j))}function d(I,j){return N(j,I),I}var _=2,v={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":_,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":_,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function E(I,j){return v[j]?I.style[j]:I.getAttributeNS(null,j)}function u(I,j,J){var nt=j.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),st=v[nt];st?(st===_&&typeof J=="number"&&(J=String(J)+"px"),I.style[nt]=J):I.setAttributeNS(null,j,J)}function T(I,j){var J=Object.keys(j),nt,st;for(nt=0,st;st=J[nt];nt++)u(I,st,j[st])}function P(I,j,J){if(typeof j=="string")if(J!==void 0)u(I,j,J);else return E(I,j);else T(I,j);return I}function m(I,j){if(I.indexOf)return I.indexOf(j);for(var J=0;J<I.length;++J)if(I[J]===j)return J;return-1}var s=/\s+/,e=Object.prototype.toString;function l(I){return typeof I<"u"}function n(I){return new o(I)}function o(I){if(!I||!I.nodeType)throw new Error("A DOM element reference is required");this.el=I,this.list=I.classList}o.prototype.add=function(I){if(this.list)return this.list.add(I),this;var j=this.array(),J=m(j,I);return~J||j.push(I),l(this.el.className.baseVal)?this.el.className.baseVal=j.join(" "):this.el.className=j.join(" "),this},o.prototype.remove=function(I){if(e.call(I)==="[object RegExp]")return this.removeMatching(I);if(this.list)return this.list.remove(I),this;var j=this.array(),J=m(j,I);return~J&&j.splice(J,1),this.el.className.baseVal=j.join(" "),this},o.prototype.removeMatching=function(I){for(var j=this.array(),J=0;J<j.length;J++)I.test(j[J])&&this.remove(j[J]);return this},o.prototype.toggle=function(I,j){return this.list?(l(j)?j!==this.list.toggle(I,j)&&this.list.toggle(I):this.list.toggle(I),this):(l(j)?j?this.add(I):this.remove(I):this.has(I)?this.remove(I):this.add(I),this)},o.prototype.array=function(){var I=this.el.getAttribute("class")||"",j=I.replace(/^\s+|\s+$/g,""),J=j.split(s);return J[0]===""&&J.shift(),J},o.prototype.has=o.prototype.contains=function(I){return this.list?this.list.contains(I):!!~m(this.array(),I)};function i(I){var j=I.parentNode;return j&&j.removeChild(I),I}function p(I){for(var j;j=I.firstChild;)i(j);return I}function g(I){return I.cloneNode(!0)}var h={svg:"http://www.w3.org/2000/svg"},x='<svg xmlns="'+h.svg+'"';function A(I){var j=!1;I.substring(0,4)==="<svg"?I.indexOf(h.svg)===-1&&(I=x+I.substring(4)):(I=x+">"+I+"</svg>",j=!0);var J=U(I);if(!j)return J;for(var nt=document.createDocumentFragment(),st=J.firstChild;st.firstChild;)nt.appendChild(st.firstChild);return nt}function U(I){var j;return j=new DOMParser,j.async=!1,j.parseFromString(I,"text/xml")}function w(I,j){var J;return I.charAt(0)==="<"?(J=A(I).firstChild,J=document.importNode(J,!0)):J=document.createElementNS(h.svg,I),j&&P(J,j),J}function L(I,j,J,nt){I.addEventListener(j,J,nt)}function D(I,j,J,nt){I.removeEventListener(j,J,nt)}var B=null;function Y(){return B===null&&(B=w("svg")),B}function Z(I,j){var J,nt,st=Object.keys(j);for(J=0;nt=st[J];J++)I[nt]=j[nt];return I}function ot(I,j){var J=Y().createSVGPoint();switch(arguments.length){case 0:return J;case 2:I={x:I,y:j};break}return Z(J,I)}function et(I,j,J,nt,st,ut){var lt=Y().createSVGMatrix();switch(arguments.length){case 0:return lt;case 1:return Z(lt,I);case 6:return Z(lt,{a:I,b:j,c:J,d:nt,e:st,f:ut})}}function H(I){return I?Y().createSVGTransformFromMatrix(I):Y().createSVGTransform()}var W=/([&<>]{1})/g,M=/([\n\r"]{1})/g,C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function R(I,j){function J(nt,st){return C[st]||st}return I.replace(j,J)}function y(I,j){var J,nt,st,ut,lt;switch(I.nodeType){case 3:j.push(R(I.textContent,W));break;case 1:if(j.push("<",I.tagName),I.hasAttributes())for(st=I.attributes,J=0,nt=st.length;J<nt;++J)ut=st.item(J),j.push(" ",ut.name,'="',R(ut.value,M),'"');if(I.hasChildNodes()){for(j.push(">"),lt=I.childNodes,J=0,nt=lt.length;J<nt;++J)y(lt.item(J),j);j.push("</",I.tagName,">")}else j.push("/>");break;case 8:j.push("<!--",R(I.nodeValue,W),"-->");break;case 4:j.push("<![CDATA[",I.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+I.nodeType)}return j}function t(I,j){var J=A(j);if(p(I),!!j){c(J)||(J=J.documentElement);for(var nt=F(J.childNodes),st=0;st<nt.length;st++)N(nt[st],I)}}function r(I){for(var j=I.firstChild,J=[];j;)y(j,J),j=j.nextSibling;return J.join("")}function c(I){return I.nodeName==="#document-fragment"}function O(I,j){if(j!==void 0){try{t(I,j)}catch(J){throw new Error("error parsing SVG: "+J.message)}return I}else return r(I)}function F(I){return Array.prototype.slice.call(I)}function z(I,j){return I.querySelector(j)}function Q(I,j){var J=I.querySelectorAll(j);return[].map.call(J,function(nt){return nt})}function X(I,j){return j.insertBefore(a(I,j),j.firstChild||null)}function q(I,j){return X(j,I),I}function it(I,j){return I.parentNode.replaceChild(a(j,I),I),j}function K(I,j){return j instanceof SVGMatrix?I.createSVGTransformFromMatrix(j):j}function k(I,j){var J,nt;for(I.clear(),J=0;nt=j[J];J++)I.appendItem(K(I,nt))}function V(I,j){var J=I.transform.baseVal;return j&&(Array.isArray(j)||(j=[j]),k(J,j)),J.consolidate()}},4659:(rt,$,f)=>{f.d($,{A:()=>et});var a=function(){if(typeof Map<"u")return Map;function H(W,M){var C=-1;return W.some(function(R,y){return R[0]===M?(C=y,!0):!1}),C}return function(){function W(){this.__entries__=[]}return Object.defineProperty(W.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),W.prototype.get=function(M){var C=H(this.__entries__,M),R=this.__entries__[C];return R&&R[1]},W.prototype.set=function(M,C){var R=H(this.__entries__,M);~R?this.__entries__[R][1]=C:this.__entries__.push([M,C])},W.prototype.delete=function(M){var C=this.__entries__,R=H(C,M);~R&&C.splice(R,1)},W.prototype.has=function(M){return!!~H(this.__entries__,M)},W.prototype.clear=function(){this.__entries__.splice(0)},W.prototype.forEach=function(M,C){C===void 0&&(C=null);for(var R=0,y=this.__entries__;R<y.length;R++){var t=y[R];M.call(C,t[1],t[0])}},W}()}(),N=typeof window<"u"&&typeof document<"u"&&window.document===document,d=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),_=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(d):function(H){return setTimeout(function(){return H(Date.now())},1e3/60)}}(),v=2;function E(H,W){var M=!1,C=!1,R=0;function y(){M&&(M=!1,H()),C&&r()}function t(){_(y)}function r(){var c=Date.now();if(M){if(c-R<v)return;C=!0}else M=!0,C=!1,setTimeout(t,W);R=c}return r}var u=20,T=["top","right","bottom","left","width","height","size","weight"],P=typeof MutationObserver<"u",m=function(){function H(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=E(this.refresh.bind(this),u)}return H.prototype.addObserver=function(W){~this.observers_.indexOf(W)||this.observers_.push(W),this.connected_||this.connect_()},H.prototype.removeObserver=function(W){var M=this.observers_,C=M.indexOf(W);~C&&M.splice(C,1),!M.length&&this.connected_&&this.disconnect_()},H.prototype.refresh=function(){var W=this.updateObservers_();W&&this.refresh()},H.prototype.updateObservers_=function(){var W=this.observers_.filter(function(M){return M.gatherActive(),M.hasActive()});return W.forEach(function(M){return M.broadcastActive()}),W.length>0},H.prototype.connect_=function(){!N||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),P?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},H.prototype.disconnect_=function(){!N||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},H.prototype.onTransitionEnd_=function(W){var M=W.propertyName,C=M===void 0?"":M,R=T.some(function(y){return!!~C.indexOf(y)});R&&this.refresh()},H.getInstance=function(){return this.instance_||(this.instance_=new H),this.instance_},H.instance_=null,H}(),s=function(H,W){for(var M=0,C=Object.keys(W);M<C.length;M++){var R=C[M];Object.defineProperty(H,R,{value:W[R],enumerable:!1,writable:!1,configurable:!0})}return H},e=function(H){var W=H&&H.ownerDocument&&H.ownerDocument.defaultView;return W||d},l=w(0,0,0,0);function n(H){return parseFloat(H)||0}function o(H){for(var W=[],M=1;M<arguments.length;M++)W[M-1]=arguments[M];return W.reduce(function(C,R){var y=H["border-"+R+"-width"];return C+n(y)},0)}function i(H){for(var W=["top","right","bottom","left"],M={},C=0,R=W;C<R.length;C++){var y=R[C],t=H["padding-"+y];M[y]=n(t)}return M}function p(H){var W=H.getBBox();return w(0,0,W.width,W.height)}function g(H){var W=H.clientWidth,M=H.clientHeight;if(!W&&!M)return l;var C=e(H).getComputedStyle(H),R=i(C),y=R.left+R.right,t=R.top+R.bottom,r=n(C.width),c=n(C.height);if(C.boxSizing==="border-box"&&(Math.round(r+y)!==W&&(r-=o(C,"left","right")+y),Math.round(c+t)!==M&&(c-=o(C,"top","bottom")+t)),!x(H)){var O=Math.round(r+y)-W,F=Math.round(c+t)-M;Math.abs(O)!==1&&(r-=O),Math.abs(F)!==1&&(c-=F)}return w(R.left,R.top,r,c)}var h=function(){return typeof SVGGraphicsElement<"u"?function(H){return H instanceof e(H).SVGGraphicsElement}:function(H){return H instanceof e(H).SVGElement&&typeof H.getBBox=="function"}}();function x(H){return H===e(H).document.documentElement}function A(H){return N?h(H)?p(H):g(H):l}function U(H){var W=H.x,M=H.y,C=H.width,R=H.height,y=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,t=Object.create(y.prototype);return s(t,{x:W,y:M,width:C,height:R,top:M,right:W+C,bottom:R+M,left:W}),t}function w(H,W,M,C){return{x:H,y:W,width:M,height:C}}var L=function(){function H(W){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=w(0,0,0,0),this.target=W}return H.prototype.isActive=function(){var W=A(this.target);return this.contentRect_=W,W.width!==this.broadcastWidth||W.height!==this.broadcastHeight},H.prototype.broadcastRect=function(){var W=this.contentRect_;return this.broadcastWidth=W.width,this.broadcastHeight=W.height,W},H}(),D=function(){function H(W,M){var C=U(M);s(this,{target:W,contentRect:C})}return H}(),B=function(){function H(W,M,C){if(this.activeObservations_=[],this.observations_=new a,typeof W!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=W,this.controller_=M,this.callbackCtx_=C}return H.prototype.observe=function(W){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(W instanceof e(W).Element))throw new TypeError('parameter 1 is not of type "Element".');var M=this.observations_;M.has(W)||(M.set(W,new L(W)),this.controller_.addObserver(this),this.controller_.refresh())}},H.prototype.unobserve=function(W){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(W instanceof e(W).Element))throw new TypeError('parameter 1 is not of type "Element".');var M=this.observations_;M.has(W)&&(M.delete(W),M.size||this.controller_.removeObserver(this))}},H.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},H.prototype.gatherActive=function(){var W=this;this.clearActive(),this.observations_.forEach(function(M){M.isActive()&&W.activeObservations_.push(M)})},H.prototype.broadcastActive=function(){if(this.hasActive()){var W=this.callbackCtx_,M=this.activeObservations_.map(function(C){return new D(C.target,C.broadcastRect())});this.callback_.call(W,M,W),this.clearActive()}},H.prototype.clearActive=function(){this.activeObservations_.splice(0)},H.prototype.hasActive=function(){return this.activeObservations_.length>0},H}(),Y=typeof WeakMap<"u"?new WeakMap:new a,Z=function(){function H(W){if(!(this instanceof H))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var M=m.getInstance(),C=new B(W,M,this);Y.set(this,C)}return H}();["observe","unobserve","disconnect"].forEach(function(H){Z.prototype[H]=function(){var W;return(W=Y.get(this))[H].apply(W,arguments)}});var ot=function(){return typeof d.ResizeObserver<"u"?d.ResizeObserver:Z}();const et=ot},87004:(rt,$,f)=>{f.d($,{BC:()=>d,CF:()=>P,Ly:()=>s,TF:()=>z,o8:()=>n,pd:()=>it,uK:()=>B,vt:()=>h});function a(K,k){if(K.ownerDocument!==k.ownerDocument)try{return k.ownerDocument.importNode(K,!0)}catch{}return K}function N(K,k){return k.appendChild(a(K,k))}function d(K,k){return N(k,K),K}var _=2,v={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":_,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":_,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function E(K,k){return v[k]?K.style[k]:K.getAttributeNS(null,k)}function u(K,k,V){var I=k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),j=v[I];j?(j===_&&typeof V=="number"&&(V=String(V)+"px"),K.style[I]=V):K.setAttributeNS(null,k,V)}function T(K,k){var V=Object.keys(k),I,j;for(I=0,j;j=V[I];I++)u(K,j,k[j])}function P(K,k,V){if(typeof k=="string")if(V!==void 0)u(K,k,V);else return E(K,k);else T(K,k);return K}const m=Object.prototype.toString;function s(K){return new e(K)}function e(K){if(!K||!K.nodeType)throw new Error("A DOM element reference is required");this.el=K,this.list=K.classList}e.prototype.add=function(K){return this.list.add(K),this},e.prototype.remove=function(K){return m.call(K)=="[object RegExp]"?this.removeMatching(K):(this.list.remove(K),this)},e.prototype.removeMatching=function(K){const k=this.array();for(let V=0;V<k.length;V++)K.test(k[V])&&this.remove(k[V]);return this},e.prototype.toggle=function(K,k){return typeof k<"u"?k!==this.list.toggle(K,k)&&this.list.toggle(K):this.list.toggle(K),this},e.prototype.array=function(){return Array.from(this.list)},e.prototype.has=e.prototype.contains=function(K){return this.list.contains(K)};function l(K){for(var k;k=K.firstChild;)K.removeChild(k);return K}function n(K){return K.cloneNode(!0)}var o={svg:"http://www.w3.org/2000/svg"},i='<svg xmlns="'+o.svg+'"';function p(K){var k=!1;K.substring(0,4)==="<svg"?K.indexOf(o.svg)===-1&&(K=i+K.substring(4)):(K=i+">"+K+"</svg>",k=!0);var V=g(K);if(!k)return V;for(var I=document.createDocumentFragment(),j=V.firstChild;j.firstChild;)I.appendChild(j.firstChild);return I}function g(K){var k;return k=new DOMParser,k.async=!1,k.parseFromString(K,"text/xml")}function h(K,k){var V;return K=K.trim(),K.charAt(0)==="<"?(V=p(K).firstChild,V=document.importNode(V,!0)):V=document.createElementNS(o.svg,K),k&&P(V,k),V}function x(K,k,V,I){K.addEventListener(k,V,I)}function A(K,k,V,I){K.removeEventListener(k,V,I)}var U=null;function w(){return U===null&&(U=h("svg")),U}function L(K,k){var V,I,j=Object.keys(k);for(V=0;I=j[V];V++)K[I]=k[I];return K}function D(K,k){var V=w().createSVGPoint();switch(arguments.length){case 0:return V;case 2:K={x:K,y:k};break}return L(V,K)}function B(K,k,V,I,j,J){var nt=w().createSVGMatrix();switch(arguments.length){case 0:return nt;case 1:return L(nt,K);case 6:return L(nt,{a:K,b:k,c:V,d:I,e:j,f:J})}}function Y(K){return K?w().createSVGTransformFromMatrix(K):w().createSVGTransform()}var Z=/([&<>]{1})/g,ot=/([&<>\n\r"]{1})/g,et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function H(K,k){function V(I,j){return et[j]||j}return K.replace(k,V)}function W(K,k){var V,I,j,J,nt;switch(K.nodeType){case 3:k.push(H(K.textContent,Z));break;case 1:if(k.push("<",K.tagName),K.hasAttributes())for(j=K.attributes,V=0,I=j.length;V<I;++V)J=j.item(V),k.push(" ",J.name,'="',H(J.value,ot),'"');if(K.hasChildNodes()){for(k.push(">"),nt=K.childNodes,V=0,I=nt.length;V<I;++V)W(nt.item(V),k);k.push("</",K.tagName,">")}else k.push("/>");break;case 8:k.push("<!--",H(K.nodeValue,Z),"-->");break;case 4:k.push("<![CDATA[",K.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+K.nodeType)}return k}function M(K,k){var V=p(k);if(l(K),!!k){R(V)||(V=V.documentElement);for(var I=t(V.childNodes),j=0;j<I.length;j++)N(I[j],K)}}function C(K){for(var k=K.firstChild,V=[];k;)W(k,V),k=k.nextSibling;return V.join("")}function R(K){return K.nodeName==="#document-fragment"}function y(K,k){if(k!==void 0){try{M(K,k)}catch(V){throw new Error("error parsing SVG: "+V.message)}return K}else return C(K)}function t(K){return Array.prototype.slice.call(K)}function r(K,k){return K.querySelector(k)}function c(K,k){var V=K.querySelectorAll(k);return[].map.call(V,function(I){return I})}function O(K,k){return k.insertBefore(a(K,k),k.firstChild||null)}function F(K,k){return O(k,K),K}function z(K){var k=K.parentNode;return k&&k.removeChild(K),K}function Q(K,k){return K.parentNode.replaceChild(a(k,K),K),k}function X(K,k){return k instanceof SVGMatrix?K.createSVGTransformFromMatrix(k):k}function q(K,k){var V,I;for(K.clear(),V=0;I=k[V];V++)K.appendItem(X(K,I))}function it(K,k){var V=K.transform.baseVal;return k&&(Array.isArray(k)||(k=[k]),q(V,k)),V.consolidate()}},35293:(rt,$,f)=>{f.d($,{A:()=>s});const N={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let d;const _=new Uint8Array(16);function v(){if(!d&&(d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(_)}const E=[];for(let e=0;e<256;++e)E.push((e+256).toString(16).slice(1));function u(e,l=0){return E[e[l+0]]+E[e[l+1]]+E[e[l+2]]+E[e[l+3]]+"-"+E[e[l+4]]+E[e[l+5]]+"-"+E[e[l+6]]+E[e[l+7]]+"-"+E[e[l+8]]+E[e[l+9]]+"-"+E[e[l+10]]+E[e[l+11]]+E[e[l+12]]+E[e[l+13]]+E[e[l+14]]+E[e[l+15]]}function T(e,l=0){const n=u(e,l);if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}const P=null;function m(e,l,n){if(N.randomUUID&&!l&&!e)return N.randomUUID();e=e||{};const o=e.random||(e.rng||v)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,l){n=n||0;for(let i=0;i<16;++i)l[n+i]=o[i];return l}return u(o)}const s=m},73308:(rt,$,f)=>{f.d($,{A:()=>N});function a(d,_,v,E,u,T,P){try{var m=d[T](P),s=m.value}catch(e){v(e);return}m.done?_(s):Promise.resolve(s).then(E,u)}function N(d){return function(){var _=this,v=arguments;return new Promise(function(E,u){var T=d.apply(_,v);function P(s){a(T,E,u,P,m,"next",s)}function m(s){a(T,E,u,P,m,"throw",s)}P(void 0)})}}}}]);
