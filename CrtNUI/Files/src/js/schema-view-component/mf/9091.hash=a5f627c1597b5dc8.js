(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[9091],{32516:(F,E,t)=>{t.d(E,{p:()=>M});var e=t(59131),u=t.n(e),i=t(68712);class M extends i.K{set value(y){this._value!==y&&(this._value=y,this.onValueSetted(y),this.changeDetectorRef.detectChanges())}get value(){return this._value}set config(y){this._config=y,this.changeDetectorRef.detectChanges()}get config(){return this._config}constructor(y){super(y),this.injector=y,this.changeDetectorRef=this.injector.get(e.ChangeDetectorRef),this.valueChange=new e.EventEmitter}onValueSetted(y){}emitValueChange(y){this._value=y,this.valueChange.emit(y)}static{this.\u0275fac=function(s){return new(s||M)(e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:M,inputs:{value:"value",config:"config"},outputs:{valueChange:"valueChange"},features:[e.\u0275\u0275InheritDefinitionFeature]})}}},9708:(F,E,t)=>{t.d(E,{r:()=>g});var e=t(32516),u=t(59131),i=t.n(u),M=t(40297),m=t.n(M),y=t(82519);const s=O=>({"crt-custom-quick-filter-checkbox":!0,"crt-custom-quick-filter-active":O});class g extends e.p{get isActiveState(){return this.value===!0}onCheckBoxValueChanged(l){this.emitValueChange(l)}static{this.\u0275fac=(()=>{let l;return function(C){return(l||(l=u.\u0275\u0275getInheritedFactory(g)))(C||g)}})()}static{this.\u0275cmp=u.\u0275\u0275defineComponent({type:g,selectors:[["crt-custom-quick-filter"]],features:[u.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[1,"crt-custom-quick-filter-container"],["labelPosition","right",3,"valueChange","ngClass","label","value"]],template:function(d,C){d&1&&(u.\u0275\u0275elementStart(0,"div",0)(1,"crt-checkbox",1),u.\u0275\u0275listener("valueChange",function(A){return C.onCheckBoxValueChanged(A)}),u.\u0275\u0275elementEnd()()),d&2&&(u.\u0275\u0275advance(),u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(4,s,C.isActiveState))("label",C.config==null?null:C.config.caption)("value",C.value),u.\u0275\u0275attribute("title",C.config==null?null:C.config.hint))},dependencies:[M.NgClass,y.U],styles:[`.crt-custom-quick-filter-container{min-height:28px;width:100%;display:flex;align-items:center}.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox{width:100%}.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container{min-height:16px;height:16px;padding:0}.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container .crt-checkbox.cdk-keyboard-focused .mat-checkbox-frame{box-shadow:unset}.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container .crt-checkbox.cdk-keyboard-focused .mat-checkbox-frame,.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container .crt-checkbox.cdk-keyboard-focused .mat-checkbox-background{margin:0;border-radius:4px;min-height:12px;height:12px;min-width:12px;width:12px}.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container .mat-checkbox-layout{height:16px;align-items:center}.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container .mat-checkbox-layout .mat-checkbox-inner-container{min-height:12px;height:12px;min-width:12px;width:12px;margin:2px}.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container .mat-checkbox-layout .mat-checkbox-inner-container:before{display:none}.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-frame,.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container .mat-checkbox-layout .mat-checkbox-inner-container .mat-checkbox-background{transform:translateY(-50%);min-height:12px;height:12px;min-width:12px;width:12px}.crt-custom-quick-filter-container crt-checkbox.crt-custom-quick-filter-checkbox .crt-checkbox-container .mat-checkbox-layout .mat-checkbox-label{margin:0;margin-inline-start:4px;max-width:250px}
`],encapsulation:2,changeDetection:0})}}},18331:(F,E,t)=>{t.d(E,{Q:()=>s});var e=t(40297),u=t.n(e),i=t(25063),M=t(9708),m=t(59131),y=t.n(m);class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=m.\u0275\u0275defineNgModule({type:s})}static{this.\u0275inj=m.\u0275\u0275defineInjector({imports:[e.CommonModule,i.D]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&m.\u0275\u0275setNgModuleScope(s,{declarations:[M.r],imports:[e.CommonModule,i.D],exports:[M.r]})})()},47575:(F,E,t)=>{t.d(E,{A:()=>o});var e=t(13053),u=t.n(e),i=t(59131),M=t.n(i),m=t(59445),y=t.n(m),s=t(92011),g=t.n(s),O=t(62278),l=t.n(O),d=t(79111),C=t(52989),D=t.n(C),A=t(76260),I=t(79772),a=t.n(I);class o{constructor(){this._calendar=(0,i.inject)(s.MatCalendar),this._dateAdapter=(0,i.inject)(m.DateAdapter),this._dateFormats=(0,i.inject)(m.MAT_DATE_FORMATS),this._cdr=(0,i.inject)(i.ChangeDetectorRef),this._directionality=(0,i.inject)(e.Directionality),this._destroy$=new O.Subject,this.documentDirection=this._directionality?.value==="rtl"?"rtl":null}get periodLabel(){return this._dateAdapter.format(this._calendar.activeDate||this._dateAdapter.today(),this._dateFormats.display.monthYearA11yLabel).toLocaleUpperCase()}changeDate(r,c){this._calendar.activeDate=r==="month"?this._dateAdapter.addCalendarMonths(this._calendar.activeDate||this._dateAdapter.today(),c):this._dateAdapter.addCalendarYears(this._calendar.activeDate||this._dateAdapter.today(),c)}ngOnInit(){this._calendar.stateChanges.pipe((0,O.takeUntil)(this._destroy$)).subscribe(()=>this._cdr.markForCheck())}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["crt-calendar-header"]],hostVars:1,hostBindings:function(c,_){c&2&&i.\u0275\u0275attribute("dir",_.documentDirection)},decls:7,vars:7,consts:[[1,"crt-calendar-header-wrapper"],["data-item-marker","left-scroll-button","svgIcon","arrow-left",1,"crt-calendar-header-icon-button",3,"click","keydown.enter","keydown.space","crtAccessibleAttributes"],["labelType","headline-4",1,"crt-calendar-header-label"],["data-item-marker","right-scroll-button","svgIcon","arrow-right",1,"crt-calendar-header-icon-button",3,"click","keydown.enter","keydown.space","crtAccessibleAttributes"]],template:function(c,_){c&1&&(i.\u0275\u0275elementStart(0,"div",0)(1,"mat-icon",1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275listener("click",function(){return _.changeDate("month",-1)})("keydown.enter",function(){return _.changeDate("month",-1)})("keydown.space",function(){return _.changeDate("month",-1)}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"crt-label",2),i.\u0275\u0275text(4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"mat-icon",3),i.\u0275\u0275pipe(6,"translate"),i.\u0275\u0275listener("click",function(){return _.changeDate("month",1)})("keydown.enter",function(){return _.changeDate("month",1)})("keydown.space",function(){return _.changeDate("month",1)}),i.\u0275\u0275elementEnd()()),c&2&&(i.\u0275\u0275advance(),i.\u0275\u0275property("crtAccessibleAttributes",i.\u0275\u0275pipeBind1(2,3,"QuickFilter.DateRange.Header.ArrowLeft")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(_.periodLabel),i.\u0275\u0275advance(),i.\u0275\u0275property("crtAccessibleAttributes",i.\u0275\u0275pipeBind1(6,5,"QuickFilter.DateRange.Header.ArrowRight")))},dependencies:[d.V,C.MatIcon,A.X,I.TranslatePipe],styles:["[_nghost-%COMP%]{display:block;margin-bottom:16px}[dir=rtl][_nghost-%COMP%]   .crt-calendar-header-wrapper[_ngcontent-%COMP%]{flex-direction:row-reverse}.crt-calendar-header-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.crt-calendar-header-wrapper[_ngcontent-%COMP%]   .crt-calendar-header-icon-button.mat-icon[_ngcontent-%COMP%]{display:flex;width:16px;height:16px;cursor:pointer}"],changeDetection:0})}}},6067:(F,E,t)=>{t.d(E,{M:()=>m});var e=t(59131),u=t.n(e),i=t(79111);const M=["*"];class m{constructor(){this._elementRef=(0,e.inject)(e.ElementRef),this.tabIndex=-1}focus(){this._elementRef.nativeElement.focus()}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["crt-date-range-macros-list-item"]],hostVars:1,hostBindings:function(g,O){g&2&&e.\u0275\u0275attribute("tabIndex",O.tabIndex)},ngContentSelectors:M,decls:2,vars:0,consts:[["labelType","body-1",1,"crt-macros-range-item"]],template:function(g,O){g&1&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"crt-label",0),e.\u0275\u0275projection(1),e.\u0275\u0275elementEnd())},dependencies:[i.V],styles:["[_nghost-%COMP%]:focus-visible{outline:none}[_nghost-%COMP%]   .crt-macros-range-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;border-radius:4px;padding:8px 16px;width:134px}"],changeDetection:0})}}},41503:(F,E,t)=>{t.d(E,{V:()=>a});var e=t(93277),u=t.n(e),i=t(59131),M=t.n(i),m=t(2448),y=t(6067),s=t(40297),g=t.n(s),O=t(44059),l=t.n(O),d=t(79772),C=t.n(d);function D(o,n){if(o&1){const r=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"crt-date-range-macros-list-item",5),i.\u0275\u0275listener("keydown.enter",function(){const _=i.\u0275\u0275restoreView(r).$implicit,k=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(k.onDateRangeMacrosClick(_))})("keydown.space",function(){const _=i.\u0275\u0275restoreView(r).$implicit,k=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(k.onDateRangeMacrosClick(_))})("keydown.shift.tab",function(_){i.\u0275\u0275restoreView(r);const k=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(k.handleOnItemShiftTabKeydown(_))})("click",function(){const _=i.\u0275\u0275restoreView(r).$implicit,k=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(k.onDateRangeMacrosClick(_))}),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(o&2){const r=n.$implicit,c=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,1,"QuickFilter.DateRange.Macros."+c.getMacrosKey(r))," ")}}function A(o,n){o&1&&(i.\u0275\u0275elementStart(0,"div",6),i.\u0275\u0275element(1,"mat-divider"),i.\u0275\u0275elementEnd())}function I(o,n){if(o&1&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",3),i.\u0275\u0275template(2,D,4,3,"ng-container",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(3,A,2,0,"div",4),i.\u0275\u0275elementContainerEnd()),o&2){const r=n.$implicit,c=n.last;i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",r),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",!c)}}class a{constructor(){this.macrosSelected=new i.EventEmitter,this.itemShiftTabKeydown=new i.EventEmitter,this.tabIndex=0}onKeydown(n){this._keyManager.onKeydown(n)}onFocus(){this._keyManager.setFirstItemActive()}handleOnItemShiftTabKeydown(n){n.preventDefault(),this.itemShiftTabKeydown.emit(n)}onDateRangeMacrosClick(n){this.macrosSelected.emit(n)}getMacrosKey(n){return Object.keys(m.Q)[Object.values(m.Q).indexOf(n)]}ngAfterViewInit(){this._keyManager=new e.FocusKeyManager(this.dateRangeMacrosListItems).withWrap().withHomeAndEnd().withPageUpDown()}static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:a,selectors:[["crt-date-range-macros-list"]],viewQuery:function(r,c){if(r&1&&i.\u0275\u0275viewQuery(y.M,5),r&2){let _;i.\u0275\u0275queryRefresh(_=i.\u0275\u0275loadQuery())&&(c.dateRangeMacrosListItems=_)}},hostVars:1,hostBindings:function(r,c){r&1&&i.\u0275\u0275listener("keydown",function(k){return c.onKeydown(k)})("focus",function(){return c.onFocus()}),r&2&&i.\u0275\u0275attribute("tabIndex",c.tabIndex)},inputs:{macrosGroups:"macrosGroups"},outputs:{macrosSelected:"macrosSelected",itemShiftTabKeydown:"itemShiftTabKeydown"},decls:3,vars:1,consts:[[1,"crt-date-range-macros-list-wrap"],[1,"crt-date-range-macros-list-content"],[4,"ngFor","ngForOf"],[1,"crt-macros-range-group"],["class","crt-macros-range-group-divider",4,"ngIf"],[3,"keydown.enter","keydown.space","keydown.shift.tab","click"],[1,"crt-macros-range-group-divider"]],template:function(r,c){r&1&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1),i.\u0275\u0275template(2,I,4,2,"ng-container",2),i.\u0275\u0275elementEnd()()),r&2&&(i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",c.macrosGroups))},dependencies:[s.NgForOf,s.NgIf,O.MatDivider,y.M,d.TranslatePipe],styles:[".crt-date-range-macros-list-wrap[_ngcontent-%COMP%]{height:100%}.crt-date-range-macros-list-wrap[_ngcontent-%COMP%]   .crt-date-range-macros-list-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden auto;align-items:flex-start;height:100%;padding:8px 0;padding-inline-start:8px}.crt-date-range-macros-list-wrap[_ngcontent-%COMP%]   .crt-date-range-macros-list-content[_ngcontent-%COMP%]   .crt-macros-range-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.crt-date-range-macros-list-wrap[_ngcontent-%COMP%]   .crt-date-range-macros-list-content[_ngcontent-%COMP%]   .crt-macros-range-group-divider[_ngcontent-%COMP%]{height:100%;width:100%;padding:8px 0}"],changeDetection:0})}}},72219:(F,E,t)=>{t.d(E,{d:()=>B});var e=t(59131),u=t.n(e),i=t(56711),M=t.n(i),m=t(92011),y=t.n(m),s=t(28399),g=t.n(s),O=t(60225),l=t(84304),d=t(40297),C=t.n(d),D=t(79111),A=t(16395),I=t.n(A),a=t(52989),o=t.n(a),n=t(76260),r=t(79772),c=t.n(r);const _=["inputStartDate"],k=["inputEndDate"],L=W=>({"crt-date-range-picker-header-control-container":!0,"crt-date-range-picker-header-control-has-focus":W});class B{constructor(){this._valueChangeDebounceTime=100,this._rangeStrategy=(0,e.inject)(m.MAT_DATE_RANGE_SELECTION_STRATEGY),this._dateUtils=(0,e.inject)(l.E),this._dateRangeForm=new i.FormGroup({start:new i.FormControl(""),end:new i.FormControl("")}),this._debounceStartControlValueChange=(0,s.debounce)((R,v,h)=>{this._changeControlValue("start",R,v,h)},this._valueChangeDebounceTime),this._debounceEndControlValueChange=(0,s.debounce)((R,v,h)=>{this._changeControlValue("end",R,v,h)},this._valueChangeDebounceTime),this.activeInput=null,this.focusInputAtInit=null,this.rangeChange=new e.EventEmitter,this.activeDateChanged=new e.EventEmitter}set rangeValue(R){const v=this._dateUtils.formatDate(R.start),h=this._dateUtils.formatDate(R.end);this._dateRangeValue={start:v,end:h},(v||h)&&(this.activeInput=v?"end":"start"),this._initRangeSelectionStrategy(),this._debounceStartControlValueChange(v,!1,!1),this._debounceEndControlValueChange(h,!1,!1)}_getDebounceFnControlValueChange(R){return R==="start"?this._debounceStartControlValueChange:this._debounceEndControlValueChange}_changeControlValue(R,v,h,p){this.getControlByInputType(R).setValue(v,{emitEvent:h}),p&&this._focusOnInputByType(R),h&&(this.activeDateChanged.emit(this._dateUtils.parseDate(v)),this._emitDateRangeChange(R)),this._initRangeSelectionStrategy()}_emitDateRangeChange(R){let v=this._dateUtils.parseDate(this.getControlByInputType("start").value),h=this._dateUtils.parseDate(this.getControlByInputType("end").value);R==="start"&&v&&h&&this._dateUtils.compareDate(v,h)>=1&&(this._debounceEndControlValueChange(null,!1,!1),h=null),R==="end"&&v&&h&&this._dateUtils.compareDate(h,v)<=-1&&(this._debounceStartControlValueChange(null,!1,!1),v=null);const p=new m.DateRange(v,h);this.rangeChange.emit(p)}_focusOnInputByType(R){(R==="start"?this.inputStartDate:this.inputEndDate).nativeElement.focus()}_initRangeSelectionStrategy(){this.activeInput==="start"&&this._isControlValueFilled("start")&&(this._rangeStrategy.selectionMode=O.X.StartDateCorrection),this.activeInput==="start"&&!this._isControlValueFilled("start")&&!this._isControlValueFilled("end")&&(this._rangeStrategy.selectionMode=O.X.Default),this.activeInput==="start"&&!this._isControlValueFilled("start")&&this._isControlValueFilled("end")&&(this._rangeStrategy.selectionMode=O.X.Reverse),this.activeInput==="end"&&this._isControlValueFilled("end")&&(this._rangeStrategy.selectionMode=O.X.EndDateCorrection),this.activeInput==="end"&&!this._isControlValueFilled("start")&&!this._isControlValueFilled("end")&&(this._rangeStrategy.selectionMode=O.X.Reverse),this.activeInput==="end"&&this._isControlValueFilled("start")&&!this._isControlValueFilled("end")&&(this._rangeStrategy.selectionMode=O.X.Default)}_isControlValueFilled(R){return!!this.getControlByInputType(R).value}isDateControlFocused(R){return!!this.activeInput&&this.activeInput===R}onFocusDateInput(R){const v=this.getControlByInputType(R),h=this._dateUtils.parseDate(v.value);this.activeInput=R,this._initRangeSelectionStrategy(),h&&this.activeDateChanged.emit(h)}onBlurDateInput(R){const v=this.getControlByInputType(R),h=this._dateUtils.formatValidDateString(v.value);if(h===this._dateRangeValue[R])return;this._getDebounceFnControlValueChange(R)(h,!0,!1)}onInputKeyDownEnter(R){(R==="start"?this.inputStartDate:this.inputEndDate).nativeElement.blur()}clearRangeInput(R){this._getDebounceFnControlValueChange(R)(null,!0,!0)}getControlByInputType(R){return this._dateRangeForm.get(R)}getInputFocusInitialAttributeValue(R){return R===this.focusInputAtInit?"":null}ngAfterViewInit(){this._initRangeSelectionStrategy()}static{this.\u0275fac=function(v){return new(v||B)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:B,selectors:[["crt-date-range-picker-header"]],viewQuery:function(v,h){if(v&1&&(e.\u0275\u0275viewQuery(_,7,e.ElementRef),e.\u0275\u0275viewQuery(k,7,e.ElementRef)),v&2){let p;e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(h.inputStartDate=p.first),e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(h.inputEndDate=p.first)}},inputs:{focusInputAtInit:"focusInputAtInit",rangeValue:"rangeValue"},outputs:{rangeChange:"rangeChange",activeDateChanged:"activeDateChanged"},decls:16,vars:25,consts:[["inputStartDate",""],["inputEndDate",""],[1,"crt-date-range-picker-header-wrapper"],[3,"ngClass"],["matInput","","tabindex","0","type","text","spellcheck","false","autocomplete","off","data-item-marker","start-date",1,"crt-date-range-picker-header-input",3,"focus","blur","keydown.enter","placeholder","formControl"],["svgIcon","small-close",3,"click","keydown.enter","keydown.space","crtAccessibleAttributes"],["labelType","caption",1,"crt-date-range-picker-header-divider"],["matInput","","tabindex","0","type","text","spellcheck","false","autocomplete","off","data-item-marker","end-date",1,"crt-date-range-picker-header-input",3,"focus","blur","keydown.enter","placeholder","formControl"]],template:function(v,h){if(v&1){const p=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",2)(1,"div",3)(2,"input",4,0),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275listener("focus",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.onFocusDateInput("start"))})("blur",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.onBlurDateInput("start"))})("keydown.enter",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.onInputKeyDownEnter("start"))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-icon",5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.clearRangeInput("start"))})("keydown.enter",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.clearRangeInput("start"))})("keydown.space",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.clearRangeInput("start"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"crt-label",6),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",3)(11,"input",7,1),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275listener("focus",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.onFocusDateInput("end"))})("blur",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.onBlurDateInput("end"))})("keydown.enter",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.onInputKeyDownEnter("end"))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"mat-icon",5),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.clearRangeInput("end"))})("keydown.enter",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.clearRangeInput("end"))})("keydown.space",function(){return e.\u0275\u0275restoreView(p),e.\u0275\u0275resetView(h.clearRangeInput("end"))}),e.\u0275\u0275elementEnd()()()}v&2&&(e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(21,L,h.isDateControlFocused("start"))),e.\u0275\u0275advance(),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(4,11,"QuickFilter.DateRange.SelectDatePlaceholder")),e.\u0275\u0275property("formControl",h.getControlByInputType("start")),e.\u0275\u0275attribute("cdkFocusInitial",h.getInputFocusInitialAttributeValue("start")),e.\u0275\u0275advance(3),e.\u0275\u0275property("crtAccessibleAttributes",e.\u0275\u0275pipeBind1(6,13,"QuickFilter.DateRange.ClearStartDatePlaceholder")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,15,"QuickFilter.DateRange.RangeSeparator")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(23,L,h.isDateControlFocused("end"))),e.\u0275\u0275advance(),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(13,17,"QuickFilter.DateRange.SelectDatePlaceholder")),e.\u0275\u0275property("formControl",h.getControlByInputType("end")),e.\u0275\u0275attribute("cdkFocusInitial",h.getInputFocusInitialAttributeValue("end")),e.\u0275\u0275advance(3),e.\u0275\u0275property("crtAccessibleAttributes",e.\u0275\u0275pipeBind1(15,19,"QuickFilter.DateRange.ClearEndDatePlaceholder")))},dependencies:[d.NgClass,D.V,A.MatInput,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlDirective,a.MatIcon,n.X,r.TranslatePipe],styles:[".crt-date-range-picker-header-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;padding:2px 0}.crt-date-range-picker-header-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-header-control-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:124px;border-bottom-width:1px;border-bottom-style:dashed}.crt-date-range-picker-header-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-header-control-container[_ngcontent-%COMP%]   .crt-date-range-picker-header-input[_ngcontent-%COMP%]{border:none;outline:none;background:none;padding:2px 0;text-overflow:ellipsis;width:100%}.crt-date-range-picker-header-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-header-control-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;width:16px;height:16px;cursor:pointer;margin-inline-start:8px}.crt-date-range-picker-header-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-header-control-container.crt-date-range-picker-header-control-has-focus[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid}.crt-date-range-picker-header-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-header-divider[_ngcontent-%COMP%]{margin:0 16px}"],changeDetection:0})}}},2247:(F,E,t)=>{t.d(E,{i:()=>a});var e=t(59131),u=t(92011),i=t(2448),M=t(29366),m=t(84304),y=t(59445),s=t(60225);class g extends u.DefaultMatCalendarRangeStrategy{constructor(n){super(n),this._matDateAdapter=n,this.selectionMode=s.X.Default}_startDateCorrectionFinished(n,r){return n&&r.end&&this._matDateAdapter.compareDate(n,r.end)>=1?new u.DateRange(n,null):new u.DateRange(n,r.end)}_startDateCorrectionPreview(n,r){let c=null,_=null;return r.end&&n&&(c=n,_=r.end),new u.DateRange(c,_)}_endDateCorrectionFinished(n,r){return r.start&&n&&this._matDateAdapter.compareDate(n,r.start)<=-1?new u.DateRange(n,null):new u.DateRange(r.start,n)}_endDateCorrectionPreview(n,r){let c=null,_=null;return r.start&&n&&(c=r.start,_=n),new u.DateRange(c,_)}_reverseFinished(n,r){return r.end?n&&r.end&&this._matDateAdapter.compareDate(n,r.end)>=1?new u.DateRange(n,null):new u.DateRange(n,r.end):new u.DateRange(r.start,n)}_reversePreview(n,r){let c=null,_=null;return!r.start&&r.end&&n&&(c=n,_=r.end),new u.DateRange(c,_)}_defaultFinished(n,r){return super.selectionFinished(n,r)}_defaultPreview(n,r){return super.createPreview(n,r)}selectionFinished(n,r){switch(this.selectionMode){case s.X.StartDateCorrection:return this._startDateCorrectionFinished(n,r);case s.X.EndDateCorrection:return this._endDateCorrectionFinished(n,r);case s.X.Reverse:return this._reverseFinished(n,r);default:return this._defaultFinished(n,r)}}createPreview(n,r){switch(this.selectionMode){case s.X.StartDateCorrection:return this._startDateCorrectionPreview(n,r);case s.X.EndDateCorrection:return this._endDateCorrectionPreview(n,r);case s.X.Reverse:return this._reversePreview(n,r);default:return this._defaultPreview(n,r)}}static{this.\u0275fac=function(r){return new(r||g)(e.\u0275\u0275inject(y.DateAdapter))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac})}}var O=t(47575),l=t(44059),d=t(31555),C=t(93277),D=t(41503),A=t(72219);function I(o,n){if(o&1){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"crt-date-range-macros-list",3),e.\u0275\u0275listener("itemShiftTabKeydown",function(){e.\u0275\u0275restoreView(r);const _=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.focusActiveCalendarCell())})("macrosSelected",function(_){e.\u0275\u0275restoreView(r);const k=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(k.onMacrosSelected(_))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"mat-divider",4),e.\u0275\u0275elementStart(4,"div",5)(5,"crt-date-range-picker-header",6),e.\u0275\u0275listener("rangeChange",function(_){e.\u0275\u0275restoreView(r);const k=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(k.onRangeChanged(_))})("activeDateChanged",function(_){e.\u0275\u0275restoreView(r);const k=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(k.onHeaderActiveDateChange(_))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"mat-calendar",7),e.\u0275\u0275listener("selectedChange",function(_){e.\u0275\u0275restoreView(r);const k=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(k.onRangeChanged(k.getDateRangeBySelectedCalendarDate(_)))}),e.\u0275\u0275elementEnd()()()()}if(o&2){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("cdkTrapFocusAutoCapture",!0),e.\u0275\u0275advance(),e.\u0275\u0275property("macrosGroups",r.macrosGroups),e.\u0275\u0275advance(),e.\u0275\u0275property("vertical",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("rangeValue",r.selectedDateRangeValue)("focusInputAtInit",r.focusedInputAtStart),e.\u0275\u0275advance(),e.\u0275\u0275property("headerComponent",r.calendarHeader)("selected",r.selectedDateRangeValue)("startAt",r.selectedDateRangeValue.start)}}class a{constructor(){this._cdr=(0,e.inject)(e.ChangeDetectorRef),this._rangeStrategy=(0,e.inject)(u.MAT_DATE_RANGE_SELECTION_STRATEGY),this._dateRangeMacrosUtils=(0,e.inject)(M.C),this._dateUitls=(0,e.inject)(m.E),this._isOpen=!1,this._currentDateRange=null,this.focusedInputAtStart="start",this.calendarHeader=O.A,this.macrosGroups=[[i.Q.Yesterday,i.Q.Today,i.Q.Tomorrow],[i.Q.PreviousWeek,i.Q.CurrentWeek,i.Q.NextWeek],[i.Q.PreviousMonth,i.Q.CurrentMonth,i.Q.NextMonth],[i.Q.PreviousQuarter,i.Q.CurrentQuarter,i.Q.NextQuarter]],this.selectedDateRangeValue=new u.DateRange(null,null),this.rangeChanged=new e.EventEmitter}set selectedDateRange(n){n||(n=new u.DateRange(null,null)),this._currentDateRange!==n&&(this._currentDateRange=n,this.selectedDateRangeValue=this._dateRangeMacrosUtils.isDateRangeMacros(n)?this._dateRangeMacrosUtils.getDateRangeByMacros(n):n)}set isOpen(n){this._isOpen=n,this._cdr.detectChanges()}get isOpen(){return this._isOpen}_isDateRangeCurrentValueEquals(n,r){const c=(this._currentDateRange||new u.DateRange(null,null))[n],_=r[n];return!c&&!_?!0:!c||!_?!1:this._dateUitls.compareDate(c,_)===0}_setCalendarActiveDateByMacros(n){this.matCalendar&&(this.matCalendar.activeDate=this._isQuarterMacros(n)?this.selectedDateRangeValue.start:this.selectedDateRangeValue.end)}_isQuarterMacros(n){return n===i.Q.PreviousQuarter||n===i.Q.CurrentQuarter||n===i.Q.NextQuarter}getDateRangeBySelectedCalendarDate(n){return this._rangeStrategy.selectionFinished(n,this.selectedDateRangeValue)}openPickerWithFocusOnInput(n){this.focusedInputAtStart=n,this.isOpen=!0,this.matCalendar.activeDate=this.selectedDateRangeValue[n]}onHeaderActiveDateChange(n){this.matCalendar&&(this.matCalendar.activeDate=n)}onRangeChanged(n){this._isDateRangeCurrentValueEquals("start",n)&&this._isDateRangeCurrentValueEquals("end",n)||(this.selectedDateRange=n,this.rangeChanged.emit(n))}onMacrosSelected(n){if(this._currentDateRange===n){this._setCalendarActiveDateByMacros(n);return}this.selectedDateRange=n,this._setCalendarActiveDateByMacros(n),this.rangeChanged.emit(n)}focusActiveCalendarCell(){this.calendarElementRef.nativeElement.querySelector(".mat-calendar-body-active")?.focus()}static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["crt-date-range-picker"]],viewQuery:function(r,c){if(r&1&&(e.\u0275\u0275viewQuery(u.MatCalendar,5),e.\u0275\u0275viewQuery(u.MatCalendar,5,e.ElementRef)),r&2){let _;e.\u0275\u0275queryRefresh(_=e.\u0275\u0275loadQuery())&&(c.matCalendar=_.first),e.\u0275\u0275queryRefresh(_=e.\u0275\u0275loadQuery())&&(c.calendarElementRef=_.first)}},inputs:{origin:"origin",selectedDateRange:"selectedDateRange"},outputs:{rangeChanged:"rangeChanged"},features:[e.\u0275\u0275ProvidersFeature([{provide:u.MAT_DATE_RANGE_SELECTION_STRATEGY,useClass:g}])],decls:1,vars:3,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","overlayKeydown","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayDisableClose"],[1,"crt-date-range-picker-content"],["cdkTrapFocus","",1,"crt-date-range-picker-calendar-wrapper",3,"cdkTrapFocusAutoCapture"],[3,"itemShiftTabKeydown","macrosSelected","macrosGroups"],[3,"vertical"],[1,"crt-date-range-picker-calendar-content"],[3,"rangeChange","activeDateChanged","rangeValue","focusInputAtInit"],[3,"selectedChange","headerComponent","selected","startAt"]],template:function(r,c){r&1&&(e.\u0275\u0275template(0,I,7,8,"ng-template",0),e.\u0275\u0275listener("backdropClick",function(){return c.isOpen=!1})("overlayKeydown",function(k){return k.keyCode===27?c.isOpen=!1:null})),r&2&&e.\u0275\u0275property("cdkConnectedOverlayOrigin",c.origin)("cdkConnectedOverlayOpen",c.isOpen)("cdkConnectedOverlayDisableClose",!1)},dependencies:[u.MatCalendar,l.MatDivider,d.CdkConnectedOverlay,C.CdkTrapFocus,D.V,A.d],styles:[".crt-date-range-picker-content[_ngcontent-%COMP%]{--calendar-cell-radius: 5px;border-width:1px;border-style:solid;border-radius:8px;padding:16px 8px}.crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:370px}.crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-inline-end:8px}.crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px 8px 0;gap:32px}.crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr:not([role=row]) .mat-calendar-body-label{display:none}.crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td.mat-calendar-body-label{color:transparent}.crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-cell-content{border-radius:var(--calendar-cell-radius)}.crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range):before, .crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-range-start:after, .crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start):before, .crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-comparison-start:after, .crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-top-left-radius:var(--calendar-cell-radius);border-bottom-left-radius:var(--calendar-cell-radius)}.crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range):before, .crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-range-end:after, .crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end):before, .crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-comparison-end:after, .crt-date-range-picker-content[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-wrapper[_ngcontent-%COMP%]   .crt-date-range-picker-calendar-content[_ngcontent-%COMP%]   .mat-calendar[_ngcontent-%COMP%]     .mat-calendar-content .mat-calendar-body tr[role=row] td[role=gridcell].mat-calendar-body-cell-container .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-top-right-radius:var(--calendar-cell-radius);border-bottom-right-radius:var(--calendar-cell-radius)}"],changeDetection:0})}}},2448:(F,E,t)=>{t.d(E,{Q:()=>e});var e;(function(u){u.Yesterday="[#yesterday#]",u.Today="[#today#]",u.Tomorrow="[#tomorrow#]",u.PreviousWeek="[#previousWeek#]",u.CurrentWeek="[#currentWeek#]",u.NextWeek="[#nextWeek#]",u.PreviousMonth="[#previousMonth#]",u.CurrentMonth="[#currentMonth#]",u.NextMonth="[#nextMonth#]",u.PreviousQuarter="[#previousQuarter#]",u.CurrentQuarter="[#currentQuarter#]",u.NextQuarter="[#nextQuarter#]"})(e||(e={}))},60225:(F,E,t)=>{t.d(E,{X:()=>e});var e;(function(u){u.Default="Default",u.Reverse="Reverse",u.StartDateCorrection="StartDateCorrection",u.EndDateCorrection="EndDateCorrection"})(e||(e={}))},71514:(F,E,t)=>{t.d(E,{j:()=>m});var e=t(59131),u=t.n(e),i=t(29366),M=t(17836);class m{constructor(){this._dateRangeMacrosUtils=(0,e.inject)(i.C)}convert(s){const g=this._dateRangeMacrosUtils.getDateRangeByMacros(s);return{...(0,M.K)(g),macros:s}}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac})}}},29366:(F,E,t)=>{t.d(E,{C:()=>g});var e=t(59131),u=t.n(e),i=t(59445),M=t.n(i),m=t(92011),y=t.n(m),s=t(2448);class g{constructor(){this._dateAdapter=(0,e.inject)(i.DateAdapter),this._today=this._dateAdapter.today()}_getDayDateRange(l){const d=this._dateAdapter.addCalendarDays(this._today,l);return new m.DateRange(d,d)}_getWeekDateRange(l){const d=this._dateAdapter.addCalendarDays(this._today,l*7),C=this._getDeltaStartOfWeek(d),D=this._dateAdapter.addCalendarDays(d,C),A=this._dateAdapter.addCalendarDays(D,6);return new m.DateRange(D,A)}_getDeltaStartOfWeek(l){const d=this._dateAdapter.getFirstDayOfWeek(),C=this._dateAdapter.getDayOfWeek(l);let D=d-C;return D>0&&(D-=7),D}_getMonthDateRange(l){const d=this._dateAdapter.addCalendarMonths(this._today,l),C=this._dateAdapter.createDate(this._dateAdapter.getYear(d),this._dateAdapter.getMonth(d),1),D=this._dateAdapter.createDate(this._dateAdapter.getYear(d),this._dateAdapter.getMonth(d),this._dateAdapter.getNumDaysInMonth(d));return new m.DateRange(C,D)}_getQuarterDateRange(l){const d=this._getQuarterStartDate(l),C=this._getQuarterEndDate(d);return new m.DateRange(d,C)}_getQuarterStartDate(l){const d=Math.floor(this._dateAdapter.getMonth(this._today)/3)*3,C=this._dateAdapter.createDate(this._dateAdapter.getYear(this._today),d,1);return l===0?C:this._dateAdapter.addCalendarMonths(C,l*3)}_getQuarterEndDate(l){const d=this._dateAdapter.addCalendarMonths(l,2);return this._dateAdapter.createDate(this._dateAdapter.getYear(d),this._dateAdapter.getMonth(d),this._dateAdapter.getNumDaysInMonth(d))}isDateRangeMacros(l){return typeof l=="string"}getDateRangeByMacros(l){switch(l){case s.Q.Yesterday:return this._getDayDateRange(-1);case s.Q.Today:return this._getDayDateRange(0);case s.Q.Tomorrow:return this._getDayDateRange(1);case s.Q.PreviousWeek:return this._getWeekDateRange(-1);case s.Q.CurrentWeek:return this._getWeekDateRange(0);case s.Q.NextWeek:return this._getWeekDateRange(1);case s.Q.PreviousMonth:return this._getMonthDateRange(-1);case s.Q.CurrentMonth:return this._getMonthDateRange(0);case s.Q.NextMonth:return this._getMonthDateRange(1);case s.Q.PreviousQuarter:return this._getQuarterDateRange(-1);case s.Q.CurrentQuarter:return this._getQuarterDateRange(0);case s.Q.NextQuarter:return this._getQuarterDateRange(1);default:return new m.DateRange(null,null)}}static{this.\u0275fac=function(d){return new(d||g)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac})}}},84304:(F,E,t)=>{t.d(E,{E:()=>m});var e=t(59131),u=t.n(e),i=t(59445),M=t.n(i);class m{constructor(){this._matDateFormats=(0,e.inject)(i.MAT_DATE_FORMATS),this._dateAdapter=(0,e.inject)(i.DateAdapter)}formatDate(s){return s?this._dateAdapter.format(s,this._matDateFormats.display.dateInput):null}formatValidDateString(s){const g=this.formatDate(this.parseDate(s));return g||s}parseDate(s){return this._dateAdapter.getValidDateOrNull(this._dateAdapter.parse(s,this._matDateFormats.parse.dateInput))}compareDate(s,g){return this._dateAdapter.compareDate(s,g)}isDateObject(s){return!!this._dateAdapter.getValidDateOrNull(s)}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}},23336:(F,E,t)=>{t.d(E,{t:()=>x});var e=t(59131),u=t.n(e),i=t(59445),M=t.n(i),m=t(92011),y=t.n(m),s=t(79772),g=t.n(s),O=t(11475),l=t(23092),d=t(92074),C=t(28399),D=t.n(C),A=t(30046),I=t.n(A),a=t(84304),o=t(29366),n=t(2247),r=t(17836),c=t(32516),_=t(40297),k=t.n(_),L=t(52989),B=t.n(L),W=t(79111),R=t(76260);const v=(S,P,T)=>({"crt-date-range-quick-filter-reverse-container":S,"crt-date-range-quick-filter-active":P,"crt-date-range-quick-filter-opened":T});function h(S,P){if(S&1){const T=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-icon",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(T);const U=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(U.openPickerWithFocus("start"))}),e.\u0275\u0275elementEnd()}if(S&2){const T=e.\u0275\u0275nextContext();e.\u0275\u0275property("svgIcon",T.config==null?null:T.config.icon),e.\u0275\u0275attribute("title",T.config==null?null:T.config.hint)}}function p(S,P){if(S&1){const T=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"div",13)(2,"crt-label",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(T);const U=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(U.openPickerWithFocus("start"))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"crt-label",15),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"crt-label",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(T);const U=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(U.openPickerWithFocus("end"))}),e.\u0275\u0275elementEnd()()()}if(S&2){const T=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",T.getDateRangeLabelByType("start")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,3,"QuickFilter.DateRange.RangeSeparator")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",T.getDateRangeLabelByType("end"))}}function f(S,P){if(S&1){const T=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-label",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(T);const U=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(U.openPickerWithFocus("start"))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(S&2){const T=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("title",T.config==null?null:T.config.hint),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",T.config==null?null:T.config.caption," ")}}function b(S,P){if(S&1){const T=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-icon",18),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(T);const U=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(U.clearDateRange())})("keydown.enter",function(){e.\u0275\u0275restoreView(T);const U=e.\u0275\u0275nextContext(),w=e.\u0275\u0275reference(3);return e.\u0275\u0275resetView(U.onClearKeydown(w))})("keydown.space",function(){e.\u0275\u0275restoreView(T);const U=e.\u0275\u0275nextContext(),w=e.\u0275\u0275reference(3);return e.\u0275\u0275resetView(U.onClearKeydown(w))}),e.\u0275\u0275elementEnd()}S&2&&e.\u0275\u0275property("crtAccessibleAttributes",e.\u0275\u0275pipeBind1(1,1,"QuickFilter.DateRange.ClearIcon"))}class x extends c.p{constructor(){super(...arguments),this._translateService=(0,e.inject)(s.TranslateService),this._dateUtils=(0,e.inject)(a.E),this._changeDetectorRef=(0,e.inject)(e.ChangeDetectorRef),this.dateRangeMacrosUtils=(0,e.inject)(o.C),this.dateRangeValue=null}set value(P){super.value=(0,C.isEmpty)(P)?void 0:P}get value(){return super.value}get isActiveState(){return this.dateRangeMacrosUtils.isDateRangeMacros(this.value)?!(0,C.isEmpty)(this.value):!!this.value?.start&&!!this.value?.end}_getFormatedDate(P){return P&&P.isValid()?this._dateUtils.formatDate(P):null}_getDateRangeTypeValue(P){return this.dateRangeValue?this.dateRangeValue[P]:null}_getTranslateForEmptyDateRange(P,T=!1){const V=P.charAt(0).toUpperCase()+P.slice(1);return T?this._translateService.instant(`QuickFilter.DateRange.EmptyDateRange${V}AriaLabel`):this._translateService.instant(`QuickFilter.DateRange.EmptyDateRange${V}Label`)}_convertPickerValueToQuickFilterValue(P){if(this.dateRangeMacrosUtils.isDateRangeMacros(P)){const T=this.dateRangeMacrosUtils.getDateRangeByMacros(P);return{...(0,r.K)(T),macros:P}}return!P.start&&!P.end?null:(0,r.K)(P)}_convertQuickFilterValueToPickerValue(P){if(!P)return null;const T=this.dateRangeMacrosUtils.isDateRangeMacros(P)?P:P.macros;T&&(P=this._convertPickerValueToQuickFilterValue(T));const V=I()(P.start),U=I()(P.end);return new m.DateRange(this._getValidMomentDate(V),this._getValidMomentDate(U))}_getValidMomentDate(P){return P&&P.isValid()?P:null}_convertMacrosToPickerValueIfNeed(P){return this.dateRangeMacrosUtils.isDateRangeMacros(P)?this._convertQuickFilterValueToPickerValue(P):!P.start&&!P.end?null:P}_getDateRangeFilterSelectedLabelText(){return[this._translateService.instant("QuickFilter.DateRange.RangeSelectedFrom"),this.getDateRangeLabelByType("start",!0),this._translateService.instant("QuickFilter.DateRange.RangeSeparator"),this.getDateRangeLabelByType("end",!0)].join(" ")}onValueSetted(P){this.dateRangeValue=this._convertQuickFilterValueToPickerValue(P)}getDateRangeLabelByType(P,T=!1){const V=this._getDateRangeTypeValue(P);return this._getFormatedDate(V)||this._getTranslateForEmptyDateRange(P,T)}getDateRangeFilterAriaLabel(){return this.config?.caption+(this.dateRangeValue?". "+this._getDateRangeFilterSelectedLabelText():"")}openPickerWithFocus(P){this.picker.selectedDateRange=this.dateRangeValue,this.picker.openPickerWithFocusOnInput(P)}onDateRangeChange(P){this.dateRangeValue=this._convertMacrosToPickerValueIfNeed(P),this.emitValueChange(this._convertPickerValueToQuickFilterValue(P))}clearDateRange(){this.dateRangeValue=null,this.emitValueChange(null)}onClearKeydown(P){this.clearDateRange(),P.focus()}static{this.\u0275fac=(()=>{let P;return function(V){return(P||(P=e.\u0275\u0275getInheritedFactory(x)))(V||x)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:x,selectors:[["crt-date-range-quick-filter"]],viewQuery:function(T,V){if(T&1&&e.\u0275\u0275viewQuery(n.i,5),T&2){let U;e.\u0275\u0275queryRefresh(U=e.\u0275\u0275loadQuery())&&(V.picker=U.first)}},inputs:{value:"value"},features:[e.\u0275\u0275ProvidersFeature([o.C,a.E,{provide:i.MAT_DATE_LOCALE,useFactory:O.L,deps:[l.oq]},{provide:i.MAT_DATE_FORMATS,useFactory:d.F},{provide:i.DateAdapter,useClass:d.j}]),e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:13,consts:[["pickerOrigin",""],["focusableContainer",""],["picker",""],[1,"crt-date-range-quick-filter-wrapper",3,"ngClass"],["tabindex","0","role","application",1,"crt-date-range-quick-focusable-container",3,"keydown.enter","keydown.space","crtAccessibleAttributes","title"],["class","crt-date-range-filter-icon",3,"svgIcon","click",4,"ngIf"],[1,"crt-date-range-caption-container"],["class","crt-date-range-selected-caption-container",4,"ngIf"],["class","crt-date-range-empty-caption crt-date-range-active-caption","labelType","caption","labelEllipsis","true",3,"click",4,"ngIf"],["svgIcon","small-close","class","crt-date-range-clear-icon",3,"crtAccessibleAttributes","click","keydown.enter","keydown.space",4,"ngIf"],[3,"rangeChanged","selectedDateRange","origin"],[1,"crt-date-range-filter-icon",3,"click","svgIcon"],[1,"crt-date-range-selected-caption-container"],[1,"crt-date-range-interval-container"],["labelType","caption","data-qa","start-value",1,"crt-date-range-caption","crt-date-range-active-caption",3,"click","caption"],["labelType","caption",1,"crt-date-range-interval-separator"],["labelType","caption","data-qa","end-value",1,"crt-date-range-caption",3,"click","caption"],["labelType","caption","labelEllipsis","true",1,"crt-date-range-empty-caption","crt-date-range-active-caption",3,"click"],["svgIcon","small-close",1,"crt-date-range-clear-icon",3,"click","keydown.enter","keydown.space","crtAccessibleAttributes"]],template:function(T,V){if(T&1){const U=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3,0)(2,"div",4,1),e.\u0275\u0275listener("keydown.enter",function(){return e.\u0275\u0275restoreView(U),e.\u0275\u0275resetView(V.openPickerWithFocus("start"))})("keydown.space",function(){return e.\u0275\u0275restoreView(U),e.\u0275\u0275resetView(V.openPickerWithFocus("start"))}),e.\u0275\u0275template(4,h,1,2,"mat-icon",5),e.\u0275\u0275elementStart(5,"div",6),e.\u0275\u0275template(6,p,7,5,"div",7)(7,f,2,2,"crt-label",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(8,b,2,3,"mat-icon",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"crt-date-range-picker",10,2),e.\u0275\u0275listener("rangeChanged",function(H){return e.\u0275\u0275restoreView(U),e.\u0275\u0275resetView(V.onDateRangeChange(H))}),e.\u0275\u0275elementEnd()}if(T&2){const U=e.\u0275\u0275reference(1),w=e.\u0275\u0275reference(10);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction3(9,v,(V.config==null?null:V.config.iconPosition)==="right-icon",V.isActiveState,w.isOpen)),e.\u0275\u0275advance(2),e.\u0275\u0275property("crtAccessibleAttributes",V.getDateRangeFilterAriaLabel())("title",""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",V.config==null?null:V.config.icon),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",V.dateRangeValue),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!V.dateRangeValue&&(V.config==null?null:V.config.iconPosition)!=="only-icon"),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",V.dateRangeValue),e.\u0275\u0275advance(),e.\u0275\u0275property("selectedDateRange",V.dateRangeValue)("origin",U)}},dependencies:[n.i,_.NgClass,_.NgIf,L.MatIcon,W.V,R.X,s.TranslatePipe],styles:["[_nghost-%COMP%]{--icons-size: 16px}[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;width:var(--icons-size);height:var(--icons-size);min-width:var(--icons-size);min-height:var(--icons-size);cursor:pointer}[_nghost-%COMP%]   .crt-date-range-active-caption[_ngcontent-%COMP%]{padding-inline-start:3px}[_nghost-%COMP%]   .crt-date-range-quick-filter-wrapper[_ngcontent-%COMP%]{min-height:28px;display:flex;align-items:center}[_nghost-%COMP%]   .crt-date-range-quick-filter-wrapper[_ngcontent-%COMP%]   .crt-date-range-quick-focusable-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-date-range-quick-filter-wrapper[_ngcontent-%COMP%]   crt-label.crt-date-range-caption[_ngcontent-%COMP%]     label, [_nghost-%COMP%]   .crt-date-range-quick-filter-wrapper[_ngcontent-%COMP%]   crt-label.crt-date-range-empty-caption[_ngcontent-%COMP%]     label{cursor:pointer}[_nghost-%COMP%]   .crt-date-range-quick-filter-wrapper[_ngcontent-%COMP%]   .crt-date-range-clear-icon[_ngcontent-%COMP%]{margin-inline-start:3px}[_nghost-%COMP%]   .crt-date-range-quick-filter-wrapper[_ngcontent-%COMP%]   .crt-date-range-caption-container[_ngcontent-%COMP%]{max-width:250px}[_nghost-%COMP%]   .crt-date-range-quick-filter-wrapper[_ngcontent-%COMP%]   .crt-date-range-caption-container[_ngcontent-%COMP%]   .crt-date-range-selected-caption-container[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .crt-date-range-quick-filter-wrapper[_ngcontent-%COMP%]   .crt-date-range-caption-container[_ngcontent-%COMP%]   .crt-date-range-selected-caption-container[_ngcontent-%COMP%]   .crt-date-range-interval-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-date-range-quick-filter-wrapper[_ngcontent-%COMP%]   .crt-date-range-caption-container[_ngcontent-%COMP%]   .crt-date-range-selected-caption-container[_ngcontent-%COMP%]   .crt-date-range-interval-container[_ngcontent-%COMP%]   .crt-date-range-interval-separator[_ngcontent-%COMP%]{padding:0 4px}[_nghost-%COMP%]   .crt-date-range-quick-filter-reverse-container[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:flex-end}[_nghost-%COMP%]   .crt-date-range-quick-filter-reverse-container[_ngcontent-%COMP%]   .crt-date-range-active-caption[_ngcontent-%COMP%]{padding-inline-start:unset;padding-inline-end:3px}"],changeDetection:0})}}},45048:(F,E,t)=>{t.d(E,{G:()=>_});var e=t(40297),u=t(52989),i=t(79772),M=t(76260),m=t(24091),y=t(93277),s=t(31555),g=t(56711),O=t(92011),l=t(44059),d=t(16395),C=t(42828),D=t(41503),A=t(2247),I=t(72219),a=t(47575),o=t(6067),n=t(59131);class r{static{this.\u0275fac=function(B){return new(B||r)}}static{this.\u0275mod=n.\u0275\u0275defineNgModule({type:r})}static{this.\u0275inj=n.\u0275\u0275defineInjector({imports:[e.CommonModule,m.S,O.MatDatepickerModule,l.MatDividerModule,C.MatMomentDateModule,d.MatInputModule,s.OverlayModule,g.ReactiveFormsModule,i.TranslateModule,u.MatIconModule,y.A11yModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&n.\u0275\u0275setNgModuleScope(r,{declarations:[D.V,A.i,I.d,a.A,o.M],imports:[e.CommonModule,m.S,O.MatDatepickerModule,l.MatDividerModule,C.MatMomentDateModule,d.MatInputModule,s.OverlayModule,g.ReactiveFormsModule,i.TranslateModule,u.MatIconModule,y.A11yModule,M.X],exports:[A.i]})})();var c=t(23336);class _{static{this.\u0275fac=function(B){return new(B||_)}}static{this.\u0275mod=n.\u0275\u0275defineNgModule({type:_})}static{this.\u0275inj=n.\u0275\u0275defineInjector({imports:[r,e.CommonModule,u.MatIconModule,m.S,i.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&n.\u0275\u0275setNgModuleScope(_,{declarations:[c.t],imports:[r,e.CommonModule,u.MatIconModule,m.S,i.TranslateModule,M.X],exports:[c.t]})})()},17836:(F,E,t)=>{t.d(E,{K:()=>u});const e="YYYY-MM-DDTHH:mm:ss.SSS";function u(i){const M=i.start?new Date(i.start.startOf("day").locale("en").format(e)):null,m=i.end?new Date(i.end.endOf("day").locale("en").format(e)):null;return{start:M,end:m}}},28986:(F,E,t)=>{t.d(E,{k:()=>e});var e;(function(u){u.CurrentUserContact="[#currentUserContact#]",u.CurrentUserAccount="[#currentUserAccount#]"})(e||(e={}))},99668:(F,E,t)=>{t.d(E,{M:()=>v});var e=t(59131),u=t.n(e),i=t(79772),M=t.n(i),m=t(95211),y=t(73864),s=t(54653),g=t(28399),O=t.n(g),l=t(62278),d=t.n(l),C=t(32516),D=t(40297),A=t.n(D),I=t(30491),a=t(62115),o=t(43851),n=t(4227);const r=(h,p)=>({"crt-lookup-quick-filter-menu-trigger":!0,"crt-lookup-quick-filter-menu-opened":h,"crt-lookup-quick-filter-reverse-container":p}),c=h=>({"crt-lookup-quick-filter-window-button-wrap":!0,"crt-lookup-quick-filter-window-button-wrap-hidden":h}),_=h=>({"crt-lookup-quick-filter-button":!0,"crt-lookup-quick-filter-active-button":h});function k(h,p){if(h&1){const f=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",2)(2,"crt-button",5),e.\u0275\u0275listener("onMenuOpen",function(){e.\u0275\u0275restoreView(f);const x=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(x.onMenuOpened())})("onMenuClose",function(){e.\u0275\u0275restoreView(f);const x=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(x.onMenuClosed())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"crt-menu",6,1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(h&2){const f=e.\u0275\u0275reference(4),b=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(9,c,b.isWindowButtonHidden)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,_,b.isActiveState))("caption",b.config==null?null:b.config.caption)("title",(b.config==null?null:b.config.hint)||(b.config==null?null:b.config.caption))("icon",b.config==null?null:b.config.icon)("iconPosition",b.buttonIconPosition)("crtMenuTriggerFor",f)("tabIndex",b.isWindowButtonHidden?-1:0),e.\u0275\u0275advance(),e.\u0275\u0275property("items",b.lookupQuickFilterMenuItems)}}function L(h,p){if(h&1){const f=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",9),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(f);const x=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(x.openOverlay())}),e.\u0275\u0275elementEnd()}if(h&2){const f=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,_,f.isActiveState))("caption",f.config==null?null:f.config.caption)("title",(f.config==null?null:f.config.hint)||(f.config==null?null:f.config.caption))("icon",f.config==null?null:f.config.icon)("iconPosition",f.buttonIconPosition)}}function B(h,p){if(h&1){const f=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275elementContainerStart(1,11),e.\u0275\u0275listener("viewElementShow",function(x){e.\u0275\u0275restoreView(f);const S=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(S.onComboboxViewElementShow(x))}),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()}if(h&2){const f=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275property("crtViewElement",f.config.comboboxViewElementConfig)}}function W(h,p){if(h&1&&e.\u0275\u0275template(0,L,1,7,"crt-button",7)(1,B,2,1,"div",8),h&2){const f=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",f.isShowButton),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",f.config==null?null:f.config.comboboxViewElementConfig)}}function R(h,p){if(h&1){const f=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12)(1,"crt-chip-list",13),e.\u0275\u0275listener("itemClick",function(){e.\u0275\u0275restoreView(f);const x=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(x.openOverlay())})("itemRemove",function(x){e.\u0275\u0275restoreView(f);const S=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(S.onRemoveChipClick(x))}),e.\u0275\u0275elementEnd()()}if(h&2){const f=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("items",f.chips)("wrap",!1)("ariaLabel",f.config==null?null:f.config.caption)}}class v extends C.p{constructor(){super(...arguments),this._comboboxOpenPanelDebounceTime=50,this._translateService=(0,e.inject)(i.TranslateService),this._noDataMenuItem={type:"crt.Label",caption:this._translateService.instant("QuickFilter.Lookup.NoData"),labelTextAlign:"center",labelType:"placeholder"},this._subscription=new l.Subscription,this._valueMenuItems=[],this._debounceComboboxOpenPanel=(0,g.debounce)(()=>{this._comboboxComponent.autocomplete.autoCompleteTrigger.openPanel(),this._comboboxComponent.autocomplete.focus()},this._comboboxOpenPanelDebounceTime)}get _iconPosition(){return this.config?.iconPosition||m.q.LeftIcon}get hasCheckedValues(){return!!this.checkedValueItems.length}get checkedValueItems(){return this.value?.filter(p=>p.checkedState)??[]}get chips(){return this.checkedValueItems.map(p=>({caption:p.displayValue,value:p.value}))}get lookupQuickFilterMenuItems(){return(0,g.isEmpty)(this._valueMenuItems)?[this._noDataMenuItem]:this._valueMenuItems}get isRightIconPosition(){return this._iconPosition===m.q.RightIcon}get isWindowButtonHidden(){return!this.config?.icon&&this.hasCheckedValues}get isShowButton(){return!this.isOverlayOpened&&!this.hasCheckedValues?this._isNotEmptyValue(this.config?.icon)||this._isNotEmptyValue(this.config?.caption):this._isNotEmptyValue(this.config?.icon)}get isActiveState(){return this.value?.some(p=>p.checkedState)||!1}get buttonIconPosition(){return this.config?.showRecordsInWindows?this.hasCheckedValues?m.q.OnlyIcon:this._iconPosition:!this.isOverlayOpened&&!this.hasCheckedValues?this._iconPosition:m.q.OnlyIcon}_convertValueItemsToMenuItems(p){return p?.map(f=>({type:"crt.LookupQuickFilterMenuItem",checkedStateChange:b=>this._checkLookupFilterItemHandler(b),dataItemMarker:f.displayValue,...f}))||[]}_checkLookupFilterItemHandler(p){const f=(0,g.cloneDeep)(this.value),b=this._valueMenuItems.find(S=>S.value===p.value),x=f.find(S=>S.value===p.value);b.checkedState=p.checkedState,x.checkedState=p.checkedState,this.emitValueChange(f)}_removeValueItem(p){const f=(0,g.cloneDeep)(this.value);this._removeItemFromArrayByValue(f,p),this._removeItemFromArrayByValue(this._valueMenuItems,p),this.emitValueChange(f)}_removeItemFromArrayByValue(p,f){const b=p.findIndex(x=>x.value===f);b>=0&&p.splice(b,1)}_uncheckAllValueMenuItemsForMenu(){const p=(0,g.cloneDeep)(this.value);p.forEach(f=>f.checkedState=!1),this._valueMenuItems.forEach(f=>f.checkedState=!1),this.emitValueChange(p)}_openComboboxPanel(){if(this.isOverlayOpened||!this._comboboxComponent)return;this.isOverlayOpened=!0,this.changeDetectorRef.detectChanges();const p=this._createComboboxValue();this._setComboboxValueSilently(p),this._debounceComboboxOpenPanel()}_createComboboxValue(){return this.value?.filter(p=>p.checkedState).map(p=>({value:p.value,displayValue:p.displayValue}))||[]}_setComboboxValueSilently(p){this._comboboxComponent.control.setValue(p,{emitEvent:!1})}_subscribeOnComboboxComponentEvents(){this._subscription.add(this._comboboxComponent.autocomplete.hasFocusChanged.subscribe(p=>{this.isOverlayOpened=p,this.detectChanges()})),this._subscription.add(this._comboboxComponent.control.valueChanges.subscribe(p=>this._onComboboxValueChange(p)))}_onComboboxValueChange(p){y.l.isLookupValuesArray(p)&&this._emitValueChangeFromComboboxIfNeed(p)}_emitValueChangeFromComboboxIfNeed(p){const f=this._getSynchronizedValueByComboboxValue(p);JSON.stringify(f)!==JSON.stringify(this.value)&&this.emitValueChange(f)}_getSynchronizedValueByComboboxValue(p){const f=[],b=this.value||[];return p.forEach(x=>{let S=x;const P=b.find(T=>T.value===x.value);P&&(S={...P,...x}),f.push({...S,checkedState:!0})}),f}_isNotEmptyValue(p){return!(0,g.isEmpty)(p||"")}onValueSetted(p){if(this.config?.showRecordsInWindows){this._valueMenuItems=this._convertValueItemsToMenuItems(p);return}this._comboboxComponent&&(this._comboboxComponent.value=this._createComboboxValue())}onRemoveChipClick(p){this._comboboxComponent?.autocomplete.autoCompleteTrigger.closePanel(),this._removeValueItem(p.value)}uncheckAllValueMenuItems(){if(this.config?.showRecordsInWindows){this._uncheckAllValueMenuItemsForMenu();return}this._comboboxComponent.value=[]}onMenuClosed(){this.isOverlayOpened=!1}onMenuOpened(){this.isOverlayOpened=!0}openOverlay(){this.config?.showRecordsInWindows?this.menuTrigger.openMenu():this._openComboboxPanel()}onComboboxViewElementShow(p){this._comboboxComponent=p.componentRef.instance,this._comboboxComponent.value=this.value?.filter(f=>f.checkedState)||[],this._subscribeOnComboboxComponentEvents()}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=(()=>{let p;return function(b){return(p||(p=e.\u0275\u0275getInheritedFactory(v)))(b||v)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["crt-lookup-quick-filter"]],viewQuery:function(f,b){if(f&1&&e.\u0275\u0275viewQuery(s.O,5),f&2){let x;e.\u0275\u0275queryRefresh(x=e.\u0275\u0275loadQuery())&&(b.menuTrigger=x.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:7,consts:[["comboboxView",""],["menu",""],[3,"ngClass"],[4,"ngIf","ngIfElse"],["class","crt-lookup-quick-filter-value-container",4,"ngIf"],["displayType","text","size","small","iconSize","large",3,"onMenuOpen","onMenuClose","ngClass","caption","title","icon","iconPosition","crtMenuTriggerFor","tabIndex"],["panelClass","crt-lookup-quick-filter-menu-panel",3,"items"],["displayType","text","size","small","iconSize","large",3,"ngClass","caption","title","icon","iconPosition","clicked",4,"ngIf"],["class","crt-lookup-quick-filter-combobox-container",4,"ngIf"],["displayType","text","size","small","iconSize","large",3,"clicked","ngClass","caption","title","icon","iconPosition"],[1,"crt-lookup-quick-filter-combobox-container"],[3,"viewElementShow","crtViewElement"],[1,"crt-lookup-quick-filter-value-container"],[3,"itemClick","itemRemove","items","wrap","ariaLabel"]],template:function(f,b){if(f&1&&(e.\u0275\u0275elementStart(0,"div",2),e.\u0275\u0275template(1,k,5,13,"ng-container",3)(2,W,2,2,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)(4,R,2,3,"div",4),e.\u0275\u0275elementEnd()),f&2){const x=e.\u0275\u0275reference(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(4,r,b.isOverlayOpened,b.isRightIconPosition)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",b.config==null?null:b.config.showRecordsInWindows)("ngIfElse",x),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",b.checkedValueItems.length>0)}},dependencies:[D.NgClass,D.NgIf,I.H,a.B,o.B,n.IK,s.O],styles:[".crt-lookup-quick-filter-menu-trigger[_ngcontent-%COMP%]{min-height:28px;display:flex;flex-direction:row;align-items:center;gap:4px}.crt-lookup-quick-filter-menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--icons-size: 16px;display:flex;width:var(--icons-size);height:var(--icons-size);min-width:var(--icons-size);min-height:var(--icons-size)}.crt-lookup-quick-filter-menu-trigger.crt-lookup-quick-filter-reverse-container[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:flex-end}.crt-lookup-quick-filter-menu-trigger.crt-lookup-quick-filter-reverse-container[_ngcontent-%COMP%]   .crt-lookup-quick-filter-window-button-wrap.crt-lookup-quick-filter-window-button-wrap-hidden[_ngcontent-%COMP%]{margin-inline-start:-4px}.crt-lookup-quick-filter-menu-trigger.crt-lookup-quick-filter-menu-opened[_ngcontent-%COMP%]   .crt-lookup-quick-filter-combobox-container[_ngcontent-%COMP%]{display:unset}.crt-lookup-quick-filter-menu-trigger[_ngcontent-%COMP%]   .crt-lookup-quick-filter-window-button-wrap[_ngcontent-%COMP%]{display:flex;align-items:center}.crt-lookup-quick-filter-menu-trigger[_ngcontent-%COMP%]   .crt-lookup-quick-filter-window-button-wrap.crt-lookup-quick-filter-window-button-wrap-hidden[_ngcontent-%COMP%]{margin-inline-end:-4px}.crt-lookup-quick-filter-menu-trigger[_ngcontent-%COMP%]   .crt-lookup-quick-filter-combobox-container[_ngcontent-%COMP%]{display:none;margin-top:4px}.crt-lookup-quick-filter-menu-trigger[_ngcontent-%COMP%]   .crt-lookup-quick-filter-combobox-container[_ngcontent-%COMP%]     crt-combobox .crt-input{min-height:unset;padding:unset}.crt-lookup-quick-filter-menu-trigger[_ngcontent-%COMP%]   .crt-lookup-quick-filter-combobox-container[_ngcontent-%COMP%]     crt-combobox .crt-input .crt-input-label-container{display:none}.crt-lookup-quick-filter-menu-trigger[_ngcontent-%COMP%]   .crt-lookup-quick-filter-value-container[_ngcontent-%COMP%]{overflow:hidden}.crt-lookup-quick-filter-menu-trigger[_ngcontent-%COMP%]   .crt-lookup-quick-filter-value-container[_ngcontent-%COMP%]   .crt-lookup-quick-filter-caption-text[_ngcontent-%COMP%]{max-width:250px}"],changeDetection:0})}}},40976:(F,E,t)=>{t.d(E,{v:()=>c});var e=t(5960),u=t(40297),i=t(52989),M=t(55642),m=t(31149),y=t(25063),s=t(80567),g=t(75909),O=t(24091),l=t(44267),d=t(96176),C=t(77592),D=t(1034),A=t(96677),I=t(59131),a=t(82519);let o=class Q{containerClick(){this.checkedState=!this.checkedState,this.checkedStateChange({checkedState:this.checkedState,value:this.value})}static{this.\u0275fac=function(L){return new(L||Q)}}static{this.\u0275cmp=I.\u0275\u0275defineComponent({type:Q,selectors:[["crt-lookup-quick-filter-menu-item"]],inputs:{value:"value",displayValue:"displayValue",checkedState:"checkedState",checkedStateChange:"checkedStateChange"},decls:2,vars:3,consts:[[1,"crt-lookup-quick-filter-menu-item",3,"click"],["labelPosition","right",3,"value","label","multilineLabel"]],template:function(L,B){L&1&&(I.\u0275\u0275elementStart(0,"div",0),I.\u0275\u0275listener("click",function(){return B.containerClick()}),I.\u0275\u0275element(1,"crt-checkbox",1),I.\u0275\u0275elementEnd()),L&2&&(I.\u0275\u0275advance(),I.\u0275\u0275property("value",B.checkedState)("label",B.displayValue)("multilineLabel",!1))},dependencies:[a.U],styles:["[_nghost-%COMP%]{display:block;padding:0 8px}.crt-lookup-quick-filter-menu-item[_ngcontent-%COMP%]{padding:1px 11px;border-radius:4px;cursor:pointer}.crt-lookup-quick-filter-menu-item[_ngcontent-%COMP%]     .crt-checkbox-container{padding-top:0;padding-bottom:5px}.crt-lookup-quick-filter-menu-item[_ngcontent-%COMP%]     .crt-checkbox-container .mat-checkbox{width:100%}"],changeDetection:0})}};(0,e.__decorate)([(0,C.k)(),(0,e.__metadata)("design:type",String)],o.prototype,"value",void 0),(0,e.__decorate)([(0,C.k)(),(0,e.__metadata)("design:type",String)],o.prototype,"displayValue",void 0),(0,e.__decorate)([(0,C.k)(),(0,e.__metadata)("design:type",Boolean)],o.prototype,"checkedState",void 0),(0,e.__decorate)([(0,C.k)(),(0,e.__metadata)("design:type",Function)],o.prototype,"checkedStateChange",void 0),o=(0,e.__decorate)([(0,D.v)({type:"crt.LookupQuickFilterMenuItem",reuseStrategy:A.B.Reuse})],o);var n=t(99668),r=t(53520);let c=class N{static{this.\u0275fac=function(L){return new(L||N)}}static{this.\u0275mod=I.\u0275\u0275defineNgModule({type:N})}static{this.\u0275inj=I.\u0275\u0275defineInjector({providers:[r.W],imports:[u.CommonModule,i.MatIconModule,d.c,m.q,y.D,s.w,g.r,O.S,l.D]})}};c=(0,e.__decorate)([(0,M.g)({viewElements:[o],includes:[g.r]})],c),function(){(typeof ngJitMode>"u"||ngJitMode)&&I.\u0275\u0275setNgModuleScope(c,{declarations:[n.M,o],imports:[u.CommonModule,i.MatIconModule,d.c,m.q,y.D,s.w,g.r,O.S,l.D],exports:[n.M]})}()},53520:(F,E,t)=>{t.d(E,{W:()=>a});var e=t(73308),u=t(40269),i=t(65288),M=t(41108),m=t(56267),y=t(58504),s=t(83760),g=t(28399),O=t.n(g),l=t(62278),d=t.n(l),C=t(86920),D=t(59131),A=t.n(D),I=t(16319);class a{static{this._loadedValuesByEntitySchema=new Map}constructor(n){this._dataSchemaRepositoryService=n}_getActualLookupQuickFilterValue(n,r){var c=this;return(0,e.A)(function*(){const _=yield c._getSchema(n),k=r.map(B=>B.value);return(yield c._loadData(_,k)).map(B=>c._createLookupValueFromEntity(B,_.primaryAttributeName,_.primaryDisplayAttributeName))})()}_getSchema(n){return(0,l.lastValueFrom)(this._dataSchemaRepositoryService.get(n))}_loadData(n,r){var c=this;return(0,e.A)(function*(){return(yield u.K.create(n.name)).load({attributes:[n.primaryAttributeName,n.primaryDisplayAttributeName],parameters:[{type:i.E.Filter,value:c._createFilterGroupForPrimaryValues(r,n.primaryAttributeName)}]})})()}_createFilterGroupForPrimaryValues(n,r){const c=new M.X(m.H.Or);return n.forEach(_=>c.addSchemaColumnFilterWithParameter(y.H.Equal,r,_)),c}_createLookupValueFromEntity(n,r,c){return{value:n[r],displayValue:n[c]}}_mapToActualValueItems(n,r){const c=n.find(_=>_.value===r.value);return c?{...r,displayValue:c.displayValue}:null}getActualData(n,r){var c=this;return(0,e.A)(function*(){if(!r.entitySchemaName)return Promise.resolve([]);let _=r.entitySchemaName;_=_===C.y?s.PU:_;const k=a._loadedValuesByEntitySchema.get(_)||[],L=n.filter(B=>!k.some(W=>W.value===B.value));return(0,g.isEmpty)(L)||(k.push(...yield c._getActualLookupQuickFilterValue(_,L)),a._loadedValuesByEntitySchema.set(_,k)),n.map(B=>c._mapToActualValueItems(k,B)).filter(Boolean)})()}static{this.\u0275fac=function(r){return new(r||a)(D.\u0275\u0275inject(I.J))}}static{this.\u0275prov=D.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac})}}},13622:(F,E,t)=>{t.d(E,{c:()=>W});var e=t(5960),u=t.n(e),i=t(59131),M=t.n(i),m=t(77592),y=t(34760),s=t(1034),g=t(96677),O=t(75456),l=t(10098),d=t(68712),C=t(62278),D=t.n(C),A=t(38160),I=t(9708),a=t(23336),o=t(99668),n=t(40297),r=t.n(n),c=t(79111),_=t(79772),k=t.n(_);const L=["quickFilter"];function B(R,v){R&1&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"crt-label",2),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),R&2&&(i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,1,"QuickFilter.MainTitle")," "))}let W=class K extends d.K{constructor(){super(...arguments),this._value=void 0,this._config=void 0,this.valueChange=new i.EventEmitter}get isFilterComponentInitialized(){return!!this._filterComponentRef?.instance}set filterType(v){v&&(this._destroyFilterComponent(),this._initializeFilterByType(v))}set value(v){v!==this._value&&(this._value=v,this._setFilterComponentValueProperty())}get value(){return this._value}set config(v){this._config=v,this._setFilterComponentConfigProperty()}_initializeFilterByType(v){this._initializeFilterComponentRefByType(v),this._setFilterComponentValueProperty(),this._setFilterComponentConfigProperty(),this._initializeFilterComponentSubscription()}_initializeFilterComponentRefByType(v){const h=this._getFilterComponentClassByType(v);this._filterComponentRef=this._generateFilterComponentRef(h)}_getFilterComponentClassByType(v){switch(v){case A.U.Custom:return I.r;case A.U.DateRange:return a.t;case A.U.Lookup:return o.M;default:throw new Error(`Unsupported type, ${v}`)}}_generateFilterComponentRef(v){return this._clearFilterViewContainerRef(),this.filterViewContainerRef.createComponent(v)}_setFilterComponentValueProperty(){if(this._value===void 0)return;const v=this._getFilterComponentInstance();v&&(v.value=this._value)}_setFilterComponentConfigProperty(){if(this._config===void 0)return;const v=this._getFilterComponentInstance();v&&(v.config=this._config)}_getFilterComponentInstance(){return this._filterComponentRef?.instance}_initializeFilterComponentSubscription(){const v=this._getFilterComponentInstance();v&&(this._filterSubscription$?.unsubscribe(),this._filterSubscription$=new C.Subscription,this._filterSubscription$.add(v.valueChange.subscribe(h=>this._emitValueChange(h))))}_emitValueChange(v){this.value=v,this.valueChange.emit(v)}_destroyFilterComponent(){this._destroyFilterComponentRef(),this._clearFilterViewContainerRef(),this._unsubscribeFilterSubscription()}_destroyFilterComponentRef(){this._filterComponentRef&&(this._filterComponentRef.destroy(),this._filterComponentRef=null)}_clearFilterViewContainerRef(){this.filterViewContainerRef.clear()}_unsubscribeFilterSubscription(){this._filterSubscription$?.unsubscribe()}ngOnDestroy(){this._destroyFilterComponent()}static{this.\u0275fac=(()=>{let v;return function(p){return(v||(v=i.\u0275\u0275getInheritedFactory(K)))(p||K)}})()}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:K,selectors:[["crt-quick-filter"]],viewQuery:function(h,p){if(h&1&&i.\u0275\u0275viewQuery(L,7,i.ViewContainerRef),h&2){let f;i.\u0275\u0275queryRefresh(f=i.\u0275\u0275loadQuery())&&(p.filterViewContainerRef=f.first)}},inputs:{filterType:"filterType",value:"value",config:"config"},outputs:{valueChange:"valueChange"},features:[i.\u0275\u0275InheritDefinitionFeature],decls:3,vars:1,consts:[["quickFilter",""],[4,"ngIf"],["labelType","caption","labelEllipsis","true",1,"crt-quick-filter-title"]],template:function(h,p){h&1&&(i.\u0275\u0275elementContainer(0,null,0),i.\u0275\u0275template(2,B,4,3,"ng-container",1)),h&2&&(i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",!p.isFilterComponentInitialized))},dependencies:[n.NgIf,c.V,_.TranslatePipe],styles:["[_nghost-%COMP%]{padding:0 2px}"],changeDetection:0})}};(0,e.__decorate)([(0,m.k)(),(0,e.__metadata)("design:type",String),(0,e.__metadata)("design:paramtypes",[String])],W.prototype,"filterType",null),(0,e.__decorate)([(0,m.k)(),(0,e.__metadata)("design:type",Object),(0,e.__metadata)("design:paramtypes",[Object])],W.prototype,"value",null),(0,e.__decorate)([(0,m.k)(),(0,e.__metadata)("design:type",Object),(0,e.__metadata)("design:paramtypes",[Object])],W.prototype,"config",null),(0,e.__decorate)([(0,y.j)(),(0,e.__metadata)("design:type",Object)],W.prototype,"valueChange",void 0),W=(0,e.__decorate)([(0,s.v)({type:"crt.QuickFilter",reuseStrategy:g.B.Reuse}),(0,O.f)({toolbarConfig:{position:170,icon:t(47924),defaultPropertyValues:{config:{caption:""}},defaultLocalizableStrings:{config:{caption:"Components.QuickFilter.Caption"}}},designViewItemCommands:{create:"crt.AddQuickFilterViewItemCommand",update:"crt.ChangeFilterViewItemCommand",delete:"crt.RemoveFilterViewItemCommand",copy:"crt.CopyQuickFilterViewItemCommand"},propertiesPanelComponentTypeName:"crt.QuickFilterPropertiesPanel",viewElementGroupType:l.J.Components,typeCaption:"Components.QuickFilter.Caption",placeholderSize:{height:"16px"}})],W)},86920:(F,E,t)=>{t.d(E,{G:()=>e,y:()=>u});const e="Tag_Virtual_Column",u="Tag_Virtual_Schema"},97368:(F,E,t)=>{t.d(E,{_:()=>m});var e=t(5960),u=t.n(e),i=t(4164),M=t(67772);let m=class{convert(s,g,O){if(s==null)return null;const l={value:s,target:O.target,componentConfig:O.config};return M.U.create(O.quickFilterType,l,g)}};m=(0,e.__decorate)([(0,i.a)({type:"crt.QuickFilterAttributeConverter"})],m)},38160:(F,E,t)=>{t.d(E,{U:()=>e});var e;(function(u){u.Custom="custom",u.DateRange="date-range",u.Lookup="lookup"})(e||(e={}))},67772:(F,E,t)=>{t.d(E,{U:()=>A});var e=t(41108),u=t(50237),i=t(6530),M=t(58504),m=t(78240),y=t(28399);class s{constructor(){this._customFilterKey="customFilters",this._dependencyFilterKey="dependencyFilters"}_isNeedUseCustomFilter(a,o,n){const r=this._getFilterValue(a),c=this._getApproachStateFromConfig(n);return r===c&&(!!o?.customFilter||!!o?.dependencyFilters?.length)}_getFilterValue(a){return!(0,y.isBoolean)(a)&&a?.length>0?a[0]:a}_getApproachStateFromConfig(a){return"approachState"in a?a.approachState:!0}_addCustomFilterIfNeed(a,o){if(!a.customFilter)return;const n=(0,m.classToPlain)(a.customFilter,{exposeUnsetFields:!1,excludePrefixes:["_"]}),r=e.X.fromJson(n,u.b);o.add(r,this._customFilterKey)}_addDependencyFilterIfNeed(a,o,n){const r=this._getDependencyFilters(a,n);!r||r.filters?.size===0||o.add(r,this._dependencyFilterKey)}_getDependencyFilters(a,o){if(!a.dependencyFilters||!o?.attributes)return;const n=new e.X;return a.dependencyFilters.filter(r=>r.attributeName&&r.attributePath).forEach(r=>this._addDependencyFilterToFilterGroup(r,o,n)),n}_addDependencyFilterToFilterGroup(a,o,n){const r=o.attributes[a.attributeName],c=(0,i.n7)(r)?r:r?.value;c&&n.addSchemaColumnFilterWithParameter(M.H.Equal,a.attributePath,c,a.attributeName)}create(a,o,n,r){if(!this._isNeedUseCustomFilter(a,o,n))return null;const c=new e.X;return this._addCustomFilterIfNeed(o,c),this._addDependencyFilterIfNeed(o,c,r),c.filters?.size>0?c:null}}var g=t(56267),O=t(59131);class l{_convertToDateValue(a){if(!a)return;const o=new Date(a);return isFinite(o.getTime())?o:void 0}_createSchemaColumnFilterByBothDateValue(a,o,n,r){const c=new e.X(g.H.Or);return a===n?(c.addSchemaColumnBetweenFilterWithParameters(a,o,r),c):(c.add(this._createFilterWithStartToEndValue(a,o,n,r)),c.add(this._createFilterWithStartToNullValue(a,n,r)),c.add(this._createFilterWithNullToEndValueRecords(a,o,n)),c)}_createFilterWithStartToEndValue(a,o,n,r){const c=new e.X(g.H.And);return c.addSchemaColumnFilterWithParameter(M.H.Less_or_equal,a,r),c.addSchemaColumnFilterWithParameter(M.H.Greater_or_equal,n,o),c}_createFilterWithStartToNullValue(a,o,n){const r=new e.X(g.H.And);return r.addSchemaColumnIsNullFilter(o),r.addSchemaColumnFilterWithParameter(M.H.Less_or_equal,a,n),r}_createFilterWithNullToEndValueRecords(a,o,n){const r=new e.X(g.H.And);return r.addSchemaColumnIsNullFilter(a),r.addSchemaColumnFilterWithParameter(M.H.Greater_or_equal,n,o),r}_createSchemaColumnFilterByOneDateValue(a,o,n,r){return o?this._createFilterByLessValue(a,o,n):r?this._createFilterByGreaterValue(a,n,r):new e.X}_createFilterByLessValue(a,o,n){const r=new e.X(g.H.Or);return r.addSchemaColumnFilterWithParameter(M.H.Greater_or_equal,n,o),a!==n&&r.add(this._createFilterWithOnlyLessValueRecords(a,n)),r}_createFilterWithOnlyLessValueRecords(a,o){const n=new e.X(g.H.And);return n.addSchemaColumnIsNotNullFilter(a),n.addSchemaColumnIsNullFilter(o),n}_createFilterByGreaterValue(a,o,n){const r=new e.X(g.H.Or);return r.addSchemaColumnFilterWithParameter(M.H.Less_or_equal,a,n),a!==o&&r.add(this._createFilterWithOnlyGreaterValueRecords(a,o)),r}_createFilterWithOnlyGreaterValueRecords(a,o){const n=new e.X(g.H.And);return n.addSchemaColumnIsNotNullFilter(o),n.addSchemaColumnIsNullFilter(a),n}create(a,o){const n=o.filterColumn||o.filterColumnStart,r=o.filterColumn||o.filterColumnEnd;if(!n||!r||!a||typeof a=="string")return null;const c=this._convertToDateValue(a.start),_=this._convertToDateValue(a.end);return c&&_?this._createSchemaColumnFilterByBothDateValue(n,c,r,_):this._createSchemaColumnFilterByOneDateValue(n,c,r,_)}static{this.\u0275fac=function(o){return new(o||l)}}static{this.\u0275prov=O.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac})}}var d=t(86920);class C{constructor(){this._virtualTagFilterColumnPath="[TagInRecord:RecordId:Id].Tag"}_getFilterColumn(a){const o=a.filterColumn;return o===d.G?this._virtualTagFilterColumnPath:o}create(a,o){if((0,y.isEmpty)(o.filterColumn))return null;const n=a.filter(_=>_.checkedState);if(!n.length)return null;const r=new e.X(g.H.Or),c=this._getFilterColumn(o);for(const _ of n)r.addSchemaColumnFilterWithParameter(M.H.Equal,c,_.value);return r}}var D=t(38160);class A{static _getCreatorByType(a){switch(a){case D.U.Custom:return new s;case D.U.DateRange:return new l;case D.U.Lookup:return new C;default:throw new Error(`Unsupported type, ${a}`)}}static create(a,o,n){return this._getCreatorByType(a).create(o.value,o.target,o.componentConfig,n)}}},14746:(F,E,t)=>{t.d(E,{U:()=>d});var e=t(73308),u=t(5960),i=t.n(u),M=t(41287),m=t(844),y=t(13111),s=t(28399),g=t.n(s),O=t(62278),l=t.n(O);let d=class extends M.l{constructor(D){super(),this._schemaPartsService=D}_saveToProfile(D,A){var I=this;return(0,e.A)(function*(){(0,s.isEmpty)(D)||(yield I._schemaPartsService.apply(function(){var a=(0,e.A)(function*([o]){yield o.setViewModelAttribute(D,A)});return function(o){return a.apply(this,arguments)}}()),yield I._schemaPartsService.commit())})()}handle(D){var A=this;return(0,e.A)(function*(){const I=D.$context;return yield A._saveToProfile(D.valueAttributeName,{value:D.value}),(0,O.lastValueFrom)(I.setValue({[D.valueAttributeName]:D.value}))})()}};d=(0,u.__decorate)([(0,m.l)({requestType:"crt.QuickFilterRequest",type:"crt.QuickFilterHandler"}),(0,u.__metadata)("design:paramtypes",[y.N])],d)},19126:(F,E,t)=>{t.d(E,{b:()=>s});var e=t(73308),u=t(74368),i=t(91070),M=t(59131),m=t.n(M),y=t(72782);class s extends i.R{constructor(O){super(),this._quickFilterPreprocessorService=O}_getQuickFilterViewConfigs(O){return u.u.getViewConfigInfoByProperty("type","crt.QuickFilter",O.viewConfig).map(l=>l?.viewConfig).filter(Boolean)}crtOnMetaDataInit(O){var l=this;return(0,e.A)(function*(){const d=O,C=l._getQuickFilterViewConfigs(d);return yield Promise.all(C.map(function(){var D=(0,e.A)(function*(A){yield l._quickFilterPreprocessorService.crtOnMetaDataInit(A,O)});return function(A){return D.apply(this,arguments)}}())),Promise.resolve(O)})()}static{this.\u0275fac=function(l){return new(l||s)(M.\u0275\u0275inject(y.S))}}static{this.\u0275prov=M.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac})}}},69431:(F,E,t)=>{t.d(E,{j:()=>e});class e{constructor(i){this.injector=i,this.isNewStructure=M=>!!M._filterOptions,this.initializeDependencies()}initializeDependencies(){}crtOnMetaDataInit(i,M){return Promise.resolve(M)}}},48942:(F,E,t)=>{t.d(E,{v:()=>u});var e=t(69431);class u extends e.j{_getDependencyFilterConfigsFromViewConfig(M){const m=M._filterOptions.expose?.map(s=>s.converters),y=[];return m?.forEach(s=>{s?.forEach(g=>this._addDependencyFilterConfigsFromConverterConfig(g,y))}),y}_addDependencyFilterConfigsFromConverterConfig(M,m){M?.args?.map(g=>g.target)?.map(g=>{const O=g.dependencyFilters?.filter(l=>l.attributeName);O?.length>0&&m.push(...O)})}_createAttributesForDependencyFilterConfigs(M,m){this._getDependencyFilterConfigsFromViewConfig(M).forEach(s=>this._createViewModelAttributeIfNeed(s,m))}_createViewModelAttributeIfNeed(M,m){m[M.attributeName]||(m[M.attributeName]={modelConfig:{path:M.relationPath}})}crtOnMetaDataInit(M,m){if(!this.isNewStructure(M))return Promise.resolve(m);const y=m;y.viewModelConfig.attributes??={};const s=y.viewModelConfig.attributes;return this._createAttributesForDependencyFilterConfigs(M,s),Promise.resolve(m)}}},98778:(F,E,t)=>{t.d(E,{O:()=>I});var e=t(59131),u=t(48942),i=t(73308),M=t(41108),m=t(50237),y=t(79772),s=t(83760),g=t(39447),O=t(27077),l=t(74368),d=t(69431),C=t(86920);class D extends d.j{constructor(o){super(o),this.injector=o}_isAllowToSetupComboboxViewConfig(o){const n=o.config;return!this._isShowRecordsInWindows(o)&&!("comboboxViewElementConfig"in n)&&!!n.entitySchemaName}_isShowRecordsInWindows(o){return o.config.showRecordsInWindows}_getEntitySchemaName(o){const n=o.entitySchemaName;return n===C.y?s.PU:n}_getComboboxFilter(o,n,r){const c=new M.X;return this._addTagSchemaNameComboboxFilterIfNeed(c,o,n,r),this._addRecordsComboboxFilterIfNeed(c,o),c.toJson()}_addTagSchemaNameComboboxFilterIfNeed(o,n,r,c){if(n.entitySchemaName===C.y){const k=this._getBindedListsEntitySchemaNames(r,c);k.length&&o.add((0,g.T)(k),"TagFilter")}}_addRecordsComboboxFilterIfNeed(o,n){const r=n.recordsFilter;if(r){const c=M.X.fromJson(r,m.b);o.add(c,"RecordsFilter")}}_getBindedListsEntitySchemaNames(o,n){const r=[];return this._getBindedViewAttributeNames(o).forEach(_=>{const k=this._getDataSourceEntitySchemaNameByViewAttribute(_,n);k&&r.push(k)}),[...new Set(r)]}_getBindedViewAttributeNames(o){const n=[];return o._filterOptions?.expose?.forEach(r=>{r.converters?.forEach(c=>{c.args?.forEach(_=>{const k=_.target?.viewAttributeName;k&&n.push(k)})})}),[...new Set(n)]}_getDataSourceEntitySchemaNameByViewAttribute(o,n){const c=(l.u.getViewModelAttribute(n,o)||{}).modelConfig?.path||"";return(n.modelConfig?.dataSources||{})[c]?.config?.entitySchemaName}_initializeComboboxViewConfig(o,n){var r=this;return(0,i.A)(function*(){const c={name:`${o.name}_ComboBox`},k=n.viewModelConfig.attributes,L=o.config;return yield r._comboboxPreprocessorService.setupComboboxMetadataByEntitySchema(c,k,r._getEntitySchemaName(L),r._getComboboxFilter(L,o,n)),c})()}_setComboboxViewConfig(o,n){const r=o.config;r.comboboxViewElementConfig={type:"crt.ComboBox",labelPosition:"hidden",useMultiChoice:!0,ariaLabel:this._getComboboxAriaLabel(r),...n}}_getComboboxAriaLabel(o){return o.caption||this._translateService.instant("QuickFilter.MainTitle")}initializeDependencies(){super.initializeDependencies(),this._comboboxPreprocessorService=this.injector.get(O.S),this._translateService=this.injector.get(y.TranslateService)}crtOnMetaDataInit(o,n){var r=this;return(0,i.A)(function*(){if(!r._isAllowToSetupComboboxViewConfig(o))return Promise.resolve(n);const c=yield r._initializeComboboxViewConfig(o,n);return r._setComboboxViewConfig(o,c),Promise.resolve(n)})()}}var A=t(38160);class I{constructor(o){this._injector=o}_getQuickFilterAdditionalPreprocessingService(o){switch(o){case A.U.Custom:return new u.v(this._injector);case A.U.Lookup:return new D(this._injector);default:return null}}crtOnMetaDataInit(o,n){return this._getQuickFilterAdditionalPreprocessingService(o.filterType)?.crtOnMetaDataInit(o,n)||Promise.resolve(n)}static{this.\u0275fac=function(n){return new(n||I)(e.\u0275\u0275inject(e.Injector))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac})}}},72782:(F,E,t)=>{t.d(E,{S:()=>g});var e=t(73308),u=t(91070),i=t(38160),M=t(59131),m=t.n(M),y=t(15267),s=t(98778);class g extends u.R{constructor(l,d){super(),this._quickFilterValueAttributeUpdater=l,this._quickFilterAdditionalPreprocessingService=d,this._isTargetExists=C=>!!C.targets?.length}_setValueAttribute(l,d){const C=d?.config;if("value"in d||!C)return;const D=this._getQuickFilterValueAttributeName(d.name);d.value=`$${D}`;const A="defaultValue"in d.config?d.config.defaultValue:null;this._createValueAttributeIfNeed(l,D,A)}_createValueAttributeIfNeed(l,d,C){const D=l.viewModelConfig.attributes;this.createAttributeIfNeed(D,d,{value:C})}_updateValueAttribute(l,d){const C=this._getQuickFilterValueAttributeName(d.name);return this._quickFilterValueAttributeUpdater.update(d,l,C)}_setFilterAttribute(l,d){this.isNewStructure(d)||!this._isTargetExists(d)||d.targets?.forEach(C=>{this._setFilterConverterAttribute(l,d,C),this.setFilterAttribute(l,d.name,C.viewAttributeName),C.filterAttributeName=this.getFilterAttributeName(d.name,C.viewAttributeName)})}_setFilterConverterAttribute(l,d,C){const D=l.viewModelConfig.attributes,A=this.getFilterAttributeName(d.name,C.viewAttributeName),I=`${A}_Target`,a={from:this._getQuickFilterValueAttributeName(d.name),converter:`crt.QuickFilterAttributeConverter: $${I}`};this.createAttributeIfNeed(D,I,{value:this._createQuickFilterConverterParameters(C,d)}),this.createAttributeIfNeed(D,A,a)}_createQuickFilterConverterParameters(l,d){const C={target:l,quickFilterType:d.filterType};return this._allowAddConfigToConverterParameters(d)&&(C.config=d.config),C}_allowAddConfigToConverterParameters(l){return l.filterType===i.U.Custom}_setValueChangeRequest(l){if(l.valueChange||!l.filterType)return;const d=this._getQuickFilterValueAttributeName(l.name);l.valueChange={request:"crt.QuickFilterRequest",params:{valueAttributeName:d,value:"@event"}}}_getQuickFilterValueAttributeName(l){return`${l}_Value`}crtOnMetaDataInit(l,d){var C=this;return(0,e.A)(function*(){const D=d;return C._setValueAttribute(D,l),yield C._updateValueAttribute(D,l),C._setFilterAttribute(D,l),C._setValueChangeRequest(l),yield C._quickFilterAdditionalPreprocessingService.crtOnMetaDataInit(l,d),Promise.resolve(d)})()}static{this.\u0275fac=function(d){return new(d||g)(M.\u0275\u0275inject(y.J),M.\u0275\u0275inject(s.O))}}static{this.\u0275prov=M.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac})}}},15267:(F,E,t)=>{t.d(E,{J:()=>A});var e=t(59131),u=t(28399),i=t(73308);class M{constructor(a){this.injector=a,this.initializeDependencies()}_getViewConfigDefaultValue(a){return"defaultValue"in(a?.config||{})?a.config.defaultValue:null}initializeDependencies(){}getAttributeValue(a,o){return this.getViewModelConfigAttributes(a)[o]?.value??null}setAttributeValue(a,o,n){const r=this.getViewModelConfigAttributes(a);r[o]={value:n}}getViewModelConfigAttributes(a){return a.viewModelConfig.attributes}isNullableValue(a){return a==null||a===""}isValidAttributeValue(a,o){return!0}update(a,o,n){var r=this;return(0,i.A)(function*(){let c=r.getAttributeValue(o,n);if((!r.isValidAttributeValueFormat(c)||!r.isValidAttributeValue(a?.config,c))&&(c=r._getViewConfigDefaultValue(a),r.setAttributeValue(o,n,c)),r.isNotNeedUpdateValue(c))return;const _=yield r.createNewAttributeValue(a,c);r.setAttributeValue(o,n,_)})()}}class m extends M{isValidAttributeValueFormat(a){return this.isNullableValue(a)||(0,u.isBoolean)(a)}isNotNeedUpdateValue(a){return this.isNullableValue(a)}createNewAttributeValue(a,o){return Promise.resolve(o)}}var y=t(71514);class s extends M{_createDateRangeQuickFilterValue(a){return this._dateRangeMacrosConverter.convert(a)}_isQuickFilterDateRangeValue(a){return"start"in a&&"end"in a||"macros"in a}_isMacrosEnum(a){return typeof a=="string"}initializeDependencies(){super.initializeDependencies(),this._dateRangeMacrosConverter=this.injector.get(y.j)}isValidAttributeValueFormat(a){return this.isNullableValue(a)||(0,u.isString)(a)||(0,u.isObject)(a)&&this._isQuickFilterDateRangeValue(a)}isNotNeedUpdateValue(a){return this.isNullableValue(a)||(0,u.isEmpty)(a)||!this._isMacrosEnum(a)&&!a.macros}createNewAttributeValue(a,o){const n=this._isMacrosEnum(o)?o:o.macros;return Promise.resolve(this._createDateRangeQuickFilterValue(n))}}var g=t(6530),O=t(23092),l=t(28986),d=t(53520);class C extends M{_createLookupQuickFilterValue(a,o){var n=this;return(0,i.A)(function*(){const r=o.filter(_=>n._isMacrosValueItem(_)),c=o.filter(_=>!n._isMacrosValueItem(_));return[...n._createMacrosLookupQuickFilterValue(r),...yield n._createNotMacrosLookupQuickFilterValue(c,a)]})()}_isMacrosValueItem(a){return Object.values(l.k).includes(this._getValueFromValueItem(a))}_createMacrosLookupQuickFilterValue(a){return a.map(o=>this._createMacrosLookupQuickFilterValueItem(o)).filter(Boolean)}_createMacrosLookupQuickFilterValueItem(a){switch(this._getValueFromValueItem(a)){case l.k.CurrentUserContact:return this._createLookupQuickFilterValueItemFromPreviousItem(a,this._userInfo.contactId,this._userInfo.contactName);case l.k.CurrentUserAccount:return this._createLookupQuickFilterValueItemFromPreviousItem(a,this._userInfo.accountId,this._userInfo.accountName);default:return null}}_createNotMacrosLookupQuickFilterValue(a,o){var n=this;return(0,i.A)(function*(){return(0,u.isEmpty)(a)?Promise.resolve([]):(yield n._lookupQuickFilterValueRepository.getActualData(a,o)).map(r=>n._mapActualValueItem(a,r)).filter(Boolean)})()}_mapActualValueItem(a,o){const n=a.find(r=>r.value===o.value);return n?this._createLookupQuickFilterValueItemFromPreviousItem(n,o.value,o.displayValue):null}_createLookupQuickFilterValueItemFromPreviousItem(a,o,n){return!this._isValidValue(o)||(0,u.isEmpty)(n)?null:{...a,value:o,displayValue:n,originalValue:this._getValueFromValueItem(a),checkedState:"checkedState"in a?a.checkedState:!1}}_getValueFromValueItem(a){return"originalValue"in a?a.originalValue:a.value}_isValidValue(a){return(0,g.n7)(a)&&!(0,g.gZ)(a)}_isValidLookupQuickFilterValueItem(a){return!!a&&("value"in a||"originalValue"in a)}_isValidMacrosAttributeValue(a,o){if(!o)return!1;if(!this._isMacrosValueItem(a))return!0;switch(this._getValueFromValueItem(a)){case l.k.CurrentUserContact:return o==="Contact";case l.k.CurrentUserAccount:return o==="Account";default:return!0}}initializeDependencies(){super.initializeDependencies(),this._userInfo=this.injector.get(O.oq),this._lookupQuickFilterValueRepository=this.injector.get(d.W)}isValidAttributeValueFormat(a){return this.isNullableValue(a)||Array.isArray(a)&&((0,u.isEmpty)(a)||a.every(o=>this._isValidLookupQuickFilterValueItem(o)))}isNotNeedUpdateValue(a){return this.isNullableValue(a)||(0,u.isEmpty)(a)}createNewAttributeValue(a,o){return this._createLookupQuickFilterValue(a.config,o)}isValidAttributeValue(a,o){return o?.every(n=>this._isValidMacrosAttributeValue(n,a?.entitySchemaName))}}var D=t(38160);class A{constructor(a){this._injector=a}_getQuickFilterValueAttributeUpdater(a){switch(a){case D.U.Lookup:return new C(this._injector);case D.U.DateRange:return new s(this._injector);case D.U.Custom:return new m(this._injector);default:return null}}update(a,o,n){return this._getQuickFilterValueAttributeUpdater(a.filterType)?.update(a,o,n)||Promise.resolve()}static{this.\u0275fac=function(o){return new(o||A)(e.\u0275\u0275inject(e.Injector))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac})}}},29091:(F,E,t)=>{t.d(E,{V:()=>h});var e=t(5960),u=t.n(e),i=t(40297),M=t.n(i),m=t(59445),y=t.n(m),s=t(55642),g=t(79772),O=t.n(g),l=t(24091),d=t(92074),C=t(12841),D=t(53520),A=t(29366),I=t(71514),a=t(18331),o=t(45048),n=t(40976),r=t(13622),c=t(97368),_=t(14746),k=t(98778),L=t(15267),B=t(72782),W=t(19126),R=t(59131),v=t.n(R);let h=class j{static{this.\u0275fac=function(b){return new(b||j)}}static{this.\u0275mod=R.\u0275\u0275defineNgModule({type:j})}static{this.\u0275inj=R.\u0275\u0275defineInjector({providers:[k.O,L.J,B.S,{provide:C.m,useClass:W.b,multi:!0},D.W,{provide:m.DateAdapter,useClass:d.j},A.C,I.j],imports:[a.Q,o.G,n.v,i.CommonModule,l.S,g.TranslateModule]})}};h=(0,e.__decorate)([(0,s.g)({viewElements:[r.c],converters:[c._],requestHandlers:[_.U],includes:[n.v]})],h),function(){(typeof ngJitMode>"u"||ngJitMode)&&R.\u0275\u0275setNgModuleScope(h,{declarations:[r.c],imports:[a.Q,o.G,n.v,i.CommonModule,l.S,g.TranslateModule],exports:[r.c]})}()},47924:F=>{F.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M28.2784 34.4069L17.3767 19.1634C16.4301 17.8398 17.3762 16 19.0035 16L45.5533 16C47.1806 16 48.1267 17.8398 47.1801 19.1634L36.2784 34.4069V45.3229C36.2784 46.7095 34.9018 47.6754 33.5979 47.2036L29.5979 45.7563C28.806 45.4698 28.2784 44.7178 28.2784 43.8756V34.4069Z" fill="#D1D1D1"/>
<circle cx="50" cy="18" r="12" fill="white"/>
<path d="M48.038 9.37384C48.1485 9.10143 48.402 8.9248 48.6825 8.9248H52.7335C53.3008 8.9248 53.6333 9.59952 53.308 10.0906L50.2947 14.6387C49.9694 15.1298 50.3019 15.8045 50.8692 15.8045H54.4722C55.0773 15.8045 55.3983 16.5598 54.9963 17.0376L46.7639 26.823C46.5525 27.0743 46.1711 26.8184 46.2965 26.5094L49.1035 19.5891C49.3018 19.1002 48.9624 18.5564 48.459 18.5564H45.3768C44.8734 18.5564 44.534 18.0125 44.7323 17.5236L48.038 9.37384Z" fill="#FF4013"/>
</svg>
`}}]);
